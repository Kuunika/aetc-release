"use strict";exports.id=6717,exports.ids=[6717],exports.modules={14020:(a,b,c)=>{c.d(b,{CF:()=>h,J$:()=>i,ec:()=>k,gw:()=>j,nu:()=>g});var d=c(30600),e=c(72124),f=c(21393);let g=()=>(0,e.n)({mutationFn:a=>{let b=a.role.map(a=>({name:a.id})),c={username:a.userName,password:a.password,person:{gender:"Male",age:47,birthdate:"1970-01-01T00:00:00.000+0100",birthdateEstimated:!1,dead:!1,deathDate:null,causeOfDeath:null,names:[{givenName:a.firstName,familyName:a.lastName}]},roles:b};return(0,d.kg)(c).then(a=>a.data)}}),h=()=>(0,f.I)({queryKey:["users"],queryFn:()=>(0,d.lo)().then(a=>a.data),refetchOnWindowFocus:!1,refetchOnMount:!1,refetchOnReconnect:!1}),i=a=>(0,f.I)({queryKey:["search",a],queryFn:()=>(0,d.OV)(a).then(a=>a.data),enabled:!1}),j=()=>(0,e.n)({mutationFn:a=>{let b={username:a.userName,roles:a.role.map(a=>({name:a.label})),password:a.password};return(0,d.TK)(a.userId,b).then(a=>a.data)}}),k=()=>(0,e.n)({mutationFn:a=>{let b={user:{current_password:a.password,password:a.newPassword}};return(0,d.f3)(a.userId,b).then(a=>a.data)}})},30600:(a,b,c)=>{c.d(b,{OV:()=>h,TK:()=>j,f3:()=>k,kg:()=>f,kl:()=>i,lo:()=>g});var d=c(70553);let e="/users",f=a=>(0,d.vt)(a,e),g=()=>(0,d.UK)(`${e}?paginate=false`),h=a=>(0,d.UK)(e+"?paginate=false&username="+a),i=a=>(0,d.HD)(a,e),j=(a,b)=>(0,d.hc)(a,b,e),k=(a,b)=>(0,d.yo)(a,e,b)},50549:(a,b,c)=>{c.d(b,{q:()=>u});var d=c(21124);c(38301);var e=c(91874),f=c(37896),g=c(9115),h=c(96335),i=c(4845),j=c(19143),k=c(30902),l=c(43312),m=c(48875),n=c(18168);let o=(0,n.Ay)(e.A)(({theme:a})=>({borderRadius:a.shape.borderRadius,overflow:"auto",maxHeight:"400px",minHeight:"95px",boxShadow:a.shadows[3],position:"relative"})),p=(0,n.Ay)(f.A)(({theme:a})=>({borderCollapse:"separate",borderSpacing:"0px 4px"})),q=(0,n.Ay)(g.A)(({theme:a})=>({fontWeight:500,padding:"12px 16px",borderBottom:"none",color:a.palette.text.primary,whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",maxWidth:"200px"})),r=(0,n.Ay)(q)(({theme:a})=>({fontSize:"0.9rem",fontWeight:"bold",backgroundColor:a.palette.background.default,textTransform:"uppercase"})),s=(0,n.Ay)(h.A)(({theme:a})=>({backgroundColor:"#fff",borderRadius:"8px",transition:"background 0.2s ease-in-out","&:hover":{backgroundColor:a.palette.grey[100]},boxShadow:a.shadows[1]})),t=(0,n.Ay)("div")(({theme:a})=>({display:"flex",justifyContent:"center",alignItems:"center",position:"absolute",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(255, 255, 255, 0.7)",zIndex:1})),u=({columns:a,data:b,actions:c=!1,getSelectedRow:e,loading:f=!1})=>(0,d.jsx)(o,{children:(0,d.jsxs)(p,{stickyHeader:!0,children:[(0,d.jsx)(i.A,{children:(0,d.jsxs)(h.A,{children:[a.map((a,b)=>(0,d.jsx)(r,{children:a.label},b)),c&&(0,d.jsx)(r,{children:"Actions"})]})}),(0,d.jsx)(j.A,{children:f?(0,d.jsx)(h.A,{children:(0,d.jsx)(g.A,{colSpan:a.length+ +!!c,children:(0,d.jsx)(t,{children:(0,d.jsx)(k.A,{})})})}):b.map((b,f)=>(0,d.jsxs)(s,{onClick:()=>e&&e(b),children:[a.map((a,c)=>(0,d.jsx)(l.A,{title:b[a.field],arrow:!0,children:(0,d.jsx)(q,{children:b[a.field]})},c)),c&&(0,d.jsxs)(q,{children:[(0,d.jsx)(m.default,{"aria-label":"edit",color:"primary",size:"small"}),(0,d.jsx)(m.default,{"aria-label":"delete",color:"secondary",size:"small"})]})]},f))})]})})},66717:(a,b,c)=>{c.d(b,{kn:()=>aM,ng:()=>a1,w8:()=>Y,_G:()=>an,ze:()=>ax,Q5:()=>aD,$q:()=>aE,mX:()=>aG,HN:()=>aX,CG:()=>_,FB:()=>ap,qG:()=>aA});var d=c(21124),e=c(80350),f=c(95745),g=c(66815),h=c(38301),i=c(48936),j=c(92454),k=c(81637),l=c(79515),m=c(10850),n=c(24390),o=c(90675),p=c(82283),q=c(95373),r=c(82081);let s={rhythm:{name:f.W.RHYTHM,label:"Rhythm"},shockEnergy:{name:f.W.SHOCK_ENERGY,label:"Shock Energy"},medication:{name:f.W.MEDICATION,label:"Medication"},dose:{name:f.W.MEDICATION_DOSE,label:"Dose"},route:{name:f.W.MEDICATION_ROUTE,label:"Route"},doseUnit:{name:f.W.MEDICATION_DOSE_UNIT,label:"Unit"},interventions:{name:f.W.INTERVENTION_LIST,label:"Interventions"},occurrences:{name:f.W.OCCURRENCES,label:"Occurrences (E.g., ROSC, Vomit)"},time:{name:f.W.TIME,label:"Time"},reversibleCauses:{name:f.W.REVERSIBLE_CAUSES,label:"Reversible Causes"},other:{name:f.W.OTHER,label:"Other Interventions"}},t=[{label:"PEA",id:f.W.PEA},{label:"VF",id:f.W.VF},{label:"VT",id:f.W.VT},{label:"Asys",id:f.W.ASYS}],u=["Milligrams (mg)","Micrograms (\xb5g)","Grams (g)","International Units (IU)","Milliliters (ml)","Millimoles (mmol)"],v=[{label:"IV Access",id:f.W.IV_ACCESS},{label:"Intubation",id:f.W.INTUBATION},{label:"POCUS",id:f.W.POCUS},{label:"ABG",id:f.W.ABG},{id:f.W.POSITIONING,label:"Positioning"},{id:f.W.C_SPINE_STABILIZATION,label:"C-Spine Stabilization"},{id:f.W.SUCTIONING,label:"Suctioning"},{id:f.W.FOREIGN_BODY_REMOVAL,label:"Foreign body removal"},{id:f.W.INSERTION_OF_GUEDEL,label:'Insertion of airway "Guedel"'},{id:f.W.OXYGEN_GIVEN,label:"Oxygen therapy"},{id:f.W.BAG_AND_MASK,label:"Bag and mask"},{id:f.W.INTERCOSTAL_DRAINAGE,label:"Intercostal drainage"},{id:f.W.INTAKE_FLUIDS,label:"Intake Fluids"},{id:f.W.HEMORRHAGE_CONTROL,label:"Hemorrhage control"},{id:f.W.BLOOD_SAMPLE,label:"Blood sample"},{id:f.W.CATHETER,label:"Catheter"},{id:f.W.TRANSFUSION,label:"Transfusion"},{id:f.W.NG_INSERTION,label:"NG Insertion"},{id:f.W.SUTURING,label:"Suturing"},{id:f.W.KEEP_WARM,label:"Keep warm"},{id:f.W.OTHER,label:"Other"}],w=[{label:"Intraosseous",id:f.W.INTRAOSSEOUS},{label:"Intravenous",id:f.W.INTRAVENOUS},{label:"Oral",id:f.W.ORAL},{label:"Intramuscular",id:f.W.INTRAMUSCULAR},{label:"Subcutaneous",id:f.W.SUBCUTANEOUS},{label:"Infiltration",id:f.W.INFILTRATION},{label:"Intrathecal",id:f.W.INTRATHECAL},{label:"Dermal",id:f.W.DERMAL},{label:"Inhaled",id:"Inh  aled"}],x=[{label:"Hypoxia",id:f.W.HYPOXIA},{label:"Hypovolemia",id:f.W.HYPOVOLEMIA},{label:"Hyperkalaemia",id:f.W.HYPERKALAEMIA},{label:"Hypokalaemia",id:f.W.HYPOKALAEMIA},{label:"Hypothermia",id:f.W.HYPOTHERMIA},{label:"Tension Pneumothorax",id:f.W.TENSION_PNEUMOTHORAX},{label:"Tamponade, Cadiac",id:f.W.TAMPONADE_CARDIAC},{label:"Toxins",id:f.W.TOXINS},{label:"Thrombosis, Pulmonary",id:f.W.THROMBOSIS_PULMONARY},{label:"Thrombosis, Coronary",id:f.W.THROMBOSIS_CORONARY},{label:"Hydrogen Ions (Acidosis)",id:f.W.HYDROGEN_ION_ACIDOSIS}],y=i.Ik().shape({[s.rhythm.name]:i.YO().required().label(s.rhythm.label),[s.shockEnergy.name]:i.ai().required().min(0).max(360).label(s.shockEnergy.label),[s.medication.name]:i.Yj().required().label(s.medication.label),[s.dose.name]:i.Yj().required().label(s.dose.label),[s.route.name]:i.Yj().label(s.route.label),[s.doseUnit.name]:i.Yj().required().label(s.doseUnit.label),[s.interventions.name]:i.YO().required().label(s.interventions.label),[s.occurrences.name]:i.Yj().required().label(s.occurrences.label),[s.time.name]:i.Yj().required().label(s.time.label),[s.reversibleCauses.name]:i.YO().required().label(s.reversibleCauses.label),[s.other.name]:i.Yj().label(s.other.label)}),z=({patientUuid:a,visitUuid:b,onSubmitRecord:c})=>{let{ServerTime:i}=(0,o.useServerTime)(),[j,k]=(0,h.useState)({}),{handleSubmit:l,isLoading:m}=(0,p.li)(f.fA.CPR,()=>{},a,b),{medicationOptions:n}=(0,q.A)();return(0,h.useEffect)(()=>{c(m)},[m]),(0,d.jsx)(e.PD,{initialValues:{...(0,g.f6)(s),[s.interventions.name]:[]},validationSchema:y,onSubmit:(a,b)=>{let c={...a},d=i.getServerTimeString(),e=(0,g.ZM)(c[s.rhythm.name],s.rhythm.name,d),h=(0,g.ZM)(c[s.interventions.name],s.interventions.name,d),j=(0,g.ZM)(c[s.reversibleCauses.name],s.reversibleCauses.name,d);delete c[s.rhythm.name],delete c[s.interventions.name],delete c[s.reversibleCauses.name];let k=(0,g.gX)(c,d);l([{concept:f.W.CPR_RECORD,value:d,groupMembers:[...h,...e,...k,...j],obsDateTime:d}]),b.resetForm()},submitButtonText:"Add Record",children:(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("br",{}),(0,d.jsx)(e.fP,{getValues:k}),(0,d.jsx)(e.gj,{sx:{my:"1ch"},name:s.time.name,label:s.time.label}),(0,d.jsx)(e.el,{name:s.rhythm.name,label:s.rhythm.label,options:t,size:"small",sx:{width:"100%"}}),(0,d.jsx)("br",{}),(0,d.jsx)(e.A8,{name:s.shockEnergy.name,label:s.shockEnergy.label,id:"shockEnergy",sx:{width:"100%"}}),(0,d.jsx)("br",{}),(0,d.jsx)("br",{}),(0,d.jsxs)(e.m2,{children:[(0,d.jsx)(e.el,{name:s.medication.name,label:"Medication Name",options:n,multiple:!1}),(0,d.jsx)(e.pj,{id:s.dose.name,label:s.dose.label,name:s.dose.name,unitName:s.doseUnit.name,unitOptions:u,placeholder:"e.g., 500",sx:{m:0},inputIcon:(0,d.jsx)(r.gaX,{})}),(0,d.jsx)(e.el,{multiple:!1,name:s.route.name,label:s.route.label,options:w,sx:{width:"100%"}})]}),(0,d.jsx)("br",{}),(0,d.jsx)(e.el,{name:s.interventions.name,label:s.interventions.label,options:v,sx:{width:"100%"}}),j[s.interventions.name]?.find(a=>a.id==f.W.OTHER)&&(0,d.jsx)(e.A8,{name:s.other.name,label:s.other.label,id:s.other.name,rows:5,sx:{width:"100%"},multiline:!0}),(0,d.jsx)("br",{}),(0,d.jsx)(e.A8,{multiline:!0,rows:5,name:s.occurrences.name,label:s.occurrences.label,id:"occurrences",sx:{width:"100%"}}),(0,d.jsx)(e.el,{name:s.reversibleCauses.name,label:s.reversibleCauses.label,options:x,multiple:!0,width:"100%"})]})})};var A=c(14020),B=c(68730);let C={reasonsCprStopped:{name:f.W.REASON_CPR_STOPPED,label:"Reason CPR Stopped"},otherReason:{name:f.W.OTHER,label:"Other Reason"},dispositionAfterCpr:{name:f.W.DISPOSITION_AFTER_CPR,label:"Disposition After CPR"},outcome:{name:f.W.OUTCOME,label:"Outcome"},spo:{name:f.W.SPO2,label:"SPO2"},oxygen:{name:f.W.OXYGEN_GIVEN,label:"Oxygen"},respiratoryRate:{name:f.W.RESPIRATORY_RATE,label:"Respiratory Rate"},systolic:{name:f.W.SYSTOLIC_BLOOD_PRESSURE,label:"Systolic"},diastolic:{name:f.W.DIASTOLIC_BLOOD_PRESSURE,label:"Diastolic"},pulseRate:{name:f.W.PULSE_RATE,label:"Pulse Rate"},temperature:{name:f.W.TEMPERATURE,label:"Temperature"},motorResponse:{name:f.W.MOTOR_RESPONSE,label:"Motor Response"},eyeOpeningResponse:{name:f.W.EYE_OPENING_RESPONSE,label:"Eye Opening Response"},verbalResponse:{name:f.W.VERBAL_RESPONSE,label:"Verbal Response"},teamLeader:{name:f.W.TEAM_LEADER,label:"Team Leader"},teamMembers:{name:f.W.TEAM_MEMBERS,label:"Team Members"},cause:{name:f.W.CAUSE,label:"Likely or known cause of cardiac arrest"},timeStopped:{name:f.W.CPR_TIME_STOPPED,label:"CPR Time Stopped"},specify:{name:f.W.SPECIFY,label:"Specify Disposition"}},D=i.Ik().shape({[C.reasonsCprStopped.name]:i.Yj().required().label(C.reasonsCprStopped.label),[C.specify.name]:i.Yj().label(C.specify.label),[C.otherReason.name]:i.Yj().when(C.reasonsCprStopped.name,{is:a=>a===f.W.OTHER,then:a=>a.required().label(C.otherReason.label)}).label(C.otherReason.label),[C.dispositionAfterCpr.name]:i.Yj().required().label(C.dispositionAfterCpr.label),[C.spo.name]:i.ai().min(0).max(100).label(C.spo.label),[C.oxygen.name]:i.Yj().label(C.oxygen.label),[C.outcome.name]:i.Yj().label(C.outcome.label),[C.respiratoryRate.name]:i.ai().min(0).max(90).label(C.respiratoryRate.label),[C.systolic.name]:i.ai().min(0).max(300).label(C.systolic.label),[C.diastolic.name]:i.ai().min(0).max(300).label(C.diastolic.label),[C.temperature.name]:i.ai().min(20).max(45).label(C.temperature.label),[C.pulseRate.name]:i.ai().min(0).max(220).label(C.pulseRate.label),[C.eyeOpeningResponse.name]:i.Yj().label(C.eyeOpeningResponse.label),[C.motorResponse.name]:i.Yj().label(C.motorResponse.label),[C.verbalResponse.name]:i.Yj().label(C.verbalResponse.label),[C.teamLeader.name]:i.Yj().required().label(C.teamLeader.label),[C.teamMembers.name]:i.YO().required().label(C.teamMembers.label),[C.cause.name]:i.Yj().required().label(C.cause.label),[C.timeStopped.name]:i.Yj().required().label(C.timeStopped.label)}),E=[{label:"ROSC",id:f.W.ROSC},{label:"Team decision to stop",id:f.W.TEAM_DECISION_TO_STOP},{label:"DNA CPR document found",id:f.W.DNA_CPR_DOCUMENT_FOUND},{label:"Other",id:f.W.OTHER}],F=[{label:"Resuscitation room",id:f.W.RESUSCITATION_ROOM},{label:"ICU",id:f.W.ICU},{label:"HDU Specify",id:f.W.HDU_SPECIFY},{label:"General Ward Specify",id:f.W.GENERAL_WARD_SPECIFY},{label:"Mortuary",id:f.W.MORTUARY}],G=[{label:"Yes",value:f._Y},{label:"No",value:f.NO}],H=[{label:"Spontaneous",value:"Spontaneous",weight:4},{label:"To Speech",value:"To Speech",weight:3},{label:"To Pain",value:"To Pain",weight:2},{label:"No Response",value:"No Response",weight:1}],I=[{label:"Obeying Commands",value:"Obeying Commands",weight:6},{label:"Localising",value:"Localising",weight:5},{label:"Withdraw",value:"Withdraw",weight:4},{label:"Normal Flexion",value:"Normal Flexion",weight:3},{label:"Extension",value:"Extension",weight:2},{label:"None",value:"None",weight:1}],J=[{label:"Oriented",value:"Oriented",weight:5},{label:"Confused",value:"Confused",weight:4},{label:"Inappropriate Words",value:"Inappropriate Words",weight:3},{label:"Incomprehensible sounds",value:"Incomprehensible sounds",weight:2},{label:"None",value:"None",weight:1}],K=[{label:"Death",id:f.W.DEATH},{label:"ROSC",id:f.W.ROSC}],L=({onSubmit:a,formRef:b,triggerValidate:c})=>{let{data:h,isLoading:i}=(0,A.CF)(),j=h?.map(a=>({label:a.person.names[0].family_name+" "+a.person.names[0].given_name,id:a.uuid})),k=(a,b)=>{let c=b.find(b=>b.value==a);return c?c.weight:0};return(0,d.jsx)(e.PD,{initialValues:(0,g.f6)(C),validationSchema:D,onSubmit:a,submitButton:!1,ref:b,children:({values:a})=>(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(e.A8,{name:C.cause.name,label:C.cause.label,id:C.cause.name,multiline:!0,rows:4,sx:{width:"100%"}}),(0,d.jsx)(e.YZ,{name:C.timeStopped.name,label:C.timeStopped.label}),(0,d.jsx)("br",{}),(0,d.jsx)(e.el,{name:C.reasonsCprStopped.name,label:C.reasonsCprStopped.label,options:E,multiple:!1}),(0,d.jsx)("br",{}),a[C.reasonsCprStopped.name]==f.W.OTHER&&(0,d.jsx)(e.A8,{multiline:!0,rows:5,name:C.otherReason.name,label:C.otherReason.label,sx:{width:"100%"},id:C.otherReason.name}),(0,d.jsx)("br",{}),(0,d.jsx)(l.default,{variant:"h6",children:"Vital signs after ROSC"}),(0,d.jsx)("br",{}),(0,d.jsxs)(e.m2,{children:[(0,d.jsx)(e.A8,{name:C.spo.name,label:C.spo.label,id:C.spo.name,sx:{width:"100%"},unitOfMeasure:"%"}),(0,d.jsx)(e.b1,{name:C.oxygen.name,label:C.oxygen.label,options:G,row:!0}),(0,d.jsx)(e.A8,{name:C.systolic.name,label:C.systolic.label,id:C.systolic.name,sx:{width:"100%"},unitOfMeasure:"mmHg"}),(0,d.jsx)(e.A8,{name:C.diastolic.name,label:C.diastolic.label,id:C.diastolic.name,sx:{width:"100%"},unitOfMeasure:"mmHg"})]}),(0,d.jsxs)(e.m2,{children:[(0,d.jsx)(e.A8,{name:C.respiratoryRate.name,label:C.respiratoryRate.label,id:C.respiratoryRate.name,sx:{width:"100%"},unitOfMeasure:"BPM"}),(0,d.jsx)(e.A8,{name:C.pulseRate.name,label:C.pulseRate.label,id:C.pulseRate.name,sx:{width:"100%"},unitOfMeasure:"BPM"}),(0,d.jsx)(e.A8,{name:C.temperature.name,label:C.temperature.label,id:C.temperature.name,sx:{width:"100%"},unitOfMeasure:"\xb0C"})]}),(0,d.jsx)("br",{}),(0,d.jsxs)(e.Vp,{sx:{alignItems:"start"},children:[(0,d.jsx)(e.b1,{name:C.motorResponse.name,label:C.motorResponse.label,options:I,row:!1}),(0,d.jsx)(e.b1,{name:C.verbalResponse.name,label:C.verbalResponse.label,options:J,row:!1}),(0,d.jsx)(e.b1,{name:C.eyeOpeningResponse.name,label:C.eyeOpeningResponse.label,options:H,row:!1})]}),(0,d.jsxs)(l.default,{fontWeight:"800",variant:"body2",children:["(M",k(a[C.motorResponse.name],I)," V",k(a[C.verbalResponse.name],J)," E",k(a[C.eyeOpeningResponse.name],H),")"," ",k(a[C.motorResponse.name],I)+k(a[C.verbalResponse.name],J)+k(a[C.eyeOpeningResponse.name],H),"/15"]}),(0,d.jsx)("br",{}),(0,d.jsx)(e.el,{name:C.outcome.name,label:C.outcome.label,options:K,multiple:!1}),(0,d.jsx)("br",{}),(0,d.jsx)(e.m2,{children:(0,d.jsx)(e.el,{name:C.dispositionAfterCpr.name,label:C.dispositionAfterCpr.label,options:F.filter(b=>a[C.outcome.name]==f.W.DEATH?b.id==f.W.MORTUARY:a[C.outcome.name]==f.W.ROSC?b.id!=f.W.MORTUARY:void 0),multiple:!1})}),[f.W.HDU_SPECIFY,f.W.GENERAL_WARD_SPECIFY,f.W.MORTUARY].includes(a[C.dispositionAfterCpr.name])&&(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("br",{}),(0,d.jsx)(e.A8,{name:C.specify.name,label:C.specify.label,id:C.specify.name,sx:{width:"100%"}})]}),(0,d.jsx)("br",{}),(0,d.jsx)(l.default,{variant:"h6",children:"Resuscitation Team"}),(0,d.jsx)("br",{}),(0,d.jsx)(e.el,{name:C.teamLeader.name,label:C.teamLeader.label,options:j??[],multiple:!1}),(0,d.jsx)("br",{}),(0,d.jsx)(e.el,{name:C.teamMembers.name,label:C.teamMembers.label,options:j??[]}),(0,d.jsx)("br",{}),(0,d.jsx)(B.A,{onClick:c,variant:"contained",fullWidth:!0,children:"Finish CPR"})]})})},M={cardiacArrest:{name:f.W.CARDIAC_ARREST,label:"Witnessed Cardiac Arrest"},site:{name:f.W.SITE,label:"SITE"},specify:{name:f.W.SPECIFY,label:"Specify"},time:{name:f.W.TIME,label:"Time of Call"},date:{name:f.W.DATE_OF_CPR,label:"Date of Call"}},N=[{label:"Rescitation",value:f.W.RESUSCITATION},{label:"Short Stay",value:f.W.SHORT_STAY},{label:"Gynae Bench",value:f.W.GYNAE_BENCH},{label:"Isolation Room",value:f.W.ISOLATION},{label:"Trauma",value:f.W.TRAUMA},{label:"Medical Bench",value:f.W.MEDICAL_BENCH},{label:"Surgical Bench",value:f.W.SURGICAL_BENCH},{label:"SSW",value:f.W.SSW},{label:"Priority Area",value:f.W.PRIORITY},{label:"Other",value:f.W.OTHER}],O=[{label:"Yes",value:f.W.YES},{label:"No",value:f.W.NO}],P=(0,g.f6)(M),Q=i.Ik().shape({[M.cardiacArrest.name]:i.Yj().required().label(M.cardiacArrest.label),[M.site.name]:i.Yj().required().label(M.site.label),[M.specify.name]:i.Yj().when(M.site.name,{is:a=>a===f.W.OTHER,then:a=>a.required().label(M.specify.label)})}),R=({onSubmit:a,formRef:b})=>(0,d.jsx)(d.Fragment,{children:(0,d.jsx)(e.PD,{onSubmit:a,initialValues:P,validationSchema:Q,submitButton:!1,ref:b,children:({values:a,setFieldValue:b})=>(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(e.W9,{width:"100%",name:M.date.name,label:M.date.label}),(0,d.jsx)(e.gj,{sx:{my:"1ch"},name:M.time.name,label:M.time.label}),(0,d.jsxs)(e.m2,{children:[(0,d.jsx)(e.b1,{name:M.site.name,label:M.site.label,options:N,row:!0}),(0,d.jsx)(e.b1,{options:O,label:M.cardiacArrest.label,name:M.cardiacArrest.name,row:!0})]}),a[M.site.name]==f.W.OTHER&&(0,d.jsx)(e.A8,{size:"small",name:M.specify.name,label:M.specify.label,id:M.specify.name,sx:{width:"100%"}})]})})});var S=c(50549),T=c(45701),U=c(50852);let V=(a,b)=>{let{data:c,isLoading:d,isRefetching:e}=(0,U.$O)(a),f=c?.find(a=>a.encounter_type.uuid===b),[g,i]=(0,h.useState)([]);return(0,h.useEffect)(()=>{f&&i(f.obs)},[f]),{dataObs:g,isLoading:e||d}},W=({patientId:a,submittingRecord:b})=>{let{dataObs:c,isLoading:e}=V(a,f.fA.CPR),g=c.filter(a=>a.children.length>0&&a.names.find(a=>a.name.toLowerCase()==f.W.CPR_RECORD.toLowerCase()));console.log("records",g);let h=g.map(({children:a})=>{let b=(0,T.m)(a,f.W.TIME),c=(0,T.m)(a,f.W.SHOCK_ENERGY),d=(0,T.m)(a,f.W.MEDICATION),e=(0,T.m)(a,f.W.MEDICATION_DOSE),g=(0,T.m)(a,f.W.MEDICATION_ROUTE),h=(0,T.m)(a,f.W.MEDICATION_DOSE_UNIT),i=(0,T.m)(a,f.W.OCCURRENCES),j=a.filter(a=>a?.names?.some(a=>a.name.toLowerCase()===f.W.INTERVENTION_LIST.toLowerCase())).map(a=>a.value).join(", ");return{time:b,shockEnergy:c,medicationName:d,dose:e,doseUnit:h,occurrences:i,interventionList:j,rhythm:a.filter(a=>a?.names?.some(a=>a.name.toLowerCase()===f.W.RHYTHM.toLowerCase())).map(a=>a.value).join(", "),causes:a.filter(a=>a?.names?.some(a=>a.name.toLowerCase()===f.W.REVERSIBLE_CAUSES.toLowerCase())).map(a=>a.value).join(", "),route:g}});return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(l.default,{variant:"h5",children:"Records"}),(0,d.jsx)("br",{}),(0,d.jsx)(S.q,{columns:[{label:"Time",field:"time"},{label:"Shock Energy",field:"shockEnergy"},{label:"Medication Name",field:"medicationName"},{label:"Dose",field:"dose"},{label:"Route",field:"route"},{label:"Dose Unit",field:"doseUnit"},{label:"Occurrences",field:"occurrences"},{label:"Intervention List",field:"interventionList"},{label:"Rhythm",field:"rhythm"},{label:"Reversible Causes",field:"causes"}],loading:e||b,data:h})]})},X=({onClose:a,patientuuid:b,visituuid:c})=>{let{ServerTime:e}=(0,o.useServerTime)(),{patientId:i,activeVisit:j}=(0,p.gd)(),[k,l]=(0,h.useState)(!1),{handleSubmit:m}=(0,p.li)(f.fA.CPR,()=>{a()},b,c),n=(0,h.useRef)(null),q=(0,h.useRef)(null),{dataObs:r,isLoading:s}=V(b,f.fA.CPR),t=async()=>{await n?.current?.setTouched(Object.keys(n?.current?.values).reduce((a,b)=>(a[b]=!0,a),{})),await q?.current?.setTouched(Object.keys(q?.current?.values).reduce((a,b)=>(a[b]=!0,a),{}));let a=await n?.current?.validateForm(),b=await q?.current?.validateForm();if(Object.keys(a).length>0||Object.keys(b).length>0)return void console.log("Validation failed:",{basicFormErrors:a,endFormErrors:b});await n?.current?.submitForm(),await q?.current?.submitForm()};return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(R,{formRef:n,onSubmit:()=>{}}),(0,d.jsx)("br",{}),(0,d.jsx)(W,{submittingRecord:k,patientId:b||i}),(0,d.jsx)(z,{onSubmitRecord:l,visitUuid:c||j,patientUuid:b||i}),(0,d.jsx)("br",{}),(0,d.jsx)(L,{triggerValidate:t,formRef:q,onSubmit:()=>{let a=e.getServerTimeString(),b=(0,g.gX)(n.current.values,a),c={...q.current.values},d=(0,g.ZM)(c[f.W.TEAM_MEMBERS],f.W.TEAM_MEMBERS,a);delete c[f.W.TEAM_MEMBERS];let h=(0,g.gX)(c,a),i=r.filter(a=>a.children.length>0&&a.names.find(a=>a.name.toLowerCase()==f.W.CPR_RECORD.toLowerCase())).map(a=>({concept:f.W.CPR_RECORD,value:a.value,obsDatetime:a.obs_datetime,groupMembers:a.children.map(a=>({concept:a.names[0].name,value:a.value,obsDatetime:a.obs_datetime}))}));m([{concept:f.W.CPR,value:a,obsDatetime:a,groupMembers:[...h,...d,...b,...i]}])}})]})},Y=({open:a,onClose:b,patientuuid:c,visituuid:f})=>(0,d.jsx)(e.eV,{maxWidth:"md",open:a,title:"CPR",onClose:b,children:(0,d.jsx)(X,{visituuid:f,patientuuid:c,onClose:b})});var Z=c(79131);let $={bleedingInfo:{name:f.W.IS_PATIENT_ACTIVELY_BLEEDING,label:"Is the patient actively bleeding",children:[{concept:f.W.ACTION_DONE,label:"Action Done"}]},pulseInfo:{name:f.W.IS_THE_PATIENT_HAVE_PULSE,label:"Does the patient have a pulse",children:[{concept:f.W.PULSE_RATE,label:"Pulse rate"},{concept:f.W.PULSE_RATE_WEAK,label:"Pulse strength"},{concept:f.W.REGULAR_RHYTHM,label:"Pulse rhythm"},{concept:f.W.CAPILLARY_REFILL_TIME,label:"Capillary refill time"}]},mucousMembranesInfo:{name:f.W.MUCOUS_MEMBRANES,label:"Mucous membranes",children:[{type:"string",multiple:!0,concept:f.W.MUCOUS_ABNORMAL,label:"Mucous Abnormal"}]},bloodPressureMeasured:{name:f.W.BLOOD_PRESSURE_MEASURED,label:"Blood pressure measured",children:[{concept:f.W.SYSTOLIC_BLOOD_PRESSURE,label:"Blood Pressure Systolic"},{concept:f.W.DIASTOLIC_BLOOD_PRESSURE,label:"Blood Pressure Diastolic"},{name:f.W.REASON_NOT_RECORDED,label:"Reason BP Is unrecordable"},{name:f.W.DESCRIPTION,label:"Reason Not Done"}]},traumatizedInfo:{name:f.W.IS_PATIENT_TRAUMATIZED,label:"Is the patient injured",children:[{name:f.W.IS_PELVIS_STABLE,label:"Is the pelvis unstable"},{name:f.W.IS_FEMUR_TIBIA_NORMAL,label:"is the femur and tibia normal",children:[{concept:f.W.IMAGE_PART_NAME,label:"Leg Image",image:!0,parentConcept:f.W.IS_FEMUR_TIBIA_NORMAL}]}]},intravenousAccess:{name:f.W.PATIENT_INTRAVENOUS,label:"Does the patient need intravenous access",children:[{multiple:!0,type:"string",concept:f.W.SIZE_OF_CATHETER,label:"Size of intravenous catheter"},{multiple:!0,type:"string",concept:f.W.CANNULATION_SITE,label:"Cannulation Site"},{multiple:!0,type:"string",concept:f.W.DIAGRAM_CANNULATION_SITE,label:"Cannulation Site"}]},abnormalitiesInfo:{name:f.W.IS_THERE_ANY_OTHER_ABNOMALITIES,label:"Is there any other abnormalities?",children:[{concept:f.W.IMAGE_PART_NAME,label:"Abdomen Image",image:!0,parentConcept:f.W.IS_THERE_ANY_OTHER_ABNOMALITIES}]},abdnomenDistention:{name:f.W.HEADACHE,label:"Is there abdominal distention?"},assessPeripheries:{name:f.W.ASSESS_PERIPHERIES,label:"Assess peripheries"},pulseStrength:{child:!0,name:f.W.PULSE_RATE_WEAK,label:"Pulse strength"},pulseRhythm:{child:!0,name:f.W.REGULAR_RHYTHM,label:"Pulse rhythm"},bloodPressureSystolic:{child:!0,name:f.W.SYSTOLIC_BLOOD_PRESSURE,label:"Blood Pressure Systolic"},bloodPressureDiastolic:{child:!0,name:f.W.DIASTOLIC_BLOOD_PRESSURE,label:"Blood Pressure Diastolic"},capillaryInfo:{child:!0,name:f.W.CAPILLARY_REFILL_TIME,label:"Capillary refill time"},pelvisInfo:{child:!0,name:f.W.IS_PELVIS_STABLE,label:"Is the pelvis unstable?"},catheterInfo:{child:!0,name:f.W.SIZE_OF_CATHETER,label:"Size of intravenous catheter"},femurAndTibiaNormalInfo:{child:!0,name:f.W.IS_FEMUR_TIBIA_NORMAL,label:"is the femur and tibia normal?"},bleedingActionDone:{child:!0,name:f.W.ACTION_DONE,label:"Action done"},anyOtherAbnormalities:{name:f.W.IS_THERE_ANY_OTHER_ABNOMALITIES,label:"Is There Any Other Abnormalites"},additionalNotes:{name:f.W.ADDITIONAL_NOTES,label:"Additional Notes"},reasonNotRecorded:{child:!0,name:f.W.REASON_NOT_RECORDED,label:"Reason BP Is unrecordable"},reasonNotDone:{child:!0,name:f.W.DESCRIPTION,label:"Reason Not Done"},mucousAbnormal:{name:f.W.MUCOUS_ABNORMAL,label:"Mucous Abnormal"},bloodPressureNotDoneOther:{name:f.W.SPECIFY,label:"Specify"},siteOfCannulation:{child:!0,name:f.W.CANNULATION_SITE,label:"Cannulation Site"},diagramCannulationSite:{name:f.W.DIAGRAM_CANNULATION_SITE,label:"Cannulation Site"},pulse:{child:!0,name:f.W.HEART_RATE,label:"Pulse rate"},centralLineCannulationSite:{name:f.W.CENTRAL_LINE_CANNULATION_SITE,label:"Cannulation Site (Central Line)"}},_=$,aa=i.Ik({[$.bleedingInfo.name]:i.Yj().label($.bleedingInfo.label),[$.pulseInfo.name]:i.Yj().label($.pulseInfo.label),[$.pulseStrength.name]:i.Yj().label($.pulseStrength.label),[$.pulseRhythm.name]:i.Yj().label($.pulseRhythm.label),[$.bleedingActionDone.name]:i.Yj().label($.bleedingActionDone.label),[$.bloodPressureSystolic.name]:i.ai().min(0).max(300).label($.bloodPressureSystolic.label),[$.bloodPressureDiastolic.name]:i.ai().min(0).max(300).label($.bloodPressureDiastolic.label),[$.intravenousAccess.name]:i.Yj().label($.intravenousAccess.label),[$.traumatizedInfo.name]:i.Yj().label($.traumatizedInfo.label),[$.abnormalitiesInfo.name]:i.Yj().label($.abnormalitiesInfo.label),[$.capillaryInfo.name]:i.Yj().label($.capillaryInfo.label),[$.abdnomenDistention.name]:i.Yj().label($.abdnomenDistention.label),[$.pelvisInfo.name]:i.Yj().label($.pelvisInfo.label),[$.mucousMembranesInfo.name]:i.Yj().label($.mucousMembranesInfo.label),[$.catheterInfo.name]:i.YO().label($.catheterInfo.label),[$.femurAndTibiaNormalInfo.name]:i.Yj().label($.femurAndTibiaNormalInfo.label),[$.anyOtherAbnormalities.name]:i.Yj().label($.anyOtherAbnormalities.label),[$.additionalNotes.name]:i.Yj().label($.additionalNotes.label),[$.assessPeripheries.name]:i.Yj().label($.assessPeripheries.label),[$.reasonNotDone.name]:i.Yj().label($.reasonNotDone.label),[$.mucousAbnormal.name]:i.YO().label($.mucousAbnormal.label),[$.bloodPressureNotDoneOther.name]:i.Yj().label($.bloodPressureNotDoneOther.label),[$.siteOfCannulation.name]:i.YO().label($.siteOfCannulation.label),[$.diagramCannulationSite.name]:i.YO().label($.diagramCannulationSite.label),[$.pulse.name]:i.ai().label($.pulse.label),[$.centralLineCannulationSite.name]:i.Yj().label($.centralLineCannulationSite.label)}),ab=(0,g.f6)($),ac=[{label:"14G",id:f.W.G14},{label:"16G",id:f.W.G16},{label:"18G",id:f.W.G18},{label:"20G",id:f.W.G20},{label:"22G",id:f.W.G22},{label:"Central Line",id:f.W.CENTRAL_LINE}],ad=[{label:"Normal",value:f.W.NORMAL},{label:"Abnormal",value:f.W.ABNORMAL}],ae=[{label:"Pale",id:f.W.PALE},{label:"Dry",id:f.W.DRY},{label:"Cyanosis",id:f.W.CYANOSIS},{label:"Jaundice",id:f.W.JAUNDICE}],af=[{label:"Weak",value:f.W.WEAK},{label:"Strong",value:f.W.STRONG_REGULAR}],ag=[{label:"Regular",value:f.W.REGULAR_RHYTHM},{label:"Irregular",value:f.W.IRREGULAR}],ah=[{label:"Less than 3 seconds",value:f.W.LESS_THAN_3_SECONDS},{label:"3 seconds",value:f.W.THREE_SECONDS},{label:"More than 3 seconds",value:f.W.MORE_THAN_THREE_SECONDS}],ai=[{label:"Yes",value:f._Y},{label:"No",value:f.NO}],aj=[{label:"Patient uncooperative",id:f.W.PATIENT_UNCOOPERATIVE},{label:"Machine not available",id:f.W.MACHINE_NOT_AVAILABLE},{label:"Batteries not available",id:f.W.BATTERIES_NOT_AVAILABLE},{label:"No inappropriately sized cuff",id:f.W.INAPPROPRIATELY_SIZED_CUFF},{label:"No power supply",id:f.W.NO_POWER_SUPPLY},{label:"Other",id:f.W.OTHER}],ak=[{label:"Left",id:f.W.LEFT},{label:"Right",id:f.W.RIGHT}],al=[{label:"Antecubital fossa",id:f.W.ANTECUBITAL_FOSSA},{label:"Hand",id:f.W.HAND},{label:"Wrist",id:f.W.WRIST},{label:"Forearm",id:f.W.FOREARM},{label:"Foot",id:f.W.FOOT},{label:"External Jugular",id:f.W.EXTERNAL_JUGULAR}],am=[{id:f.W.FEMORAL,label:"Femoral"},{id:f.W.SUBCLAVIAN,label:"Subclavian"},{id:f.W.INTERNAL_JUGULAR,label:"Internal Jugular"}],an=({onSubmit:a})=>{let{ServerTime:b}=(0,o.useServerTime)(),{gender:c}=(0,p.gd)(),[i,q]=(0,h.useState)({}),[r,s]=(0,h.useState)([]),[t,u]=(0,h.useState)([]),[v,w]=(0,h.useState)([]),[x,y]=(0,h.useState)(!1),[z,A]=(0,h.useState)(!1),{handleSubmit:B,isLoading:C,isSuccess:D}=(0,m.l)(f.fA.CIRCULATION_ASSESSMENT,a),E=async a=>{let c={...a},d=b.getServerTimeString(),e=[{concept:$.abnormalitiesInfo.name,value:c[$.abnormalitiesInfo.name],obsDatetime:d,groupMembers:await (0,g.Zt)(r)},{concept:$.femurAndTibiaNormalInfo.name,value:c[$.femurAndTibiaNormalInfo.name],obsDatetime:d,groupMembers:await (0,g.Zt)(t)}],f=(0,g.ZM)(c[$.mucousAbnormal.name],$.mucousAbnormal.name,d,!0),h=(0,g.ZM)(c[$.catheterInfo.name],$.catheterInfo.name,d,!0),i=(0,g.ZM)(c[$.siteOfCannulation.name],$.siteOfCannulation.name,d,!0),j=(0,g.ZM)(c[$.diagramCannulationSite.name],$.diagramCannulationSite.name,d,!0);delete c[$.abnormalitiesInfo.name],delete c[$.femurAndTibiaNormalInfo.name],delete c[$.mucousAbnormal.name],delete c[$.catheterInfo.name],delete c[$.siteOfCannulation.name],delete c[$.diagramCannulationSite.name],await B([...await (0,g.k$)($,c,d),...e,...f,...h,...i,...j])},F=(a,b)=>!!Array.isArray(a)&&a.find(a=>a.id==b);return(0,d.jsx)(n.h,{loading:C,children:!z&&(0,d.jsxs)(e.PD,{validationSchema:aa,initialValues:ab,onSubmit:E,submitButtonText:"next",children:[(0,d.jsx)(e.fP,{getValues:q}),(0,d.jsxs)(e.kI,{title:"Bleeding and Pulse Rate",children:[(0,d.jsxs)(e.Vp,{children:[(0,d.jsx)(e.b1,{name:$.bleedingInfo.name,label:$.bleedingInfo.label,options:ai}),(0,d.jsx)(e.b1,{name:$.pulseInfo.name,label:$.pulseInfo.label,options:ai,getValue:a=>{a==f.NO&&y(!0)}})]}),i[$.bleedingInfo.name]==f._Y&&(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("br",{}),(0,d.jsx)(e.bL,{message:"Apply pressure"}),(0,d.jsx)("br",{}),(0,d.jsx)(e.A8,{multiline:!0,rows:3,sx:{width:"100%"},name:$.bleedingActionDone.name,id:$.bleedingActionDone.name,label:$.bleedingActionDone.label})]}),i[$.pulseInfo.name]==f.NO&&(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(e.bL,{message:"Start cardiopulmonary resuscitation"}),(0,d.jsx)(Y,{open:x,onClose:()=>y(!1)})]}),i[$.pulseInfo.name]==f._Y&&(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("br",{}),(0,d.jsx)(e.A8,{name:$.pulse.name,id:$.pulse.name,label:$.pulse.label,sx:{width:"100%"}}),(0,d.jsxs)(e.Vp,{children:[(0,d.jsx)(e.b1,{name:$.pulseStrength.name,label:$.pulseStrength.label,options:af}),(0,d.jsx)(e.b1,{name:$.pulseRhythm.name,label:$.pulseRhythm.label,options:ag}),(0,d.jsx)(e.b1,{name:$.capillaryInfo.name,label:$.capillaryInfo.label,options:ah})]})]})]}),(0,d.jsxs)(e.kI,{title:"Mucous and Peripherals",children:[(0,d.jsxs)(e.Vp,{sx:{alignItems:"flex-start"},children:[(0,d.jsx)(e.b1,{name:$.mucousMembranesInfo.name,label:$.mucousMembranesInfo.label,options:ad}),(0,d.jsx)(e.b1,{name:$.assessPeripheries.name,label:$.assessPeripheries.label,options:[{label:"Cold and clammy",value:"cold and clammy"},{label:"Warm",value:"warm"}]})]}),i[$.mucousMembranesInfo.name]==f.W.ABNORMAL&&(0,d.jsx)(e.el,{label:"Mucus Abnormal",name:$.mucousAbnormal.name,options:ae})]}),(0,d.jsxs)(e.kI,{title:"Blood Pressure",children:[(0,d.jsx)(e.Vp,{sx:{alignItems:"flex-start"},children:(0,d.jsx)(e.b1,{name:$.bloodPressureMeasured.name,label:$.bloodPressureMeasured.label,options:[{label:"Done",value:f.W.DONE},{label:"Not Done",value:f.W.NOT_DONE},{label:"BP Unrecordable",value:f.W.BP_NOT_RECORDABLE}]})}),i[$.bloodPressureMeasured.name]==f.W.NOT_DONE&&(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(e.el,{multiple:!1,name:$.reasonNotDone.name,label:$.reasonNotDone.label,options:aj}),i[$.reasonNotDone.name]==f.W.OTHER&&(0,d.jsx)(e.A8,{multiline:!0,rows:3,name:$.bloodPressureNotDoneOther.name,id:$.bloodPressureNotDoneOther.name,label:$.bloodPressureNotDoneOther.label,sx:{width:"100%",mt:"1ch"}})]}),i[$.bloodPressureMeasured.name]==f.W.BP_NOT_RECORDABLE&&(0,d.jsx)(d.Fragment,{children:(0,d.jsx)(e.A8,{sx:{m:0,width:"100%"},name:$.reasonNotRecorded.name,label:$.reasonNotRecorded.label,id:$.reasonNotRecorded.name})}),i[$.bloodPressureMeasured.name]==f.W.DONE&&(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("br",{}),(0,d.jsxs)(e.Vp,{mr:"1ch",children:[(0,d.jsx)(e.A8,{sx:{width:"100%"},unitOfMeasure:"mmHg",name:$.bloodPressureSystolic.name,label:$.bloodPressureSystolic.label,id:$.bloodPressureSystolic.name}),(0,d.jsx)(e.A8,{sx:{width:"100%"},unitOfMeasure:"mmHg",name:$.bloodPressureDiastolic.name,label:$.bloodPressureDiastolic.label,id:$.bloodPressureDiastolic.name})]}),i[$.bloodPressureSystolic.name]&&i[$.bloodPressureDiastolic.name]&&(0,d.jsx)(k.default,{children:(0,d.jsxs)(l.default,{variant:"subtitle1",sx:{color:65>Math.round((2*Number(i[$.bloodPressureDiastolic.name])+Number(i[$.bloodPressureSystolic.name]))/3)?"red":"inherit"},children:["Mean Arterial Pressure:"," ",Math.round((2*Number(i[$.bloodPressureDiastolic.name])+Number(i[$.bloodPressureSystolic.name]))/3)," ","mmHg"]})}),(0,d.jsx)("br",{})]})]}),(0,d.jsxs)(e.kI,{title:"Circulation Specific Trauma",children:[(0,d.jsx)(e.b1,{row:!0,name:$.traumatizedInfo.name,label:$.traumatizedInfo.label,options:ai}),i[$.traumatizedInfo.name]==f._Y&&(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(e.b1,{row:!0,name:$.pelvisInfo.name,label:$.pelvisInfo.label,options:ai}),i[$.pelvisInfo.name]==f._Y&&(0,d.jsx)(d.Fragment,{children:(0,d.jsx)(e.bL,{message:"apply pelvic binder"})}),(0,d.jsx)(e.b1,{row:!0,name:$.femurAndTibiaNormalInfo.name,label:$.femurAndTibiaNormalInfo.label,options:ai}),i[$.femurAndTibiaNormalInfo.name]==f.NO&&(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("br",{}),"Male"==c&&(0,d.jsx)(j.oj,{imageSection:$.femurAndTibiaNormalInfo.name,imageEncounter:f.fA.CIRCULATION_ASSESSMENT,onValueChange:u,form:"deformity"}),"Female"==c&&(0,d.jsx)(j.tD,{imageSection:$.femurAndTibiaNormalInfo.name,imageEncounter:f.fA.CIRCULATION_ASSESSMENT,onValueChange:u,form:"deformity"}),(0,d.jsx)("br",{})]})]})]}),(0,d.jsxs)(e.kI,{title:"Intravenous",children:[(0,d.jsx)(e.b1,{name:$.intravenousAccess.name,label:$.intravenousAccess.label,options:ai}),i[$.intravenousAccess.name]==f._Y&&(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("br",{}),(0,d.jsx)(e.el,{multiple:!0,name:$.catheterInfo.name,label:$.catheterInfo.label,options:ac}),(0,d.jsx)("br",{}),F(i[$.catheterInfo.name],f.W.CENTRAL_LINE)&&(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(l.default,{variant:"h6",children:"Central Line"}),(0,d.jsx)(e.el,{multiple:!1,name:$.centralLineCannulationSite.name,label:$.centralLineCannulationSite.label,options:am}),(0,d.jsx)("br",{})]}),(0,d.jsx)(e.el,{multiple:!0,name:$.siteOfCannulation.name,label:$.siteOfCannulation.label,options:ak}),F(i[$.siteOfCannulation.name],f.W.LEFT)&&(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(l.default,{my:2,variant:"h6",children:"Left"}),(0,d.jsx)(e.el,{name:$.diagramCannulationSite.name,label:$.diagramCannulationSite.label,options:al})]}),F(i[$.siteOfCannulation.name],f.W.RIGHT)&&(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(l.default,{my:2,variant:"h6",children:"Right"}),(0,d.jsx)(e.el,{name:$.diagramCannulationSite.name,label:$.diagramCannulationSite.label,options:al})]}),(0,d.jsx)("br",{})]})]}),(0,d.jsxs)(e.kI,{last:!0,title:"Circulation Specific Abdominal Findings",children:[(0,d.jsxs)(e.Vp,{sx:{alignItems:"flex-start"},children:[(0,d.jsx)(e.b1,{name:$.abdnomenDistention.name,label:$.abdnomenDistention.label,options:ai}),(0,d.jsx)(e.b1,{name:$.abnormalitiesInfo.name,label:$.abnormalitiesInfo.label,options:ai})]}),i[$.abnormalitiesInfo.name]==f._Y&&(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("br",{}),"Male"==c&&(0,d.jsx)(j.GJ,{formNameSection:"other",onValueChange:s}),"Female"==c&&(0,d.jsx)(Z.W,{formNameSection:"other",onValueChange:s}),(0,d.jsx)("br",{})]}),(0,d.jsx)(e.A8,{sx:{width:"100%",m:0},name:$.additionalNotes.name,label:$.additionalNotes.label,id:$.additionalNotes.name,rows:5,multiline:!0})]})]})})},ao={eyeOpening:{name:f.W.EYE_OPENING_RESPONSE,label:"Eye Opening Response"},verbalResponse:{name:f.W.VERBAL_RESPONSE,label:"Best Verbal Response"},motorResponse:{name:f.W.MOTOR_RESPONSE,label:"Best Motor Response"},gcs:{name:f.W.GCS,label:"GCS"},focalNeurology:{name:f.W.FOCAL_NEUROLOGY,label:"Focal Neurology"},postureInfo:{name:f.W.POSTURE,label:"Posture"},bloodGlocose:{name:f.W.BLOOD_GLUCOSE,label:"Patient's Random Blood Glucose"},seizureInfo:{name:f.W.ACTIVE_SEIZURES,label:"Is the patient having Seizures"},leftPupilSize:{name:f.W.LEFT_PUPIL_SIZE,label:"Left Pupil Size"},rightPupilSize:{name:f.W.RIGHT_PUPIL_SIZE,label:"Right Pupil Size"},leftPupilReaction:{name:f.W.LEFT_PUPIL_REACTION,label:"Left Pupil Reaction"},rightPupilReaction:{name:f.W.RIGHT_PUPIL_REACTION,label:"Right Pupil Reaction"},units:{name:"units",label:"Units"}},ap=ao,aq=i.Ik({[ao.eyeOpening.name]:i.Yj().required().label(ao.eyeOpening.label),[ao.verbalResponse.name]:i.Yj().required().label(ao.verbalResponse.label),[ao.motorResponse.name]:i.Yj().required().label(ao.motorResponse.label),[ao.focalNeurology.name]:i.Yj().required().label(ao.focalNeurology.label),[ao.postureInfo.name]:i.Yj().required().label(ao.postureInfo.label),[ao.bloodGlocose.name]:i.ai().min(0).max(1e3).label(ao.bloodGlocose.label),[ao.seizureInfo.name]:i.Yj().required().label(ao.seizureInfo.label),[ao.rightPupilReaction.name]:i.Yj().label(ao.rightPupilReaction.label),[ao.rightPupilSize.name]:i.Yj().label(ao.rightPupilSize.label),[ao.leftPupilReaction.name]:i.Yj().label(ao.leftPupilReaction.label),[ao.leftPupilSize.name]:i.Yj().label(ao.leftPupilSize.label),[ao.units.name]:i.Yj().label(ao.units.label)}),ar={...(0,g.f6)(ao),[ao.units.name]:"mmol/l"},as=[{label:"Spontaneously",value:"4"},{label:"To Speech",value:"3"},{label:"To Pain",value:"2"},{label:"No Response",value:"1"}],at=[{label:"Oriented To Time, Place and Person  ",value:"5"},{label:"Confused",value:"4"},{label:"Inappropriate Words",value:"3"},{label:"Incomprehensible Words",value:"2"},{label:"No Response",value:"1"}],au=[{label:"Obey Commands",value:"6"},{label:"Moves to Localized Pain ",value:"5"},{label:"Flexion Withdrawal from Pain",value:"4"},{label:"Abnormal  Flexion (Decorticate)",value:"3"},{label:"Abnormal  Extension (Decerbrate)",value:"2"},{label:"No Response",value:"1"}],av=[{label:"Yes",value:f._Y},{label:"No",value:f.NO}],aw=[{id:"mmol/l",label:"mmol/l"},{id:"mg/dl",label:"mg/dl"}],ax=({onSubmit:a})=>{let{ServerTime:b}=(0,o.useServerTime)(),[c,i]=(0,h.useState)(),[j,p]=(0,h.useState)(),[q,r]=(0,h.useState)(),[s,t]=(0,h.useState)(!1),[u,v]=(0,h.useState)({}),{handleSubmit:w,isLoading:x,isSuccess:y}=(0,m.l)(f.fA.PRIMARY_DISABILITY_ASSESSMENT,a),z=Number(c||0)+Number(j||0)+Number(q||0);return(0,d.jsx)(n.h,{loading:x,children:!s&&(0,d.jsxs)(e.PD,{validationSchema:aq,initialValues:ar,onSubmit:a=>{let d=b.getServerTimeString(),e=[{concept:f.W.EYES,value:"Left Eye",obsDateTime:d,groupMembers:[{concept:f.W.PUPIL_SIZE,value:a[ao.leftPupilSize.name],obsDateTime:d},...a[ao.leftPupilReaction.name]?[{concept:f.W.PUPIL_REACTION,value:a[ao.leftPupilReaction.name],obsDateTime:d}]:[],,]},{concept:f.W.EYES,value:"Right Eye",obsDateTime:d,groupMembers:[{concept:f.W.PUPIL_SIZE,value:a[ao.rightPupilSize.name],obsDateTime:d},...a[ao.leftPupilReaction.name]?[{concept:f.W.PUPIL_REACTION,value:a[ao.rightPupilReaction.name],obsDateTime:d}]:[]]}];delete a[ao.leftPupilSize.name],delete a[ao.leftPupilReaction.name],delete a[ao.rightPupilSize.name],delete a[ao.rightPupilReaction.name];let h=Number(c||0)+Number(j||0)+Number(q||0);w([...(0,g.gX)({...a,[f.W.GCS]:h},d),...e])},submitButtonText:"next",children:[(0,d.jsx)(e.fP,{getValues:v}),(0,d.jsxs)(e.kI,{title:"GCS",children:[(0,d.jsxs)(e.Vp,{sx:{alignItems:"start"},children:[(0,d.jsx)(e.b1,{name:ao.eyeOpening.name,label:ao.eyeOpening.label,options:as,getValue:a=>i(a)}),(0,d.jsxs)("p",{children:[ao.eyeOpening.label,": ",c]})]}),(0,d.jsx)("br",{}),(0,d.jsxs)(e.Vp,{sx:{alignItems:"start"},children:[(0,d.jsx)(e.b1,{name:ao.verbalResponse.name,label:ao.verbalResponse.label,options:at,getValue:a=>p(a)}),(0,d.jsxs)("p",{children:[ao.verbalResponse.label,": ",j]})]}),(0,d.jsx)("br",{}),(0,d.jsxs)(e.Vp,{sx:{alignItems:"start"},children:[(0,d.jsx)(e.b1,{name:ao.motorResponse.name,label:ao.motorResponse.label,options:au,getValue:a=>r(a)}),(0,d.jsxs)("p",{children:[ao.motorResponse.label,": ",q]})]}),(0,d.jsx)("br",{}),(0,d.jsx)(k.default,{children:(0,d.jsxs)(e.Th,{children:["Total Score: ",z]})})]}),(0,d.jsxs)(e.kI,{title:"Pupillary Response",children:[(0,d.jsx)(l.default,{children:"Right Eye"}),(0,d.jsxs)(e.Vp,{mr:"1ch",children:[(0,d.jsx)(e.A8,{sx:{m:0,width:"100%"},name:ao.rightPupilSize.name,label:ao.rightPupilSize.label,id:ao.rightPupilSize.name,unitOfMeasure:"mm"}),(0,d.jsx)(e.b1,{name:ao.rightPupilReaction.name,label:ao.rightPupilReaction.label,row:!0,options:av})]}),(0,d.jsx)("br",{}),(0,d.jsx)(l.default,{children:"Left Eye"}),(0,d.jsxs)(e.Vp,{mr:"1ch",children:[(0,d.jsx)(e.A8,{sx:{m:0,width:"100%"},name:ao.leftPupilSize.name,label:ao.leftPupilSize.label,id:ao.leftPupilSize.name,unitOfMeasure:"mm"}),(0,d.jsx)(e.b1,{name:ao.leftPupilReaction.name,label:ao.leftPupilReaction.label,row:!0,options:av})]}),(0,d.jsx)("br",{}),(0,d.jsx)(e.A8,{name:ao.focalNeurology.name,sx:{m:0,width:"100%"},label:ao.focalNeurology.label,rows:5,multiline:!0,id:ao.focalNeurology.name})]}),(0,d.jsxs)(e.kI,{last:!0,title:"Additional findings and Glucose",children:[(0,d.jsx)(e.Vp,{mr:"1ch",children:(0,d.jsx)(e.A8,{sx:{m:0,width:"100%"},name:ao.postureInfo.name,label:ao.postureInfo.label,id:ao.postureInfo.name})}),(0,d.jsxs)(e.Vp,{mr:"1ch",children:[(0,d.jsx)(e.el,{sx:{m:0,width:"30%"},multiple:!1,name:ao.units.name,options:aw,label:ao.units.label}),(0,d.jsx)(e.A8,{sx:{m:0,width:"100%"},name:ao.bloodGlocose.name,label:ao.bloodGlocose.label,id:ao.bloodGlocose.name,unitOfMeasure:u[ao.units.name]||"mmol/l"})]}),(0,d.jsx)(e.Vp,{children:(0,d.jsx)(e.b1,{name:ao.seizureInfo.name,label:ao.seizureInfo.label,options:av})})]})]})})};var ay=c(66951);let az={temperatureInfo:{name:f.W.TEMPERATURE,label:"Temperature"},additionalNotes:{name:f.W.ADDITIONAL_NOTES,label:"Additional Notes"},image:{name:f.W.IMAGE_PART_NAME,label:"Image",image:!0}},aA=az,aB=i.Ik({[az.temperatureInfo.name]:i.ai().required().min(20).max(45).label(az.temperatureInfo.label),[az.additionalNotes.name]:i.Yj().label(az.additionalNotes.label)}),aC=(0,g.f6)(az),aD=({onSubmit:a})=>{let{ServerTime:b}=(0,o.useServerTime)(),{params:c}=(0,p.KU)(),{data:i,isLoading:q}=(0,ay.GN)(c?.id),[r,s]=(0,h.useState)({}),[t,u]=(0,h.useState)([]),[v,w]=(0,h.useState)([]),[x,y]=(0,h.useState)(!1),{handleSubmit:z,isLoading:A,isSuccess:B}=(0,m.l)(f.fA.EXPOSURE_ASSESSMENT,a),C=async a=>{let c={...a},d=b.getServerTimeString(),e=[{concept:f.W.IMAGE_PART_NAME,value:"full body anterior",obsDatetime:d,groupMembers:[...await (0,g.Zt)(t)]},{concept:f.W.IMAGE_PART_NAME,value:"full body posterior",obsDatetime:d,groupMembers:[...await (0,g.Zt)(v)]},{concept:f.W.NOTES,value:x?"Normal":"Abnormalities",obsDatetime:d}];z([...(0,g.gX)(c,d),...e])},D=i&&i?.gender;return(0,d.jsx)(n.h,{loading:A,children:!x&&(0,d.jsxs)(e.PD,{validationSchema:aB,initialValues:aC,onSubmit:C,submitButtonText:"submit",children:[(0,d.jsx)(e.fP,{getValues:s}),(0,d.jsx)(e.A8,{sx:{width:"100%"},name:az.temperatureInfo.name,label:az.temperatureInfo.label,id:az.temperatureInfo.name,unitOfMeasure:"\xb0C"}),(0,d.jsx)("br",{}),!x&&(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(l.default,{color:"grey",variant:"h5",children:"Select areas with rash, injuries and other abnormalities"}),(0,d.jsx)("br",{})," ","Male"==D&&(0,d.jsxs)(k.default,{sx:{display:"flex",alignItems:"flex-start"},children:[(0,d.jsx)(k.default,{sx:{width:"60ch"},children:(0,d.jsx)(j.Jc,{onValueChange:u})}),(0,d.jsx)(k.default,{sx:{width:"60ch"},children:(0,d.jsx)(j.ug,{onValueChange:w})})]}),"Female"==D&&(0,d.jsxs)(k.default,{sx:{display:"flex",alignItems:"flex-start"},children:[(0,d.jsx)(k.default,{sx:{width:"60ch"},children:(0,d.jsx)(j.Wk,{onValueChange:u})}),(0,d.jsx)(k.default,{sx:{width:"60ch"},children:(0,d.jsx)(j.YP,{onValueChange:w})})]})]}),(0,d.jsx)(e.A8,{sx:{width:"100%"},name:az.additionalNotes.name,label:az.additionalNotes.label,id:az.additionalNotes.name,rows:5,multiline:!0})]})})},aE=()=>{let[a,b]=(0,h.useState)(0),{navigateBackToProfile:c,navigateTo:g}=(0,p.cq)(),{params:i}=(0,p.KU)(),j=[{id:1,label:"Airway Assessment",encounter:f.fA.AIRWAY_ASSESSMENT},{id:11,label:"Breathing Assessment",encounter:f.fA.BREATHING_ASSESSMENT},{id:2,label:"Circulation Assessment",encounter:f.fA.CIRCULATION_ASSESSMENT},{id:3,label:"Disability Assessment",encounter:f.fA.PRIMARY_DISABILITY_ASSESSMENT},{id:4,label:"Exposure Assessment",encounter:f.fA.EXPOSURE_ASSESSMENT}];return(0,d.jsx)(d.Fragment,{children:(0,d.jsxs)(e.RG,{setActive:b,title:"Primary Survey",steps:j,active:a,onBack:()=>c(),showSubmittedStatus:!0,children:[(0,d.jsx)(aM,{onSubmit:()=>{b(1)}}),(0,d.jsx)(a1,{onSubmit:()=>{b(2)}}),(0,d.jsx)(an,{onSubmit:()=>{b(3)}}),(0,d.jsx)(ax,{onSubmit:()=>{b(4)}}),(0,d.jsx)(aD,{onSubmit:()=>{g(`/patient/${i.id}/medicalHistory`)}})]})})},aF={isAirwayPatent:{name:f.W.AIRWAY_PATENT,label:"Is Airway Patent",type:"string",options:{[f._Y]:"Patent",[f.NO]:"Not Patent",[f.W.THREATENED]:"Threatened"},children:[{multiple:!0,concept:f.W.AIRWAY_REASON,label:"Reason",type:"string"},{multiple:!0,concept:f.W.AIRWAY_OPENING_INTERVENTION,label:"Airway Opening Intervention",type:"string"}]},isPatientInjured:{name:f.W.PATIENT_INJURED,label:"Is Patient Injured",type:"string",options:{[f._Y]:"Injured",[f.NO]:"Not Injured"},children:[{type:"string",concept:f.W.NECK_COLLAR_APPLIED,label:"Neck Collar Applied",options:{[f._Y]:"Neck collar applied",[f.NO]:"Neck collar not applied",[f.W.NOT_INDICATED]:"No indication of neck collar"}},{type:"string",concept:f.W.HEAD_BLOCKS_APPLIED,label:"Head Blocks Applied"}]},neckCollar:{name:f.W.NECK_COLLAR_APPLIED,label:"Neck Collar Applied",child:!0},weakness:{name:f.W.WEAKNESS,label:"Weakness"},headBlocks:{name:f.W.HEAD_BLOCKS_APPLIED,label:"Head Blocks Applied",child:!0},airWayThreatenedReason:{name:f.W.AIRWAY_REASON,label:"Reason",child:!0},otherReason:{name:f.W.OTHER,label:"Specify"},intervention:{name:f.W.AIRWAY_OPENING_INTERVENTION,label:"Airway Opening Intervention"},nasopharyngealSize:{name:f.W.NASOPHARYNGEAL_AIRWAY,label:"Nasopharyngeal Airway Size"},oropharyngealSize:{name:f.W.OROPHARYNGEAL_AIRWAY,label:"Oropharyngeal Airway Size"}},aG=aF,aH=i.Ik().shape({[aF.isAirwayPatent.name]:i.Yj().required().label(aF.isAirwayPatent.label),[aF.headBlocks.name]:i.Yj().label(aF.headBlocks.label),[aF.neckCollar.name]:i.Yj().label(aF.neckCollar.label),[aF.airWayThreatenedReason.name]:i.YO().label(aF.airWayThreatenedReason.label),[aF.intervention.name]:i.YO().label(aF.intervention.label),[aF.weakness.name]:i.Yj().label(aF.weakness.label),[aF.nasopharyngealSize.name]:i.Yj().label(aF.nasopharyngealSize.label),[aF.oropharyngealSize.name]:i.Yj().label(aF.oropharyngealSize.label),[aF.otherReason.name]:i.Yj().when(aF.airWayThreatenedReason.name,(a,b)=>a[0]==f.W.OTHER?b.required():b).label(aF.otherReason.label)}),aI=[{id:f.W.SECRETION,label:"Secretions - blood, vomit, other"},{id:f.W.TONGUE_SWELLING,label:"Tongue swelling"},{id:f.W.NECK_SWELLING,label:"Neck swelling"},{id:f.W.NECK_HAEMATOMA,label:"Neck haematoma"},{id:f.W.TONGUE_FALLING_BACK,label:"Tongue falling back"},{id:f.W.OTHER,label:"Other"}],aJ=[{id:f.W.SUCTIONING_DONE,label:"Suctioning Done"},{id:f.W.JAW_THRUST_MANOEUVER,label:"Jaw thrust manoeuver"},{id:f.W.HEAD_TILT_CHIN_LIFT,label:"Head tilt/chin lift"},{id:f.W.OROPHARYNGEAL,label:"Airway adjunct (Oropharyngeal airway and size / nasopharyngeal airway)"},{id:"Laryngeal mask airway (LMA) insertion",label:"Laryngeal mask airway (LMA) insertion"},{id:"Endotracheal intubation",label:"Endotracheal intubation"},{id:"Performed Cricothyroidotomy(Surgical Airway)",label:"Performed Cricothyroidotomy(Surgical Airway)"},{id:"Performed tracheostomy",label:"Performed tracheostomy"}],aK=(0,g.f6)(aF),aL=[{label:"Yes",value:f._Y},{label:"No",value:f.NO}],aM=({onSubmit:a})=>{let{ServerTime:b}=(0,o.useServerTime)(),[c,i]=(0,h.useState)({}),{handleSubmit:j,isLoading:k}=(0,m.l)(f.fA.AIRWAY_ASSESSMENT,a),[l,p]=(0,h.useState)(!1),[q,r]=(0,h.useState)(!1),[s,t]=(0,h.useState)(!1),u=async a=>{let c={...a},d=c[aF.intervention.name],e=[],f=b.getServerTimeString();Array.isArray(d)&&(e=d.map(a=>({concept:aF.intervention.name,value:a.id,obsDatetime:f})));let h=c[aF.airWayThreatenedReason.name],i=[];Array.isArray(h)&&(i=h.map(a=>({concept:aF.airWayThreatenedReason.name,value:a.id,obsDatetime:f}))),delete c[aF.airWayThreatenedReason.name],delete c[aF.intervention.name],await j([...await (0,g.k$)(aF,c,f),...e,...i])};return(0,d.jsx)(n.h,{loading:k,children:!l&&(0,d.jsxs)(e.PD,{validationSchema:aH,initialValues:aK,onSubmit:u,submitButtonText:"Next",children:[(0,d.jsx)("br",{}),(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("br",{}),(0,d.jsx)(e.fP,{getValues:i}),(0,d.jsxs)(e.kI,{title:"Airway Patent",children:[(0,d.jsxs)(e.Vp,{sx:{alignItems:"flex-start"},children:[(0,d.jsx)(e.b1,{name:aF.isAirwayPatent.name,label:aF.isAirwayPatent.label,options:[...aL,{label:"Threatened",value:f.W.THREATENED}]}),(0,d.jsx)(e.b1,{name:aF.isPatientInjured.name,label:aF.isPatientInjured.label,options:aL})]}),(c[aF.isAirwayPatent.name]===f.W.THREATENED||c[aF.isAirwayPatent.name]===f.W.NO)&&(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(e.Vp,{sx:{my:"1ch"},children:(0,d.jsx)(e.el,{name:aF.airWayThreatenedReason.name,label:aF.airWayThreatenedReason.label,options:aI,getValue:a=>{r(!!a.find(a=>a.id==f.W.OTHER))},multiple:!0})}),q&&(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("br",{}),(0,d.jsx)(e.Vp,{children:(0,d.jsx)(e.A8,{sx:{m:0,width:"100%"},name:aF.otherReason.name,label:aF.otherReason.label,id:aF.otherReason.name})})]})]})]}),(0,d.jsx)("br",{}),c[aF.isPatientInjured.name]==f._Y&&(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(e.bL,{message:"Please stabilize the C-Spine"}),(0,d.jsx)("br",{}),(0,d.jsx)(e.kI,{last:!0,title:"Neck Collar and Head Blocks",children:(0,d.jsxs)(e.Vp,{sx:{alignItems:"flex-start"},children:[(0,d.jsx)(e.b1,{name:aF.neckCollar.name,label:aF.neckCollar.label,options:[...aL,{label:"Not Indicated",value:f.W.NOT_INDICATED}]}),(0,d.jsx)(e.b1,{name:aF.headBlocks.name,label:aF.headBlocks.label,options:aL})]})}),(0,d.jsx)("br",{})]}),(c[aF.isAirwayPatent.name]===f.NO||c[aF.isAirwayPatent.name]===f.W.THREATENED)&&(0,d.jsx)(d.Fragment,{children:(0,d.jsxs)(e.kI,{last:!0,title:"Interventions",children:[(0,d.jsx)(e.Vp,{children:(0,d.jsx)(e.el,{name:aF.intervention.name,label:aF.intervention.label,options:aJ,multiple:!0,getValue:a=>{t(!!a.find(a=>a.id==f.W.OROPHARYNGEAL))}})}),(0,d.jsx)("br",{}),s&&(0,d.jsx)(d.Fragment,{children:(0,d.jsxs)(e.Vp,{sx:{alignItems:"flex-start"},children:[(0,d.jsx)(e.b1,{name:aF.nasopharyngealSize.name,label:aF.nasopharyngealSize.label+"(CM)",options:[{value:"5",label:"5"},{value:"6",label:"6"},{value:"7",label:"7"},{value:"8",label:"8"},{value:"9",label:"9"}]}),(0,d.jsx)(e.b1,{name:aF.oropharyngealSize.name,label:aF.oropharyngealSize.label+" (MM)",options:[{value:"80",label:"80"},{value:"90",label:"90"},{value:"100",label:"100"},{value:"110",label:"110"},{value:"120",label:"120"}]})]})})]})})]})]})})};var aN=c(60157),aO=c(36451),aP=c(50492),aQ=c(16991),aR=c(45560),aS=c(39186),aT=c(42496),aU=c(56853),aV=c(55139);let aW={isPatientBreathing:{name:f.W.IS_BREATHING_ABNORMAL,label:"Is Patient Breathing",type:"string",options:{[f._Y]:"breathing",[f.NO]:"not breathing"},children:[{concept:f.W.START_TIME,label:"Start Time"},{concept:f.W.END_TIME,label:"End Time"},{multiple:!0,type:"string",concept:f.W.DEVICE_USED_FOR_INTERVENTION,label:"Device used for intervention"},{concept:f.W.RESPIRATORY_RATE,label:"Respiratory Rate"},{concept:f.W.OXYGEN_SATURATION,label:"Oxygen Saturation"},{concept:f.W.PATIENT_NEED_OXYGEN,label:"Patient Need Oxygen",children:[{concept:f.W.OXYGEN_SOURCE,label:"Oxygen Source"}]},{concept:f.W.OXYGEN_GIVEN,label:"Oxygen Given"},{concept:f.W.DEVICE_USED,label:"Device Used"},{concept:f.W.IS_TRACHEA_CENTRAL,label:"Is Trachea Central"},{concept:f.W.SIDE_DEVIATED,label:"Which side is it deviated to"},{concept:f.W.CHEST_WALL_ABNORMALITY,label:"Chest Wall Abnormality",children:[{concept:f.W.IMAGE_PART_NAME,label:"Chest Wall Abnormality Image",image:!0,parentConcept:f.W.CHEST_WALL_ABNORMALITY}]},{concept:f.W.CHEST_EXPANSION,label:"Chest Expansion"},{concept:f.W.ADDITIONAL_NOTES,label:"Additional Notes"},{concept:f.W.DESCRIPTION,label:"Description of Abnormality"},{concept:f.W.PERCUSSION,label:"Percussion",children:[{concept:f.W.IMAGE_PART_NAME,label:"Percussion Image",image:!0,parentConcept:f.W.PERCUSSION}]},{concept:f.W.BREATHING_SOUNDS,label:"Breath Sounds",children:[{concept:f.W.IMAGE_PART_NAME,label:"Breath Sounds Image",image:!0,parentConcept:f.W.BREATHING_SOUNDS}]}]},startTimeIntervention:{child:!0,name:f.W.START_TIME,label:"Start Time"},finishTimeIntervention:{child:!0,name:f.W.END_TIME,label:"End Time"},deviceForIntervention:{child:!0,multiple:!0,name:f.W.DEVICE_USED_FOR_INTERVENTION,label:"Device used for intervention"},respiratoryRate:{child:!0,name:f.W.RESPIRATORY_RATE,label:"Respiratory Rate"},oxygenSaturation:{child:!0,name:f.W.BLOOD_OXYGEN_SATURATION,label:"Oxygen Saturation"},oxygenNeeded:{child:!0,name:f.W.PATIENT_NEED_OXYGEN,label:"Patient Need Oxygen"},oxygenGiven:{child:!0,name:f.W.OXYGEN_GIVEN,label:"Oxygen Given"},oxygenSource:{child:!0,name:f.W.OXYGEN_SOURCE,label:"Oxygen Source"},deviceUsed:{child:!0,name:f.W.DEVICE_USED,label:"Device Used"},isTracheaCentral:{child:!0,name:f.W.IS_TRACHEA_CENTRAL,label:"Is Trachea Central"},deviationSide:{child:!0,name:f.W.SIDE_DEVIATED,label:"Which side is it deviated to"},chestWallAbnormality:{child:!0,name:f.W.CHEST_WALL_ABNORMALITY,label:"Chest Wall Abnormality"},chestExpansion:{child:!0,name:f.W.CHEST_EXPANSION,label:"Chest Expansion"},additionalNotes:{child:!0,name:f.W.ADDITIONAL_NOTES,label:"Additional Notes"},descriptionAbnormality:{child:!0,name:f.W.DESCRIPTION,label:"Description of Abnormality"},percussion:{child:!0,name:f.W.PERCUSSION,label:"Percussion"},breathSounds:{child:!0,name:f.W.BREATHING_SOUNDS,label:"Breath Sounds"}},aX=aW,aY=i.Ik().shape({[aW.isPatientBreathing.name]:i.Yj().required().label(aW.isPatientBreathing.label),[aW.startTimeIntervention.name]:i.Yj().label(aW.startTimeIntervention.label),[aW.finishTimeIntervention.name]:i.Yj().label(aW.finishTimeIntervention.label),[aW.deviceForIntervention.name]:i.YO().label(aW.deviceForIntervention.label),[aW.respiratoryRate.name]:i.ai().min(0).max(90).when(aW.isPatientBreathing.name,(a,b)=>a[0]==f.W.YES?b.required():b).label(aW.respiratoryRate.label).min(1).max(70),[aW.oxygenSaturation.name]:i.ai().min(20).max(100).when(aW.isPatientBreathing.name,(a,b)=>a[0]==f.W.YES?b.required():b).label(aW.oxygenSaturation.label).min(10).max(100),[aW.oxygenNeeded.name]:i.Yj().label(aW.oxygenNeeded.label),[aW.oxygenGiven.name]:i.ai().when(aW.oxygenNeeded.name,(a,b)=>a[0]==f.W.YES?b.required():b).min(1).max(15).label(aW.oxygenGiven.label),[aW.oxygenSource.name]:i.Yj().when(aW.oxygenNeeded.name,(a,b)=>a[0]==f.W.YES?b.required():b).label(aW.oxygenSource.label),[aW.deviceUsed.name]:i.Yj().when(aW.oxygenNeeded.name,(a,b)=>a[0]==f.W.YES?b.required():b).label(aW.deviceUsed.label),[aW.isTracheaCentral.name]:i.Yj().label(aW.isTracheaCentral.label),[aW.deviationSide.name]:i.Yj().label(aW.deviationSide.label),[aW.percussion.name]:i.Yj().label(aW.percussion.label),[aW.chestWallAbnormality.name]:i.Yj().label(aW.chestWallAbnormality.label),[aW.breathSounds.name]:i.Yj().label(aW.breathSounds.label)}),aZ=(0,g.f6)(aW),a$=[{label:"Concentrator",value:f.W.CONCENTRATOR},{label:"Cylinder",value:f.W.CYLINDER},{label:"Piped Oxygen",value:f.W.PIPED_OXYGEN}],a_=[{label:"Nasal Prongs",id:f.W.NASAL_PRONGS},{label:"Simple face mask",id:f.W.SIMPLE_FACE_MASK},{label:"Venturi face mask",id:f.W.VENTURI_FACE_MASK},{label:"Face mask with nebulising chamber",id:f.W.NEBULISING_CHAMBER},{label:"Nonrebreather face mask",id:f.W.NON_REBREATHER},{label:"Noninvasive ventilation mask",id:f.W.NON_INVASIVE_VENTILATION_MASK},{label:"Laryngeal mask airway",id:f.W.LARYNGEAL},{label:"Endotracheal tube",id:f.W.ENDOTRACHEAL}];f.W.WOUND,f.W.FLAIL_CHEST,f.W.SURGICAL_EMPHAYEMA,f.W.DEFORMITY,f.W.OTHER;let a0=[{label:"Yes",value:f._Y},{label:"No",value:f.NO}],a1=({onSubmit:a})=>{let{ServerTime:b}=(0,o.useServerTime)(),{gender:c}=(0,p.gd)(),[i,j]=(0,h.useState)([]),[k,l]=(0,h.useState)({}),[q,r]=(0,h.useState)([]),[s,t]=(0,h.useState)([]),{handleSubmit:u,isLoading:v,isSuccess:w}=(0,m.l)(f.fA.BREATHING_ASSESSMENT,a),[x,y]=(0,h.useState)(!1),[z,A]=(0,h.useState)([]),[B,C]=(0,h.useState)([]),[D,E]=(0,h.useState)([]),[F,G]=(0,h.useState)([]),H=async a=>{let c={...a},d=b.getServerTimeString(),e=[{concept:aW.chestWallAbnormality.name,value:c[aW.chestWallAbnormality.name],obsDatetime:d,groupMembers:await (0,g.Zt)(q)},{concept:aW.percussion.name,value:c[aW.percussion.name],obsDatetime:d,groupMembers:await (0,g.Zt)(s)},{concept:aW.chestExpansion.name,value:c[aW.chestExpansion.name],obsDatetime:d,groupMembers:await (0,g.Zt)(i)},{concept:aW.breathSounds.name,value:c[aW.breathSounds.name],obsDatetime:d,groupMembers:[{concept:f.W.SITE,value:"Lung Lateral Left",obsDatetime:d,groupMembers:await (0,g.Zt)(z)},{concept:f.W.SITE,value:"Lung Lateral Right",obsDatetime:d,groupMembers:await (0,g.Zt)(B)},{concept:f.W.SITE,value:"Lung Anterior",obsDatetime:d,groupMembers:await (0,g.Zt)(D)},{concept:f.W.SITE,value:"Lung Posterior",obsDatetime:d,groupMembers:await (0,g.Zt)(F)}]}],h=c[aW.deviceForIntervention.name],j=[];Array.isArray(h)&&(j=h.map(a=>({concept:aW.deviceForIntervention.name,value:a.id,obsDatetime:d}))),delete c[aW.chestWallAbnormality.name],delete c[aW.percussion.name],delete c[aW.deviceUsed.name],delete c[aW.chestExpansion.name],delete c[aW.deviceForIntervention.name],delete c[aW.breathSounds.name],await u([...await (0,g.k$)(aW,c,d),...e,...j])},I=[{id:1,label:"Lung Lateral Left",content:"Female"==c?(0,d.jsx)(aS.T,{onValueChange:A}):(0,d.jsx)(aU.k,{onValueChange:A})},{id:2,label:"Lung lateral right",content:"Female"==c?(0,d.jsx)(aV.W,{onValueChange:C}):(0,d.jsx)(aT.L,{onValueChange:C})},{id:3,label:"Lung Anterior",content:"Female"==c?(0,d.jsx)(aP.d,{onValueChange:E,form:"breathSounds"}):(0,d.jsx)(aO.i,{onValueChange:E,form:"breathSounds"})},{id:4,label:"Lung Posterior",content:"Female"==c?(0,d.jsx)(aR.b,{onValueChange:G,form:"breathSounds"}):(0,d.jsx)(aQ.Y,{onValueChange:G,form:"breathSounds"})}];return(0,d.jsx)(n.h,{loading:v,children:!x&&(0,d.jsxs)(e.PD,{validationSchema:aY,initialValues:aZ,onSubmit:H,submitButtonText:"Next",children:[(0,d.jsx)(e.fP,{getValues:l}),(0,d.jsx)(e.kI,{title:"Breathing",children:(0,d.jsx)(e.Vp,{children:(0,d.jsx)(e.b1,{row:!0,name:aW.isPatientBreathing.name,label:aW.isPatientBreathing.label,options:a0})})}),k[aW.isPatientBreathing.name]==f.NO&&(0,d.jsxs)(e.kI,{title:"",children:[(0,d.jsx)(e.bL,{message:"Assist with ventilation, Manually assist patient breathing"}),(0,d.jsxs)(e.Vp,{mr:"1ch",children:[(0,d.jsx)(e.YZ,{sx:{width:"100%",my:"1ch"},name:aW.startTimeIntervention.name,label:aW.startTimeIntervention.label}),(0,d.jsx)(e.YZ,{sx:{width:"100%",my:"1ch"},name:aW.finishTimeIntervention.name,label:aW.finishTimeIntervention.label})]}),(0,d.jsx)(e.el,{name:aW.deviceForIntervention.name,label:aW.deviceForIntervention.label,sx:{width:"100%"},options:[{label:"Bag and mask",id:f.W.BAG_AND_MASK},{label:"Laryngeal Mask Airway and bag",id:f.W.LARYNGEAL_MASK_AIRWAY_AND_BAG},{label:"Endotracheal tube (ETT)",id:f.W.ENDOTRACHEAL}]})]}),k[aW.isPatientBreathing.name]==f._Y&&(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)(e.kI,{title:"Respiratory and Oxygen",children:[(0,d.jsxs)(e.Vp,{mr:"1ch",children:[(0,d.jsx)(e.A8,{sx:{width:"100%"},unitOfMeasure:"bpm",name:aW.respiratoryRate.name,label:aW.respiratoryRate.label,id:aW.respiratoryRate.name}),(0,d.jsx)(e.A8,{sx:{width:"100%"},unitOfMeasure:"%",name:aW.oxygenSaturation.name,label:aW.oxygenSaturation.label,id:aW.oxygenSaturation.name})]}),(0,d.jsx)("br",{}),(0,d.jsxs)(e.Vp,{children:[(0,d.jsx)(e.b1,{name:aW.oxygenNeeded.name,label:aW.oxygenNeeded.label,options:a0,row:!0}),k[aW.oxygenNeeded.name]==f._Y&&(0,d.jsx)(e.b1,{name:aW.oxygenSource.name,label:aW.oxygenSource.label,options:a$,row:!0})]}),k[aW.oxygenNeeded.name]==f._Y&&(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(e.A8,{name:aW.oxygenGiven.name,label:aW.oxygenGiven.label,id:aW.oxygenGiven.name,sx:{width:"100%",m:0},unitOfMeasure:"L/min"}),(0,d.jsx)("br",{}),(0,d.jsx)("br",{}),(0,d.jsx)(e.el,{name:aW.deviceUsed.name,label:aW.deviceUsed.label,options:a_,multiple:!1}),(0,d.jsx)("br",{})]})]}),(0,d.jsxs)(e.kI,{last:!0,title:"Trachea and Chest",children:[(0,d.jsxs)(e.Vp,{children:[(0,d.jsx)(e.b1,{name:aW.isTracheaCentral.name,label:aW.isTracheaCentral.label,options:a0,row:!0}),(0,d.jsx)(e.b1,{name:aW.chestWallAbnormality.name,label:aW.chestWallAbnormality.label,options:a0,row:!0})]}),k[aW.isTracheaCentral.name]==f.NO&&(0,d.jsx)(e.Vp,{children:(0,d.jsx)(d.Fragment,{children:(0,d.jsx)(e.b1,{name:aW.deviationSide.name,label:aW.deviationSide.label,row:!0,options:[{label:"Left",value:f.W.LEFT},{label:"Right",value:f.W.RIGHT}]})})}),k[aW.chestWallAbnormality.name]==f._Y&&(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("br",{}),(0,d.jsx)(e.bL,{message:"Diagram to select area"}),"Male"==c&&(0,d.jsx)(aO.i,{imageSection:aW.chestWallAbnormality.name,onValueChange:r,form:"breathingLung"}),"Female"==c&&(0,d.jsx)(aP.d,{imageSection:aW.chestWallAbnormality.name,onValueChange:r,form:"breathingLung"}),(0,d.jsx)("br",{}),(0,d.jsx)(e.Vp,{children:k[aW.descriptionAbnormality.name]==f.W.OTHER&&(0,d.jsx)(e.Vp,{children:(0,d.jsx)(e.A8,{multiline:!0,rows:3,name:aW.descriptionAbnormality.name,label:aW.descriptionAbnormality.label,id:aW.descriptionAbnormality.name})})})]}),(0,d.jsx)("br",{}),(0,d.jsx)(e.b1,{name:aW.chestExpansion.name,label:aW.chestExpansion.label,row:!0,options:[{label:"Normal",value:f.W.NORMAL},{label:"Reduced",value:f.W.REDUCED}]}),k[aW.chestExpansion.name]==f.W.REDUCED&&(0,d.jsxs)(d.Fragment,{children:["Male"==c&&(0,d.jsx)(aO.i,{onValueChange:j,form:"selectable"}),"Female"==c&&(0,d.jsx)(aP.d,{imageEncounter:f.fA.BREATHING_ASSESSMENT,onValueChange:j,form:"selectable"})]}),(0,d.jsx)("br",{}),(0,d.jsx)(e.b1,{name:aW.percussion.name,label:aW.percussion.label,row:!0,options:[{label:"Normal",value:f.W.NORMAL},{label:"Abnormal",value:f.W.ABNORMAL}]}),k[aW.percussion.name]==f.W.ABNORMAL&&(0,d.jsxs)(d.Fragment,{children:["Male"==c&&(0,d.jsx)(aQ.Y,{form:"percussion",onValueChange:t}),"Female"==c&&(0,d.jsx)(aR.b,{form:"percussion",onValueChange:t})]}),(0,d.jsx)(e.Vp,{children:(0,d.jsx)(e.b1,{name:aW.breathSounds.name,label:aW.breathSounds.label,row:!0,options:[{label:"Normal",value:f.W.NORMAL},{label:"Abnormal",value:f.W.ABNORMAL}]})}),k[aW.breathSounds.name]==f.W.ABNORMAL&&(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("br",{}),(0,d.jsx)(aN.A,{slides:I})]}),(0,d.jsx)(e.Vp,{children:(0,d.jsx)(e.A8,{multiline:!0,rows:3,sx:{m:0,width:"100%"},name:aW.additionalNotes.name,label:aW.additionalNotes.label,id:aW.additionalNotes.name})})]})]})]})})}}};