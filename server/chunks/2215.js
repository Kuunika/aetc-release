"use strict";exports.id=2215,exports.ids=[2215],exports.modules={12215:(a,b,c)=>{c.d(b,{U:()=>C,k:()=>H});var d=c(21124),e=c(80350),f=c(66815),g=c(90675),h=c(82283),i=c(50852),j=c(81637),k=c(54573),l=c(79515),m=c(37674),n=c(68730),o=c(48936),p=c(38301),q=c(16776),r=c(21544),s=c(82081),t=c(44990),u=c(24390),v=c(95373),w=c(95745);let x={name:"",formulation:"",medication_dose:0,medication_dose_unit:"",medication_route:"",medication_frequency:"",medication_duration:0,medication_duration_unit:""},y=[{id:w.W.TABLET,label:"Tablet"},{id:w.W.VIAL,label:"Vial"},{id:w.W.INTRAVENOUS,label:"Intravenous"},{id:w.W.POWDER,label:"Powder"},{id:w.W.SOLUTION,label:"Solution"},{id:w.W.EYE_OINTMENT,label:"Eye Ointment"},{id:w.W.CREAM,label:"Cream"},{id:w.W.EYE_DROPS,label:"Eye Drops"},{id:w.W.OINTMENT,label:"Ointment"},{id:w.W.INHALER,label:"Inhaler"},{id:w.W.SUPPOSITORY,label:"Suppository"},{id:w.W.PESSARY,label:"Pessary"},{id:w.W.SUSPENSION,label:"Suspension"},{id:w.W.SHAMPOO,label:"Shampoo"},{id:w.W.EAR_DROPS,label:"Ear Drops"},{id:w.W.EYE_PASTE,label:"Eye Paste"}],z=[{id:"STAT",label:"STAT"},{id:w.W.ONCE_A_DAY,label:"24 Hourly (OD) - Once a day "},{id:w.W.TWICE_A_DAY,label:"12 Hourly (BID) - Twice a day"},{id:w.W.THREE_TIMES_A_DAY,label:"8 Hourly (TID) - Three times a day"},{id:w.W.FOUR_TIMES_A_DAY,label:"6 Hourly (QID) - Four times a day"},{id:w.W.SIX_TIMES_A_DAY,label:"4 Hourly (OD) - Six times a day "},{id:w.W.ONCE_A_WEEK,label:"Once a week"},{id:w.W.ONCE_A_MONTH,label:"Once a month"},{id:w.W.OTHER,label:"Other"}],A=["Milligrams (mg)","Micrograms (\xb5g)","Grams (g)","International Units (IU)","Milliliters (ml)","Millimoles (mmol)"],B={subjective:{name:w.W.SUBJECTIVE,label:"Subjective",bold:!0},objective:{name:"objective",label:"Objective",type:"title",bold:!0,children:[{concept:w.W.MEDICAL_RECORD_OBSERVATIONS,label:"General/Other observation"},{concept:w.W.SYSTOLIC_BLOOD_PRESSURE,label:"Systolic"},{concept:w.W.DIASTOLIC_BLOOD_PRESSURE,label:"Diastolic"},{concept:w.W.PULSE_RATE,label:"Pulse Rate"},{concept:w.W.RESPIRATORY_RATE,label:"Respiratory Rate"},{concept:w.W.BLOOD_OXYGEN_SATURATION,label:"SPO2"},{concept:w.W.TEMPERATURE,label:"Temperature"}]},systolic:{child:!0,name:w.W.SYSTOLIC_BLOOD_PRESSURE,label:"Systolic"},diastolic:{child:!0,name:w.W.DIASTOLIC_BLOOD_PRESSURE,label:"Diastolic"},pulseRate:{child:!0,name:w.W.PULSE_RATE,label:"Pulse Rate"},respiratoryRate:{child:!0,name:w.W.RESPIRATORY_RATE,label:"Respiratory Rate"},spo:{child:!0,name:w.W.BLOOD_OXYGEN_SATURATION,label:"SPO2"},temperature:{child:!0,name:w.W.TEMPERATURE,label:"Temperature"},assessment:{name:w.W.ASSESSMENT,label:"Assessment"},plan:{name:w.W.PLAN,label:"Plan"},evaluation:{name:w.W.EVALUATION,label:"Evaluation"},replan:{name:w.W.REPLAN,label:"Replan"},proceduresConfig:{name:w.W.PROCEDURES,label:"Procedures",multiple:!0,type:"string",hasGroupMembers:!0,bold:!0},supportiveCareConfig:{name:w.W.SUPPORTIVE_CARE,label:"supportive Care",multiple:!0,type:"string",hasGroupMembers:!0,bold:!0}},C=B,D=[{value:w.W.INTRAVENOUS_CANNULATION,label:"Intravenous Cannulation"},{value:w.W.CATHETERIZATION_URETHRAL,label:"Urethral Catheterization"},{value:w.W.SUCTIONING,label:"Suctioning"},{value:w.W.OROPHARYNGEAL_AIRWAY_INSERTION,label:"Oropharyngeal Airway Insertion"},{value:w.W.NASOPHARYNGEAL_AIRWAY_INSERTION,label:"Nasopharyngeal Airway Insertion"},{value:w.W.LARYNGEAL_MASK_AIRWAY_INSERTION,label:"Laryngeal Mask Airway Insertion"},{value:w.W.NASOGASTRIC_TUBE_INSERTION,label:"Nasogastric Tube Insertion"},{value:w.W.OTHER,label:"Other (Specify)"}],E=[{value:w.W.WOUND_DRESSING,label:"Wound Dressing"},{value:w.W.PATIENT_EDUCATION,label:"Patient Education"},{value:w.W.COUNSELLING,label:"Counselling"},{value:w.W.FEEDING,label:"Feeding"},{value:w.W.OXYGENATION,label:"Oxygenation"},{value:w.W.TEPID_SPONGING,label:"Tepid Sponging"},{value:w.W.ELECTROCARDIOGRAPHY_MONITORING,label:"Electrocardiography (ECG) Monitoring"},{value:w.W.TURNING_PATIENTS,label:"Turning Patients"},{value:w.W.ORAL_CARE,label:"Oral Care"},{value:w.W.OTHER,label:"Other (Specify)"}],F=o.Ik().shape({[B.subjective.name]:o.Yj().required(B.subjective.label),[B.objective.name]:o.Yj().required(B.objective.label),[B.assessment.name]:o.Yj().required(B.assessment.label),[B.plan.name]:o.Yj().required(B.plan.label),[B.evaluation.name]:o.Yj().required(B.evaluation.label),[B.replan.name]:o.Yj().required(B.replan.label),procedures:o.YO().of(o.Ik().shape({key:o.Yj().required(),value:o.zM().required()})).transform(a=>Array.isArray(a)?a.filter(a=>!0===a.value):[]).min(1,"At least one procedure must be selected"),otherProcedureSpecify:o.Yj().nullable().when("procedures",{is:a=>a.some(a=>a.key===w.W.OTHER),then:a=>a.required("Please specify the other procedure")}),supportiveCare:o.YO().of(o.Ik().shape({key:o.Yj().required(),value:o.zM().required()})).transform(a=>Array.isArray(a)?a.filter(a=>!0===a.value):[]).min(1,"At least one supportive care option must be selected"),otherSupportiveCareSpecify:o.Yj().nullable().when("supportiveCare",{is:a=>a.some(a=>a.key===w.W.OTHER),then:a=>a.required("Please specify the other supportive care")}),[B.spo.name]:o.ai().min(0).max(100).required().label(B.spo.label),[B.respiratoryRate.name]:o.ai().min(0).max(90).required().label(B.respiratoryRate.label),[B.systolic.name]:o.ai().min(0).max(300).required().label(B.systolic.label),[B.diastolic.name]:o.ai().min(0).max(300).required().label(B.diastolic.label),[B.temperature.name]:o.ai().min(20).max(45).required().label(B.temperature.label)}),G=(0,f.f6)(B);G.medications=[x],G.procedures=[],G.supportiveCare=[],G.otherProcedureSpecify="",G.otherSupportiveCareSpecify="";let H=()=>{let{ServerTime:a}=(0,g.useServerTime)(),{activeVisit:b,patientId:c}=(0,h.gd)(),[o,C]=(0,p.useState)({}),{mutate:H,isPending:I,isSuccess:J}=(0,i.jM)(),[K,L]=(0,p.useState)({medications:[]}),[M,N]=(0,p.useState)([]),{medicationOptions:O,loadingDrugs:P}=(0,v.A)(),Q=["Paracetamol","Ibuprofen","Diclofenac sodium 75mg/ml, 3ml","Diclofenac sodium Slow Release","Diclofenac sodium","Salbutamol","Salbutamol sulphate","Salbutamol solution for nebulising 5mg/ml","Salbutamol sulphate aerosol inhalation, 100mcg/dose, 200 doses","Oxytocin","Dextrose 50%,","Aspirin","Prednisolone","Diazepam"],[R,S]=(0,p.useState)({otherProcedure:!1,otherSupportiveCare:!1}),{navigateBack:T}=(0,h.cq)(),{handleSubmit:U}=(0,h.li)(w.fA.NURSING_CARE_NOTES,()=>T());(0,p.useEffect)(()=>{N(O.filter(a=>Q.includes(a.label)))},[O]);let V=d=>{let e=a.getServerTimeString(),f=d.map(b=>({concept:w.W.DRUG_GIVEN,value:b.name,obsDateTime:e,groupMembers:[{concept:w.W.MEDICATION_DOSE,value:b.medication_dose,obsDateTime:e},{concept:w.W.MEDICATION_ROUTE,value:b.medication_route,obsDatetime:a.getServerTimeString()},{concept:w.W.DESCRIPTION,value:"soapier",obsDateTime:e}]}));H({encounterType:w.fA.SOAPIER_DISPENSING,visit:b,patient:c,encounterDatetime:e,obs:f})},W=async d=>{let e=a.getServerTimeString(),f=[{concept:w.W.PROCEDURES,value:w.W.PROCEDURES,obsDatetime:e,groupMembers:(d.procedures||[]).filter(a=>!0===a.value).map(a=>({concept:a.key,value:a.key===w.W.OTHER?d.otherProcedureSpecify:a.key,obsDatetime:e}))},{concept:w.W.SUPPORTIVE_CARE,value:w.W.SUPPORTIVE_CARE,obsDatetime:e,groupMembers:(d.supportiveCare||[]).filter(a=>!0===a.value).map(a=>({concept:a.key,value:a.key===w.W.OTHER?d.otherSupportiveCareSpecify:a.key,obsDatetime:e}))}];H({encounterType:w.fA.NURSING_CARE_NOTES,visit:b,patient:c,encounterDatetime:e,obs:f})};return(0,d.jsx)(d.Fragment,{children:(0,d.jsx)(u.h,{loading:I||P,children:(0,d.jsx)(e.PD,{initialValues:G,validationSchema:F,onSubmit:d=>{let{procedures:e,supportiveCare:g,medications:h,otherProcedureSpecify:i,otherSupportiveCareSpecify:j,...k}=d;(d=>{if(0===d.length)return;V(d);let e=a.getServerTimeString(),f=d.map(a=>({concept:w.W.DRUG_GIVEN,value:a.name,obsDateTime:e,groupMembers:[{concept:w.W.MEDICATION_FORMULATION,value:a.formulation,obsDateTime:e,coded:!0},{concept:w.W.MEDICATION_DOSE,value:a.medication_dose,obsDateTime:e},{concept:w.W.MEDICATION_DOSE_UNIT,value:a.medication_dose_unit,obsDateTime:e},{concept:w.W.MEDICATION_FREQUENCY,value:a.medication_frequency,coded:!0,obsDateTime:e},{concept:w.W.MEDICATION_DURATION,value:a.medication_duration,obsDateTime:e},{concept:w.W.MEDICATION_DURATION_UNIT,value:a.medication_duration_unit,obsDateTime:e},{concept:w.W.DESCRIPTION,value:"soapier",obsDateTime:e}]}));H({encounterType:w.fA.SOAPIER_PRESCRIPTION,visit:b,patient:c,encounterDatetime:e,obs:f}),K.medications=[x]})(h),W({procedures:e,supportiveCare:g,otherProcedureSpecify:i,otherSupportiveCareSpecify:j}),U((0,f.gX)(k,a.getServerTimeString()))},submitButton:!1,children:({values:a,setFieldValue:b})=>(0,d.jsx)(d.Fragment,{children:(0,d.jsxs)(j.default,{children:[(0,d.jsxs)(k.default,{sx:{p:2,mb:2},children:[(0,d.jsx)(l.default,{variant:"h6",children:B.subjective.label}),(0,d.jsx)(e.A8,{label:"",name:B.subjective.name,multiline:!0,id:B.subjective.name,rows:3,sx:{width:"100%",mt:0}})]}),(0,d.jsxs)(k.default,{sx:{p:2,mb:2},children:[(0,d.jsx)(l.default,{variant:"h6",children:"Objective"}),(0,d.jsxs)("div",{style:{marginLeft:"50px"},children:[(0,d.jsx)(l.default,{children:B.objective.label}),(0,d.jsx)(e.A8,{label:"",name:B.objective.name,multiline:!0,id:B.objective.name,rows:3,sx:{width:"100%"}}),(0,d.jsx)(l.default,{children:"Vital signs"}),(0,d.jsxs)(e.m2,{children:[(0,d.jsx)(e.A8,{name:B.spo.name,label:B.spo.label,id:B.spo.name,sx:{width:"100%"},unitOfMeasure:"%"}),(0,d.jsx)(e.A8,{name:B.systolic.name,label:B.systolic.label,id:B.systolic.name,sx:{width:"100%"},unitOfMeasure:"mmHg"}),(0,d.jsx)(e.A8,{name:B.diastolic.name,label:B.diastolic.label,id:B.diastolic.name,sx:{width:"100%"},unitOfMeasure:"mmHg"}),(0,d.jsx)(e.A8,{name:B.respiratoryRate.name,label:B.respiratoryRate.label,id:B.respiratoryRate.name,sx:{width:"100%"},unitOfMeasure:"BPM"}),(0,d.jsx)(e.A8,{name:B.pulseRate.name,label:B.pulseRate.label,id:B.pulseRate.name,sx:{width:"100%"},unitOfMeasure:"BPM"}),(0,d.jsx)(e.A8,{name:B.temperature.name,label:B.temperature.label,id:B.temperature.name,sx:{width:"100%"},unitOfMeasure:"\xb0C"})]})]})]}),(0,d.jsxs)(k.default,{sx:{p:2,mb:2},children:[(0,d.jsx)(l.default,{variant:"h6",children:B.assessment.label}),(0,d.jsx)(e.A8,{label:"",name:B.assessment.name,multiline:!0,id:B.assessment.name,rows:3,sx:{width:"100%"}})]}),(0,d.jsxs)(k.default,{sx:{p:2,mb:2},children:[(0,d.jsx)(l.default,{variant:"h6",children:B.plan.label}),(0,d.jsx)(e.A8,{label:"",name:B.plan.name,multiline:!0,id:B.plan.name,rows:3,sx:{width:"100%"}})]}),(0,d.jsxs)(k.default,{sx:{p:2,mb:2},children:[(0,d.jsx)(l.default,{variant:"h6",sx:{mb:2},children:"Intervention/Implementation"}),(0,d.jsxs)("span",{style:{fontSize:"16px",fontWeight:"bold"},children:[" ","Non-pharmacological management"," "]}),(0,d.jsx)("div",{style:{maxWidth:"900px"},children:(0,d.jsxs)(e.GE,{direction:"row",children:[(0,d.jsxs)(e.jD,{sx:{bgcolor:"white",padding:"0.5ch",mb:"2ch",width:"90%"},children:[(0,d.jsx)("h4",{children:"Procedures"}),(0,d.jsx)(e.Z3,{name:"procedures",allowFilter:!1,options:D,getValue:a=>S(b=>({...b,otherProcedure:a.some(a=>a.key===w.W.OTHER&&a.value)}))}),R.otherProcedure&&(0,d.jsx)(e.A8,{id:"otherProcedureSpecify",label:"Specify Other Procedure",name:"otherProcedureSpecify",placeholder:"Specify the procedure"})]}),(0,d.jsxs)(e.jD,{sx:{bgcolor:"white",padding:"2ch",mb:"2ch",width:"90%"},children:[(0,d.jsx)("h4",{children:"Supportive Care"}),(0,d.jsx)(e.Z3,{name:"supportiveCare",allowFilter:!1,options:E,getValue:a=>S(b=>({...b,otherSupportiveCare:a.some(a=>a.key===w.W.OTHER&&a.value)}))}),R.otherSupportiveCare&&(0,d.jsx)(e.A8,{id:"otherSupportiveCareSpecify",label:"Specify Other Supportive Care",name:"otherSupportiveCareSpecify",placeholder:"Specify the care"})]})]})}),(0,d.jsx)("h4",{style:{marginBottom:"1ch"},children:"Pharmacological management"}),(0,d.jsx)(e.fP,{getValues:L}),(0,d.jsx)(q.ED,{name:"medications",children:({push:c,remove:f})=>(0,d.jsx)(r.A,{items:a.medications,setItems:a=>b("medications",a),newItem:x,renderFields:(a,c)=>(0,d.jsxs)(j.default,{sx:{display:"flex",alignItems:"center",gap:1,flexWrap:"wrap",width:"100%"},children:[(0,d.jsx)(e.el,{name:`medications[${c}].name`,label:"Medication Name",options:M,getValue:a=>b(`medications[${c}].name`,a),multiple:!1}),(0,d.jsx)(e.el,{name:`medications[${c}].formulation`,label:"Formulation",options:y,getValue:a=>b(`medications[${c}].formulation`,a),sx:{flex:1},multiple:!1}),(0,d.jsx)(e.pj,{id:`medications[${c}].medication_dose`,label:"Dose",name:`medications[${c}].medication_dose`,unitName:`medications[${c}].medication_dose_unit`,unitOptions:A,placeholder:"e.g., 500",inputIcon:(0,d.jsx)(s.gaX,{})}),o[c]?(0,d.jsx)(e.A8,{id:`medications[${c}].medication_frequency`,name:`medications[${c}].medication_frequency`,label:"Specify frequency",sx:{flex:1}}):(0,d.jsx)(e.el,{name:`medications[${c}].medication_frequency`,label:"Frequency",options:z,getValue:a=>{"Other"===a&&C(a=>({...a,[c]:!0})),b(`medications[${c}].medication_frequency`,a)},multiple:!1}),K?.medications[c]?.medication_frequency!="STAT"&&(0,d.jsx)(e.pj,{id:`medications[${c}].medication_duration`,name:`medications[${c}].medication_duration`,unitName:`medications[${c}].medication_duration_unit`,label:"Duration",unitOptions:w.bH,placeholder:"e.g. 7",inputIcon:(0,d.jsx)(t.YmN,{}),sx:{flex:1}}),(0,d.jsx)(m.A,{id:`medications[${c}].medication_route`,name:`medications[${c}].medication_route`,label:"Route",fullWidth:!0,variant:"outlined"})]})})}),(0,d.jsx)("br",{})]}),(0,d.jsxs)(k.default,{sx:{p:2,mb:2},children:[(0,d.jsx)(l.default,{variant:"h6",children:B.evaluation.label}),(0,d.jsx)(e.A8,{label:"",name:B.evaluation.name,multiline:!0,id:B.evaluation.name,rows:3,sx:{width:"100%"}})]}),(0,d.jsxs)(k.default,{sx:{p:2,mb:2},children:[(0,d.jsx)(l.default,{variant:"h6",children:B.replan.label}),(0,d.jsx)(e.A8,{label:"",name:B.replan.name,multiline:!0,id:B.replan.name,rows:3,sx:{width:"100%"}})]}),(0,d.jsx)(n.A,{variant:"contained",type:"submit",children:"Submit"})]})})})})})}}};