"use strict";exports.id=9526,exports.ids=[9526],exports.modules={1973:(a,b,c)=>{c.d(b,{Z:()=>o});var d=c(21124),e=c(24390),f=c(50549),g=c(95745),h=c(53848),i=c(12541),j=c(13351),k=c(82283),l=c(50852),m=c(68730),n=c(38301);let o=({setRow:a,encounterType:b=g.fA.PRESCRIPTIONS,medicationLabelTitle:c,showPrintButton:o=!0})=>{let{patientId:p,activeVisitId:q}=(0,k.gd)(),{setZpl:r,setOpen:s}=(0,h.m)(),{selectedVisit:t}=(0,i.E)(),{data:u,isPending:v}=(0,l.$O)(p,`encounter_type=${b}&visit=${t?.uuid}`),[w,x]=(0,n.useState)([]),y=(a,b)=>a?.children?.find(a=>a.names&&a.names[0].name==b)?.value;return(0,n.useEffect)(()=>{let a=u?.filter(a=>a.visit_id==Number(q));if(!a||0==a.length)return void x([]);x(a[0]?.obs.filter(a=>a?.names&&a?.names[0].name==g.W.DRUG_GIVEN).map(a=>{let b=y(a,g.l8.MEDICATION_DURATION_UNIT),c=y(a,g.W.MEDICATION_DOSE),d=y(a,g.l8.DESCRIPTION),e=y(a,g.l8.MEDICATION_FORMULATION),f=y(a,g.l8.MEDICATION_DOSE_UNIT),h=y(a,g.l8.MEDICATION_FREQUENCY),i=y(a,g.l8.MEDICATION_DURATION)+" "+b,j=a.value_coded_uuid;return{medicationName:a.value,durationUnit:b,dose:c,doseUnits:f,frequency:h,duration:i,formulation:e,description:d,prescribedBy:a.created_by,medicationUUID:j}}).filter(a=>"current"==a.description))},[u]),(0,d.jsxs)(e.h,{loading:v,children:[o&&(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(m.A,{onClick:()=>{let a=(0,j.B)(w,c);s(a),r(a)},variant:"contained",children:"Print Medications"}),(0,d.jsx)("br",{})]}),(0,d.jsx)(f.q,{getSelectedRow:a,columns:[{label:"Medication Name",field:"medicationName"},{label:"Dose",field:"dose"},{label:"Frequency",field:"frequency"},{label:"Duration",field:"duration"},{label:"Formulation",field:"formulation"},{label:"Prescriber",field:"prescribedBy"}],data:w})]})}},12616:(a,b,c)=>{c.d(b,{r:()=>r});var d=c(21124),e=c(95627),f=c.n(e),g=c(38301),h=c(45992),i=c(95745),j=c(82283),k=c(66951),l=c(50852),m=c(80350),n=c(61820),o=c(58179),p=c(1973);let q=({presentingInfo:a,pastMedicalHistory:b,reviewOfSystems:c,physicalExam:e,clerkInfo:f,gynaeHistory:h,setRow:k,showPatientInfo:q=!1})=>{let[r,s]=(0,g.useState)([]),{params:t}=(0,j.KU)(),u=t.id,{data:v,isLoading:w}=(0,l.$O)(u,`encounter_type=${i.fA.BED_SIDE_TEST}`);if((0,g.useEffect)(()=>{!w&&v&&s(v?.[0]?.obs??[])},[v,w]),[...a.complaints,a.history,a.surgicalHistory,a.surgicalProcedure,...a.familyHistory,a.allergies,a.differentialDiagnosis,a.notes,a.smoking.status,a.smoking.duration,a.alcoholIntake,a.recreationalDrugs,...b,...Object.values(c).flat(),...Object.values(e),f.additionalNotes,f.clerkName,f.designation,f.signature].every(a=>Array.isArray(a)?0===a.length:"string"==typeof a&&!a.trim()))return(0,d.jsxs)(d.Fragment,{children:[q&&(0,d.jsx)(m.TF,{}),(0,d.jsx)("h1",{style:{textAlign:"center",marginBottom:"20px"},children:"Surgical Notes"}),(0,d.jsx)("p",{style:{fontStyle:"italic",color:"gray"},children:"Surgical Notes not recorded."})]});let x=()=>e.temperature||e.pulseRate||e.bloodPressure||e.respiratoryRate,y=()=>e.eyes||e.mouth||e.neck,z=()=>e.chest||e.endocrine||e.abdominal,A=()=>e.motorResponse||e.verbalResponse||e.eyeResponse,B=()=>e.cranialNerves||e.grossMotor||e.sensation||e.pulsations||e.rectalExamination||e.extremities;return(0,d.jsxs)("div",{children:[q&&(0,d.jsx)(m.TF,{}),(0,d.jsx)("h1",{style:{textAlign:"center",marginBottom:"20px"},children:"Surgical Notes"}),(a.complaints.length>0||a.history)&&(0,d.jsxs)(d.Fragment,{children:[a.complaints.length>0&&(0,d.jsxs)("p",{children:[(0,d.jsx)("strong",{children:"Presenting Complaints:"})," ",a.complaints.map((a,b)=>`(${b+1}) ${a.complaint}${a.duration?` - Duration: ${a.duration}`:""}`).join(", ")]}),a.history&&(0,d.jsxs)("p",{children:[(0,d.jsx)("strong",{children:"History of Presenting Complaint:"})," ",a.history]}),(0,d.jsx)("hr",{})]}),b.length>0&&(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("h2",{children:"Past Medical History"}),(0,d.jsxs)("table",{style:{width:"100%",borderCollapse:"collapse",marginBottom:"20px"},children:[(0,d.jsx)("thead",{children:(0,d.jsxs)("tr",{children:[(0,d.jsx)("th",{style:{border:"1px solid #ddd",padding:"8px",textAlign:"left"},children:"Condition"}),(0,d.jsx)("th",{style:{border:"1px solid #ddd",padding:"8px",textAlign:"left"},children:"On Treatment"}),(0,d.jsx)("th",{style:{border:"1px solid #ddd",padding:"8px",textAlign:"left"},children:"Medication"}),(0,d.jsx)("th",{style:{border:"1px solid #ddd",padding:"8px",textAlign:"left"},children:"Medication Dose"}),(0,d.jsx)("th",{style:{border:"1px solid #ddd",padding:"8px",textAlign:"left"},children:"Reason for Request"}),(0,d.jsx)("th",{style:{border:"1px solid #ddd",padding:"8px",textAlign:"left"},children:"Medication Duration"})]})}),(0,d.jsx)("tbody",{children:b.map((a,b)=>(0,d.jsxs)("tr",{children:[(0,d.jsx)("td",{style:{border:"1px solid #ddd",padding:"8px"},children:a.condition}),(0,d.jsx)("td",{style:{border:"1px solid #ddd",padding:"8px"},children:a.onTreatment}),(0,d.jsx)("td",{style:{border:"1px solid #ddd",padding:"8px"},children:a.medication}),(0,d.jsx)("td",{style:{border:"1px solid #ddd",padding:"8px"},children:a.medicationDose}),(0,d.jsx)("td",{style:{border:"1px solid #ddd",padding:"8px"},children:a.reasonForRequest}),(0,d.jsx)("td",{style:{border:"1px solid #ddd",padding:"8px"},children:a.medicationDuration})]},b))})]})]}),(a.surgicalHistory||a.surgicalProcedure||a.familyHistory.length>0||a.allergies)&&(0,d.jsxs)(d.Fragment,{children:[a.surgicalHistory&&(0,d.jsxs)("p",{children:[(0,d.jsx)("strong",{children:"Surgical History:"})," ",a.surgicalHistory]}),a.surgicalProcedure&&(0,d.jsxs)("p",{children:[(0,d.jsx)("strong",{children:"Surgical Procedure:"})," ",a.surgicalProcedure]}),a.familyHistory.length>0&&(0,d.jsxs)("p",{children:[(0,d.jsx)("strong",{children:"Family History:"})," ",a.familyHistory.map((a,b)=>`(${b+1}) ${a}`).join(", ")]}),a.allergies&&(0,d.jsxs)("p",{children:[(0,d.jsx)("strong",{children:"Allergies:"})," ",a.allergies]}),(0,d.jsx)("hr",{})]}),(h.isPregnant||h.lnmp||h.gestationalAge||h.parity)&&(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("h2",{children:"Gynae History"}),h.isPregnant&&(0,d.jsxs)("p",{children:[(0,d.jsx)("strong",{children:"Is Patient Pregnant:"})," ",h.isPregnant]}),h.lnmp&&(0,d.jsxs)("p",{children:[(0,d.jsx)("strong",{children:"LNMP:"})," ",h.lnmp]}),h.gestationalAge&&(0,d.jsxs)("p",{children:[(0,d.jsx)("strong",{children:"Gestational Age:"})," ",h.gestationalAge]}),h.parity&&(0,d.jsxs)("p",{children:[(0,d.jsx)("strong",{children:"Parity:"})," ",h.parity]}),(0,d.jsx)("hr",{})]}),(a.smoking.status||a.smoking.duration||a.alcoholIntake||a.recreationalDrugs||Object.values(c).some(a=>a.length>0))&&(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("h2",{children:"Social History & Review of Systems"}),(0,d.jsxs)("table",{style:{width:"100%",borderCollapse:"collapse",marginBottom:"20px"},children:[(0,d.jsx)("thead",{children:(0,d.jsxs)("tr",{children:[(0,d.jsx)("th",{style:{border:"1px solid #ddd",padding:"8px",textAlign:"left"},children:"Social History"}),(0,d.jsx)("th",{style:{border:"1px solid #ddd",padding:"8px",textAlign:"left"},children:"Review of Systems"})]})}),(0,d.jsxs)("tbody",{children:[(a.smoking.status||c.general.length>0)&&(0,d.jsxs)("tr",{children:[(0,d.jsx)("td",{style:{border:"1px solid #ddd",padding:"8px"},children:a.smoking.status&&(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("strong",{children:"Smoking Status:"})," ",a.smoking.status]})}),(0,d.jsx)("td",{style:{border:"1px solid #ddd",padding:"8px"},children:c.general.length>0&&(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("strong",{children:"General:"})," ",c.general.map((a,b)=>`(${b+1}) ${a}`).join(", ")]})})]}),"Yes"===a.smoking.status&&a.smoking.duration||c.ent.length>0?(0,d.jsxs)("tr",{children:[(0,d.jsx)("td",{style:{border:"1px solid #ddd",padding:"8px"},children:"Yes"===a.smoking.status&&a.smoking.duration&&(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("strong",{children:"Cigarettes per day:"})," ",a.smoking.duration]})}),(0,d.jsx)("td",{style:{border:"1px solid #ddd",padding:"8px"},children:c.ent.length>0&&(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("strong",{children:"ENT:"})," ",c.ent.map((a,b)=>`(${b+1}) ${a}`).join(", ")]})})]}):null,(a.alcoholIntake||c.endocrine.length>0)&&(0,d.jsxs)("tr",{children:[(0,d.jsx)("td",{style:{border:"1px solid #ddd",padding:"8px"},children:a.alcoholIntake&&(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("strong",{children:"Alcohol Intake:"})," ",a.alcoholIntake," units per day"]})}),(0,d.jsx)("td",{style:{border:"1px solid #ddd",padding:"8px"},children:c.endocrine.length>0&&(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("strong",{children:"Endocrine:"})," ",c.endocrine.map((a,b)=>`(${b+1}) ${a}`).join(", ")]})})]}),(a.recreationalDrugs||c.cardiac.length>0)&&(0,d.jsxs)("tr",{children:[(0,d.jsx)("td",{style:{border:"1px solid #ddd",padding:"8px"},children:a.recreationalDrugs&&(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("strong",{children:"Recreational Drugs:"})," ",a.recreationalDrugs]})}),(0,d.jsx)("td",{style:{border:"1px solid #ddd",padding:"8px"},children:c.cardiac.length>0&&(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("strong",{children:"Cardiac:"})," ",c.cardiac.map((a,b)=>`(${b+1}) ${a}`).join(", ")]})})]}),c.respiratory.length>0&&(0,d.jsxs)("tr",{children:[(0,d.jsx)("td",{style:{border:"1px solid #ddd",padding:"8px"}}),(0,d.jsxs)("td",{style:{border:"1px solid #ddd",padding:"8px"},children:[(0,d.jsx)("strong",{children:"Respiratory:"})," ",c.respiratory.map((a,b)=>`(${b+1}) ${a}`).join(", ")]})]}),c.gastrointestinal.length>0&&(0,d.jsxs)("tr",{children:[(0,d.jsx)("td",{style:{border:"1px solid #ddd",padding:"8px"}}),(0,d.jsxs)("td",{style:{border:"1px solid #ddd",padding:"8px"},children:[(0,d.jsx)("strong",{children:"Gastrointestinal:"})," ",c.gastrointestinal.map((a,b)=>`(${b+1}) ${a}`).join(", ")]})]}),c.genitourinary.length>0&&(0,d.jsxs)("tr",{children:[(0,d.jsx)("td",{style:{border:"1px solid #ddd",padding:"8px"}}),(0,d.jsxs)("td",{style:{border:"1px solid #ddd",padding:"8px"},children:[(0,d.jsx)("strong",{children:"Genitourinary:"})," ",c.genitourinary.map((a,b)=>`(${b+1}) ${a}`).join(", ")]})]}),c.musculoskeletal.length>0&&(0,d.jsxs)("tr",{children:[(0,d.jsx)("td",{style:{border:"1px solid #ddd",padding:"8px"}}),(0,d.jsxs)("td",{style:{border:"1px solid #ddd",padding:"8px"},children:[(0,d.jsx)("strong",{children:"Musculoskeletal:"})," ",c.musculoskeletal.map((a,b)=>`(${b+1}) ${a}`).join(", ")]})]}),c.neurologic.length>0&&(0,d.jsxs)("tr",{children:[(0,d.jsx)("td",{style:{border:"1px solid #ddd",padding:"8px"}}),(0,d.jsxs)("td",{style:{border:"1px solid #ddd",padding:"8px"},children:[(0,d.jsx)("strong",{children:"Neurologic:"})," ",c.neurologic.map((a,b)=>`(${b+1}) ${a}`).join(", ")]})]}),c.psychiatric.length>0&&(0,d.jsxs)("tr",{children:[(0,d.jsx)("td",{style:{border:"1px solid #ddd",padding:"8px"}}),(0,d.jsxs)("td",{style:{border:"1px solid #ddd",padding:"8px"},children:[(0,d.jsx)("strong",{children:"Psychiatric:"})," ",c.psychiatric.map((a,b)=>`(${b+1}) ${a}`).join(", ")]})]})]})]})]}),(e.generalCondition||x()||y()||z()||A()||B())&&(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("h2",{children:"Physical Examination"}),e.generalCondition&&(0,d.jsxs)("p",{children:[(0,d.jsx)("strong",{children:"General Condition:"})," ",e.generalCondition]}),x()&&(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("h3",{children:"Vitals"}),(0,d.jsxs)("div",{style:{display:"flex",gap:"20px",marginBottom:"10px",flexWrap:"wrap"},children:[e.temperature&&(0,d.jsxs)("p",{children:[(0,d.jsx)("strong",{children:"Temperature:"})," ",e.temperature]}),e.pulseRate&&(0,d.jsxs)("p",{children:[(0,d.jsx)("strong",{children:"Pulse Rate:"})," ",e.pulseRate," bpm"]}),e.bloodPressure&&(0,d.jsxs)("p",{children:[(0,d.jsx)("strong",{children:"Blood Pressure:"})," ",e.bloodPressure," mmHg"]}),e.respiratoryRate&&(0,d.jsxs)("p",{children:[(0,d.jsx)("strong",{children:"Respiratory Rate:"})," ",e.respiratoryRate," breaths/min"]})]})]}),y()&&(0,d.jsxs)("div",{style:{display:"flex",gap:"20px",marginBottom:"10px",flexWrap:"wrap"},children:[e.eyes&&(0,d.jsxs)("p",{children:[(0,d.jsx)("strong",{children:"Eyes:"})," ",e.eyes]}),e.mouth&&(0,d.jsxs)("p",{children:[(0,d.jsx)("strong",{children:"Mouth:"})," ",e.mouth]}),e.neck&&(0,d.jsxs)("p",{children:[(0,d.jsx)("strong",{children:"Neck:"})," ",e.neck]})]}),z()&&(0,d.jsxs)(d.Fragment,{children:[e.chest&&(0,d.jsxs)("p",{children:[(0,d.jsx)("strong",{children:"Chest Examination:"})," ",e.chest]}),e.endocrine&&(0,d.jsxs)("p",{children:[(0,d.jsx)("strong",{children:"Endocrine Examination:"})," ",e.endocrine]}),e.abdominal&&(0,d.jsxs)("p",{children:[(0,d.jsx)("strong",{children:"Abdominal Examination:"})," ",e.abdominal]})]}),(0,d.jsx)("hr",{}),A()&&(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("h3",{children:"Glasgow Coma Scale (GCS)"}),e.motorResponse&&(0,d.jsxs)("p",{children:[(0,d.jsx)("strong",{children:"Motor Response:"})," ",e.motorResponse]}),e.verbalResponse&&(0,d.jsxs)("p",{children:[(0,d.jsx)("strong",{children:"Verbal Response:"})," ",e.verbalResponse]}),e.eyeResponse&&(0,d.jsxs)("p",{children:[(0,d.jsx)("strong",{children:"Eye Response:"})," ",e.eyeResponse]}),(0,d.jsx)("hr",{})]}),B()&&(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("h3",{children:"Additional Examinations & Extremities"}),(0,d.jsxs)("table",{style:{width:"100%",borderCollapse:"collapse",marginBottom:"20px"},children:[(0,d.jsx)("thead",{children:(0,d.jsxs)("tr",{children:[(0,d.jsx)("th",{style:{border:"1px solid #ddd",padding:"8px",textAlign:"left"},children:"Additional Examinations"}),(0,d.jsx)("th",{style:{border:"1px solid #ddd",padding:"8px",textAlign:"left"},children:"Extremities"})]})}),(0,d.jsxs)("tbody",{children:[(e.cranialNerves||e.pulsations)&&(0,d.jsxs)("tr",{children:[(0,d.jsx)("td",{style:{border:"1px solid #ddd",padding:"8px"},children:e.cranialNerves&&(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("strong",{children:"Cranial Nerves:"})," ",e.cranialNerves]})}),(0,d.jsx)("td",{style:{border:"1px solid #ddd",padding:"8px"},children:e.pulsations&&(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("strong",{children:"Pulsations:"})," ",e.pulsations]})})]}),(e.grossMotor||e.rectalExamination)&&(0,d.jsxs)("tr",{children:[(0,d.jsx)("td",{style:{border:"1px solid #ddd",padding:"8px"},children:e.grossMotor&&(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("strong",{children:"Gross Motor:"})," ",e.grossMotor]})}),(0,d.jsx)("td",{style:{border:"1px solid #ddd",padding:"8px"},children:e.rectalExamination&&(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("strong",{children:"Rectal Examination:"})," ",e.rectalExamination]})})]}),(e.sensation||e.extremities)&&(0,d.jsxs)("tr",{children:[(0,d.jsx)("td",{style:{border:"1px solid #ddd",padding:"8px"},children:e.sensation&&(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("strong",{children:"Sensation:"})," ",e.sensation]})}),(0,d.jsx)("td",{style:{border:"1px solid #ddd",padding:"8px"},children:e.extremities&&(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("strong",{children:"Extremities:"})," ",e.extremities]})})]})]})]})]})]}),a.differentialDiagnosis&&(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("hr",{}),(0,d.jsxs)("p",{children:[(0,d.jsx)("strong",{children:"Working Differential Diagnosis:"})," ",a.differentialDiagnosis]})]}),(0,d.jsx)("hr",{}),(0,d.jsx)("h2",{children:"Investigations"}),(0,d.jsx)("h3",{children:"Bedside Results"}),(0,d.jsx)(n.N,{data:r}),(0,d.jsx)("h3",{children:"Lab Results"}),(0,d.jsx)(o.E,{rows:[]}),a.notes&&(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("hr",{}),(0,d.jsxs)("p",{children:[(0,d.jsx)("strong",{children:"Additional Investigation Notes:"})," ",a.notes]})]}),(0,d.jsx)("hr",{}),(0,d.jsx)("h2",{children:"Medications"}),(0,d.jsx)(p.Z,{setRow:k,showPrintButton:!1}),(f.additionalNotes||f.clerkName||f.designation||f.signature)&&(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("hr",{}),(0,d.jsx)("h2",{children:"Clerking Details"}),f.additionalNotes&&(0,d.jsxs)("p",{children:[(0,d.jsx)("strong",{children:"Additional Notes:"})," ",f.additionalNotes]}),(0,d.jsxs)("div",{style:{display:"flex",gap:"20px",marginBottom:"10px",flexWrap:"wrap"},children:[f.clerkName&&(0,d.jsxs)("p",{children:[(0,d.jsx)("strong",{children:"Clerk Name:"})," ",f.clerkName]}),f.designation&&(0,d.jsxs)("p",{children:[(0,d.jsx)("strong",{children:"Designation:"})," ",f.designation]}),f.signature&&(0,d.jsxs)("p",{children:[(0,d.jsx)("strong",{children:"Signature:"})," ",f.signature]})]})]})]})},r=(0,g.forwardRef)(({onPrintComplete:a,showPreview:b=!1},c)=>{let[e,m]=(0,g.useState)(null),{params:n}=(0,j.KU)(),{data:o}=(0,k.iu)(n.id),{data:p}=(0,l.$O)(n.id),[r,s]=(0,g.useState)(void 0),[t,u]=(0,g.useState)({clerkName:"",designation:"",signature:"",additionalNotes:""}),[v,w]=(0,g.useState)({complaints:[],history:"",surgicalHistory:"",surgicalProcedure:"",familyHistory:[],allergies:"",differentialDiagnosis:"",notes:"",smoking:{status:"",duration:""},alcoholIntake:"",recreationalDrugs:""}),[x,y]=(0,g.useState)({isPregnant:"",lnmp:"",gestationalAge:"",parity:""}),[z,A]=(0,g.useState)({general:[],ent:[],endocrine:[],cardiac:[],respiratory:[],gastrointestinal:[],genitourinary:[],musculoskeletal:[],neurologic:[],psychiatric:[]}),[B,C]=(0,g.useState)({generalCondition:"",temperature:"",pulseRate:"",bloodPressure:"",respiratoryRate:"",eyes:"",mouth:"",neck:"",chest:"",endocrine:"",abdominal:"",motorResponse:"",verbalResponse:"",eyeResponse:"",cranialNerves:"",grossMotor:"",sensation:"",pulsations:"",rectalExamination:"",extremities:""}),[D,E]=(0,g.useState)([]),F=(0,g.useRef)(null),G=(0,h.useReactToPrint)({contentRef:F,onAfterPrint:a});return(0,g.useImperativeHandle)(c,()=>({generatePDF:()=>{G()}})),(0,g.useEffect)(()=>{if(!p)return;let a=p?.filter(a=>a.encounter_type&&a.encounter_type.uuid===i.fA.SURGICAL_NOTES_TEMPLATE_FORM).sort((a,b)=>new Date(b.encounter_datetime).getTime()-new Date(a.encounter_datetime).getTime())[0];if(a&&a.obs){let b={clerkName:"",designation:"",signature:"",additionalNotes:""},c={complaints:[],history:"",surgicalHistory:"",surgicalProcedure:"",familyHistory:[],allergies:"",differentialDiagnosis:"",notes:"",smoking:{status:"",duration:""},alcoholIntake:"",recreationalDrugs:""},d={isPregnant:"",lnmp:"",gestationalAge:"",parity:""},e={general:[],ent:[],endocrine:[],cardiac:[],respiratory:[],gastrointestinal:[],genitourinary:[],musculoskeletal:[],neurologic:[],psychiatric:[]},f={generalCondition:"",temperature:"",pulseRate:"",bloodPressure:"",respiratoryRate:"",eyes:"",mouth:"",neck:"",chest:"",endocrine:"",abdominal:"",motorResponse:"",verbalResponse:"",eyeResponse:"",cranialNerves:"",grossMotor:"",sensation:"",pulsations:"",rectalExamination:"",extremities:""};a.obs.forEach(a=>{let g=a.names&&a.names.length>0?a.names[0].name:null;if("Clerk name"===g)b.clerkName=a.value||a.value_text||"";else if("Designation"===g)b.designation=a.value||a.value_text||"";else if("Signature"===g)b.signature=a.value||a.value_text||"";else if("Additional Notes"===g)b.additionalNotes=a.value||a.value_text||"";else if("B-HCG"===g)d.isPregnant=a.value||a.value_text||"";else if("LNMP"===g)d.lnmp=a.value||a.value_text||"";else if("Gestational age"===g)d.gestationalAge=a.value||a.value_text||"";else if("Parity"===g)d.parity=a.value||a.value_text||"";else if("Presenting Complaints"===g)a.children&&a.children.length>0&&a.children.forEach(a=>{let b=a.value||a.value_text||"",d="";if(a.children&&a.children.length>0){let b=a.children.find(a=>a.names&&a.names.length>0&&"Duration"===a.names[0].name);b&&(d=b.value||b.value_text||"")}b&&c.complaints.push({complaint:b,duration:d})});else if("Presenting history"===g)c.history=a.value||a.value_text||"";else if("Surgical Procedure"===g)c.surgicalHistory=a.value||a.value_text||"";else if("Procedures"===g)c.surgicalProcedure=a.value||a.value_text||"";else if(g?.startsWith("Family History")){let b=a.value||a.value_text||"";b&&c.familyHistory.push(b)}else if("Allergic reaction"===g)c.allergies=a.value||a.value_text||"";else if("Attempted/ Differential Diagnosis"===g)c.differentialDiagnosis=a.value||a.value_text||"";else if("Clinician notes"===g)c.notes=a.value||a.value_text||"";else if("Patient smokes"===g){if(c.smoking.status=a.value||a.value_text||"",a.children&&a.children.length>0){let b=a.children.find(a=>a.names&&a.names.length>0&&"Expected Duration"===a.names[0].name);b&&(c.smoking.duration=b.value||b.value_text||"")}}else"Alcohol intake"===g?c.alcoholIntake=a.value||a.value_text||"":"Recreational drug"===g?c.recreationalDrugs=a.value||a.value_text||"":"Review of systems, general"===g?a.children&&a.children.length>0&&a.children.forEach(a=>{let b=a.names&&a.names.length>0?a.names[0].name:null;b&&e.general.push(b)}):"Review of systems ENT"===g?a.children&&a.children.length>0&&a.children.forEach(a=>{let b=a.names&&a.names.length>0?a.names[0].name:null;b&&e.ent.push(b)}):"Review of systems  endocrine"===g?a.children&&a.children.length>0&&a.children.forEach(a=>{let b=a.names&&a.names.length>0?a.names[0].name:null;b&&e.endocrine.push(b)}):"Review of systems cardiac"===g?a.children&&a.children.length>0&&a.children.forEach(a=>{let b=a.names&&a.names.length>0?a.names[0].name:null;b&&e.cardiac.push(b)}):"Severe Respiratory"===g?a.children&&a.children.length>0&&a.children.forEach(a=>{let b=a.names&&a.names.length>0?a.names[0].name:null;b&&e.respiratory.push(b)}):"Review Of Systems Gastrointestinal"===g?a.children&&a.children.length>0&&a.children.forEach(a=>{let b=a.names&&a.names.length>0?a.names[0].name:null;b&&e.gastrointestinal.push(b)}):"Review Of Systems Genitourinary"===g?a.children&&a.children.length>0&&a.children.forEach(a=>{let b=a.names&&a.names.length>0?a.names[0].name:null;b&&e.genitourinary.push(b)}):"Review of systems musculoskeletal"===g?a.children&&a.children.length>0&&a.children.forEach(a=>{let b=a.names&&a.names.length>0?a.names[0].name:null;b&&e.musculoskeletal.push(b)}):"Review of systems neurologic"===g?a.children&&a.children.length>0&&a.children.forEach(a=>{let b=a.names&&a.names.length>0?a.names[0].name:null;b&&e.neurologic.push(b)}):"Review of systems psychiatric"===g?a.children&&a.children.length>0&&a.children.forEach(a=>{let b=a.names&&a.names.length>0?a.names[0].name:null;b&&e.psychiatric.push(b)}):"General condition"===g?f.generalCondition=a.value||"":"Temperature (c)"===g?f.temperature=a.value_numeric?`${a.value_numeric}\xb0C`:a.value||"":"Pulse Rate"===g?f.pulseRate=a.value_text||a.value||"":"Blood Pressure Measured"===g?f.bloodPressure=a.value_text||a.value||"":"Respiratory rate"===g?f.respiratoryRate=a.value_text||a.value||"":"Eyes"===g?f.eyes=a.value_text||a.value||"":"Mouth"===g?f.mouth=a.value_text||a.value||"":"Neck"===g?f.neck=a.value_text||a.value||"":"Chest examination"===g?f.chest=a.value_text||a.value||"":"Endocrine examination"===g?f.endocrine=a.value_text||a.value||"":"Abdominal examination"===g?f.abdominal=a.value_text||a.value||"":"Motor response"===g?f.motorResponse=a.value_text||a.value||"":"Verbal Response"===g?f.verbalResponse=a.value_text||a.value||"":"Eye Opening response"===g?f.eyeResponse=a.value_text||a.value||"":"Cranial erves"===g?f.cranialNerves=a.value_text||a.value||"":"Gross motor"===g?f.grossMotor=a.value_text||a.value||"":"Sensation"===g?f.sensation=a.value_text||a.value||"":"Pulsations"===g?f.pulsations=a.value_text||a.value||"":"Rectal examination"===g?f.rectalExamination=a.value_text||a.value||"":"Extremities"===g&&(f.extremities=a.value_text||a.value||"")}),!b.clerkName&&a.created_by&&(b.clerkName=a.created_by),u(b),w(c),y(d),A(e),C(f)}let b=[];p.forEach(a=>{a.obs&&a.obs.forEach(a=>{if("Condition"===(a.names&&a.names.length>0?a.names[0].name:null)&&a.children&&a.children.length>0){let c={condition:a.value||a.value_text||"",onTreatment:"",medication:"",medicationDose:"",reasonForRequest:"",medicationDuration:""};a.children.forEach(a=>{let b=a.names&&a.names.length>0?a.names[0].name:null;"On treatment"===b?c.onTreatment=a.value||a.value_text||"":"Medication"===b?c.medication=a.value||a.value_text||"":"Medication Dose"===b?c.medicationDose=a.value||a.value_text||"":"Reason for request"===b?c.reasonForRequest=a.value||a.value_text||"":"Medication Duration"===b&&(c.medicationDuration=a.value||a.value_text||"")}),b.push(c)}})}),E(b)},[p]),(0,d.jsxs)("div",{ref:F,className:"jsx-a11c19d41d611344 print-only-wrapper",children:[(0,d.jsx)("div",{className:"jsx-a11c19d41d611344 "+((b?"print-preview":"print-only")||""),children:(0,d.jsx)(q,{presentingInfo:v,pastMedicalHistory:D,reviewOfSystems:z,physicalExam:B,clerkInfo:t,gynaeHistory:x,setRow:m,showPatientInfo:!0})}),(0,d.jsx)(f(),{id:"a11c19d41d611344",children:"@media print{.print-only.jsx-a11c19d41d611344{display:block!important}}.print-only.jsx-a11c19d41d611344{display:none}.print-preview.jsx-a11c19d41d611344{display:block;border:1px solid#e0e0e0;margin:20px 0;padding:20px;background:white;border-radius:4px;box-shadow:0 2px 4px rgba(0,0,0,.1)}"})]})})},31393:(a,b,c)=>{c.d(b,{M:()=>z});var d=c(21124),e=c(82283),f=c(39739),g=c(80350),h=c(37242),i=c(66951),j=c(38301),k=c(81637),l=c(68730),m=c(77981),n=c(83899),o=c(52327),p=c(37896),q=c(4845),r=c(96335),s=c(9115),t=c(19143),u=c(42306),v=c(79515),w=c(46468),x=c(38736),y=c(81604);let z=()=>{let{data:a}=(0,y.Ay)(),b=(0,j.useRef)(null),{params:c}=(0,e.KU)(),{data:z}=(0,i.GN)(c.id),{data:A}=(0,f.RO)(c?.id),[B,C]=(0,j.useState)(!1),[D,E]=(0,j.useState)({sampleType:"",ascension:"",tests:"",orderDate:"",requestingTechnician:"",description:""}),[F,G]=(0,j.useState)("http://localhost:3000"),[H,I]=(0,j.useState)(!1),[J,K]=(0,j.useState)([{name:"",value:"",testName:""}]),L=(0,j.useCallback)((a,b)=>{K(a.map(a=>({name:a.indicator.name,value:a.value,testName:b}))),I(!0)},[]),M=(0,j.useCallback)(()=>{I(!1)},[]),N=(0,j.useCallback)(a=>{b.current=a},[]),O=[{field:"specimen",headerName:"Specimen",flex:1,renderCell:a=>a.row.specimen.name},{field:"test",headerName:"Test(s)",flex:1,renderCell:a=>a.row.test.name},{field:"requesting_clinician",headerName:"Ordered By",flex:1},{field:"status",headerName:"Status",flex:1},{field:"accessionNumber",headerName:"Accession Number",flex:1,renderCell:a=>a.row.accession_number},{field:"action",headerName:"Action",flex:1,renderCell:a=>(0,d.jsx)(k.default,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",width:"100%"},children:(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(l.A,{disabled:!(a.row.test.result&&a.row.test.result.length>0),variant:"contained",onClick:()=>{L(a.row.test.result,a.row.test.name)},sx:{width:"48%",padding:"4px 8px"},children:"View"}),(0,d.jsxs)(m.A,{open:H,onClose:M,maxWidth:"sm",fullWidth:!0,children:[(0,d.jsxs)(n.A,{children:["Test results for ",J[0].testName]}),(0,d.jsx)(o.A,{children:(0,d.jsxs)(p.A,{children:[(0,d.jsx)(q.A,{children:(0,d.jsxs)(r.A,{children:[(0,d.jsx)(s.A,{children:"Measure"}),(0,d.jsx)(s.A,{children:"Result"})]})}),(0,d.jsx)(t.A,{children:J.map((a,b)=>(0,d.jsxs)(r.A,{children:[(0,d.jsx)(s.A,{children:a.name}),(0,d.jsx)(s.A,{children:a.value})]},b))})]})}),(0,d.jsx)(u.A,{children:(0,d.jsx)(l.A,{onClick:M,color:"primary",children:"Close"})})]}),(0,d.jsx)(g.O6,{title:"print",variant:"secondary",onClick:()=>{C(!0),E({sampleType:a.row.specimen.name,ascension:a.row.accession_number,orderDate:(0,x.kh)(a.row.order_date),tests:a.row.test.name,requestingTechnician:a.row.requesting_clinician,description:a.row.comment_to_fulfiller})},sx:{width:"48%",padding:"4px 8px"}})]})})}],P=A?.flatMap(a=>a.tests.map(b=>({...a,id:b.id,test:b,status:b.result?"Results Available":"Waiting for result(s)"})))||[];return(0,d.jsxs)(d.Fragment,{children:[0===P.length?(0,d.jsx)(v.default,{children:"No lab orders added"}):(0,d.jsx)(g.WE,{height:"25ch",showTopBar:!1,rowHeight:25,rows:P,columns:O}),(0,d.jsx)(g.eV,{maxWidth:"sm",open:B,onClose:()=>C(!1),title:"Preview Barcode",children:(0,d.jsxs)(g.jD,{sx:{display:"flex",flexDirection:"column",alignItems:"center"},children:[(0,d.jsx)(h.SE,{printer:F,orderDate:D.orderDate,setTriggerFunc:N,value:D.ascension,test:`${D.tests}|${D.ascension}|${D.requestingTechnician.split(" ")[1]}`,fullName:`${z?.given_name} ${z?.family_name}`,gender:z?.gender,description:D.description,children:(0,d.jsx)(d.Fragment,{})}),(0,d.jsx)("br",{}),(0,d.jsx)(w.x,{getValue:a=>{G(a)},label:"Select Printer",options:a?a?.map(a=>({value:a.ip_address,label:a.name})):[]}),(0,d.jsx)("br",{}),(0,d.jsx)(g.O6,{title:"Print Barcode",onClick:()=>{b.current&&"function"==typeof b.current&&(b.current(),C(!1))}})]})})]})}},58179:(a,b,c)=>{c.d(b,{E:()=>g});var d=c(21124),e=c(80350),f=c(79515);let g=({rows:a})=>{let b=[];return 0==b.length?(0,d.jsx)(f.default,{children:"No results available"}):(0,d.jsx)(e.WE,{rowHeight:25,rows:b,columns:[{field:"test",headerName:"Test",flex:1},{field:"result",headerName:"result",flex:1}]})}},61820:(a,b,c)=>{c.d(b,{N:()=>g});var d=c(21124),e=c(79515),f=c(38301);let g=({data:a})=>{let[b,c]=(0,f.useState)([]),g={pH:"",PCO2:"mmHg",PO2:"mmHg","Base Excess":"mmol/L",ctHb:"g/dL",SO2E:"%",FO2HBE:"%",FHHBE:"%",FmetHb:"%","Creatine kinase":"mmol/L",CNA:"mmol/L",CA2:"mmol/L",CCL:"mmol/L",cGlu:"mmol/L",cLac:"mmol/L",ctBil:"\xb5mol/L","pH (T)":"","pCO₂ (T)":"mmHg","pO₂ (T)":"mmHg",P50E:"",BaseExcess:"mmol/L",HCO3:"mmol/L","Anion Gapc":"mmol/L",MOSMC:"mmol/kg"};(0,f.useEffect)(()=>{if(a.length>0){let b=Object.values(a),d=a=>a.filter(a=>{let b=a.names?.[0]?.name==="Description",c=a.value??a.value_text??a.value_numeric,d=!isNaN(Number(c))&&null!=c&&""!==c;return!(b&&d)}).map(a=>({...a,children:a.children?d(a.children):[]}));c(b.filter(a=>a.children&&a.children.length>0).map(a=>({...a,children:a.children?d(a.children):[]})).sort((a,b)=>{let c=new Date(a.obs_datetime).getTime();return new Date(b.obs_datetime).getTime()-c}))}},[a]);let h=a=>{let b=g[a]??"";return`${b?` ${b}`:""}`},i=(a,b=0)=>{let c=a.children?.length>0;return(0,d.jsxs)("div",{style:{marginLeft:16*b},children:[(0,d.jsxs)(e.default,{sx:{color:"#777",fontWeight:400,lineHeight:1.5},children:[c?(0,d.jsx)("b",{children:a.names?.[0]?.name==="Description"?"":`${a.names?.[0]?.name} `}):(0,d.jsx)("b",{children:a.names?.[0]?.name==="Description"?"":`${a.names?.[0]?.name} : `}),a.value_text?(0,d.jsxs)(d.Fragment,{children:[c?(0,d.jsx)("b",{children:a.value_text}):a.value_text,(0,d.jsx)("span",{children:h(a.names?.[0]?.name)})]}):(0,d.jsxs)(d.Fragment,{children:[c?(0,d.jsx)("b",{children:a.value??a.value_numeric??"N/A"}):a.value??a.value_numeric??"N/A",(0,d.jsx)("span",{children:h(a.names?.[0]?.name)})]})]}),c&&(0,d.jsx)("div",{style:{display:"flex",flexWrap:"wrap",gap:"16px"},children:a.children.map(a=>i(a,b+1))})]},a.obs_id)};return(0,d.jsx)("div",{style:{display:"flex",flexDirection:"column",alignItems:"flex-start",gap:"0.2rem"},children:0===b.length?(0,d.jsx)(e.default,{children:"No results available"}):b.map(a=>i(a,1))})}}};