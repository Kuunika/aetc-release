exports.id=4225,exports.ids=[4225],exports.modules={413:(e,a,r)=>{"use strict";r.r(a),r.d(a,{default:()=>t});let t=(0,r(12907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/Users/pk/App/hwis/aetc/app/config/layout.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/pk/App/hwis/aetc/app/config/layout.tsx","default")},16813:(e,a,r)=>{"use strict";r.d(a,{q:()=>R,H:()=>w});var t=r(60687),s=r(61939),l=r(63843),n=r(28274),o=r(71953),i=r(24942),d=r(45742),u=r(52487),c=r(84135),m=r(75905),f=r(78590),p=r(35933),h=r(88334),x=r(58706),g=r(8459),b=r(43210);let j=(0,r(10356).A)((0,t.jsx)("path",{d:"M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5M12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5m0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3"}),"Visibility");var y=r(89638);let v=e=>{let a=0;for(let r=0;r<e.length;r++)a=e.charCodeAt(r)+((a<<5)-a);let r=a%360;return`hsl(${r}, 70%, 80%)`},w=()=>{let{navigateTo:e}=(0,s.cq)(),{data:a,isLoading:r}=(0,l.CF)(),[w,A]=(0,b.useState)(""),[C,N]=(0,b.useState)(1),k=(0,b.useMemo)(()=>a?a.filter(e=>{let a=`${e?.person?.names[0]?.given_name} ${e?.person?.names[0]?.family_name}`.toLowerCase();return e?.username?.toLowerCase().includes(w.toLowerCase())||a.includes(w.toLowerCase())}):[],[a,w]),D=Math.ceil(k.length/8),S=k.slice((C-1)*8,8*C);return r?(0,t.jsx)(n.default,{display:"flex",justifyContent:"center",mt:4,children:(0,t.jsx)(o.A,{})}):(0,t.jsxs)(n.default,{children:[(0,t.jsx)(n.default,{mb:2,display:"flex",justifyContent:"space-between",children:(0,t.jsx)(i.A,{size:"small",placeholder:"Search user...",value:w,onChange:e=>{N(1),A(e.target.value)},sx:{width:"300px"}})}),(0,t.jsx)(d.default,{container:!0,spacing:2,children:S.map(a=>{let r=a?.uuid,s=a?.user_roles?.map(e=>e?.role?.role).filter(Boolean)||[],l=a?.person?.names[0]?.given_name||"",o=a?.person?.names[0]?.family_name||"",i=a?.username||"User";return(0,t.jsx)(d.default,{item:!0,xs:12,sm:6,md:4,lg:3,children:(0,t.jsxs)(u.A,{sx:{borderRadius:2,boxShadow:"0 2px 8px rgba(0,0,0,0.08)",height:"100%",display:"flex",flexDirection:"column"},children:[(0,t.jsxs)(c.A,{sx:{flexGrow:1},children:[(0,t.jsxs)(n.default,{display:"flex",alignItems:"center",mb:1,children:[(0,t.jsx)(m.A,{sx:{bgcolor:v(i),mr:2},children:i.charAt(0).toUpperCase()}),(0,t.jsx)(f.default,{variant:"h6",fontWeight:600,children:i})]}),(0,t.jsxs)(f.default,{variant:"body2",color:"text.secondary",children:[l," ",o]}),(0,t.jsx)(p.A,{direction:"row",spacing:1,flexWrap:"wrap",mt:1,children:s.length>0?s.map((e,a)=>(0,t.jsx)(h.A,{label:e,size:"small",sx:{backgroundColor:v(e),fontSize:"12px"}},a)):(0,t.jsx)(f.default,{variant:"body2",color:"text.secondary",children:"â€” No roles"})})]}),(0,t.jsxs)(n.default,{sx:{display:"flex",justifyContent:"flex-end",gap:1,p:1},children:[(0,t.jsx)(x.default,{color:"primary",size:"small",onClick:()=>{},children:(0,t.jsx)(j,{fontSize:"small"})}),(0,t.jsx)(x.default,{color:"secondary",size:"small",onClick:()=>e(`config/users/${r}`),children:(0,t.jsx)(y.A,{fontSize:"small"})})]})]})},r)})}),D>1&&(0,t.jsx)(n.default,{display:"flex",justifyContent:"center",mt:3,children:(0,t.jsx)(g.A,{count:D,page:C,onChange:(e,a)=>N(a),color:"primary"})})]})};var A=r(29779),C=r(75018),N=r(30485),k=r(50772);let D={userName:{name:"userName",label:"Username"},firstName:{name:"firstName",label:"First Name"},lastName:{name:"lastName",label:"Last Name"},password:{name:"password",label:"Password"},passwordConfirmation:{name:"passwordConfirmation",label:"Password Confirmation"},role:{name:"role",label:"Roles"}},S=N.Ik({[D.userName.name]:N.Yj().required().label(D.userName.label),[D.firstName.name]:N.Yj().required().label(D.firstName.label),[D.lastName.name]:N.Yj().required().label(D.lastName.label),[D.password.name]:N.Yj().required().label(D.password.label),[D.role.name]:N.YO().required().label(D.role.label),[D.passwordConfirmation.name]:N.Yj().required().oneOf([N.KR(D.password.name)],"Passwords must match").label(D.passwordConfirmation.label)}),R=({initialValues:e,onSubmit:a})=>{let{isLoading:r,data:s}=(0,A.O)(),[n,o]=(0,b.useState)(""),{refetch:i,data:d,isFetching:u}=(0,l.J$)(n);(0,b.useEffect)(()=>{n&&i()},[n]);let c=d?.length==0?"username is available":"username already taken";return(0,t.jsxs)(C.PD,{initialValues:e,validationSchema:S,onSubmit:a,submitButton:!1,children:[(0,t.jsx)(C.A8,{name:D.userName.name,label:D.userName.label,id:D.userName.name,sx:{width:"100%"},getValue:e=>o(e)}),u&&(0,t.jsx)(q,{}),n?.length>0&&!u&&(0,t.jsx)(f.default,{fontWeight:600,variant:"body1",my:"1ch",children:c}),(0,t.jsxs)(C.jD,{sx:{display:"flex"},children:[(0,t.jsx)(C.A8,{name:D.password.name,label:D.password.label,id:D.password.name,type:"password",sx:{width:"100%",mr:"1ch"}}),(0,t.jsx)(C.A8,{name:D.passwordConfirmation.name,label:D.passwordConfirmation.label,id:D.passwordConfirmation.name,type:"password",sx:{width:"100%"}})]}),(0,t.jsxs)(C.jD,{sx:{display:"flex"},children:[(0,t.jsx)(C.A8,{name:D.firstName.name,label:D.firstName.label,id:D.firstName.name,sx:{width:"100%",mr:"1ch"}}),(0,t.jsx)(C.A8,{name:D.lastName.name,label:D.lastName.label,id:D.lastName.name,sx:{width:"100%"}})]}),(0,t.jsx)(C.el,{label:"Roles",name:D.role.name,options:s?s.map(e=>({id:e.role,label:e.role})):[]}),(0,t.jsx)(k.A,{variant:"contained",disabled:d&&d?.length>0,type:"submit",children:"Submit"})]})};function q(){return(0,t.jsx)(n.default,{sx:{display:"flex"},children:(0,t.jsx)(o.A,{})})}},29779:(e,a,r)=>{"use strict";r.d(a,{O:()=>l});var t=r(60579),s=r(29494);let l=()=>{let e=()=>(0,t.UK)("/roles?paginate=false").then(e=>e.data);return(0,s.I)({queryKey:["roles"],queryFn:()=>e(),enabled:!0})}},39432:(e,a,r)=>{Promise.resolve().then(r.bind(r,84347))},46055:(e,a,r)=>{"use strict";r.r(a),r.d(a,{default:()=>s});var t=r(31658);let s=async e=>[{type:"image/x-icon",sizes:"305x298",url:(0,t.fillMetadataSegment)(".",await e.params,"favicon.ico")+""}]},63843:(e,a,r)=>{"use strict";r.d(a,{CF:()=>o,J$:()=>i,ec:()=>u,gw:()=>d,nu:()=>n});var t=r(86745),s=r(54050),l=r(29494);let n=()=>(0,s.n)({mutationFn:e=>{let a=e.role.map(e=>({name:e.id})),r={username:e.userName,password:e.password,person:{gender:"Male",age:47,birthdate:"1970-01-01T00:00:00.000+0100",birthdateEstimated:!1,dead:!1,deathDate:null,causeOfDeath:null,names:[{givenName:e.firstName,familyName:e.lastName}]},roles:a};return(0,t.kg)(r).then(e=>e.data)}}),o=()=>{let e=()=>(0,t.lo)().then(e=>e.data);return(0,l.I)({queryKey:["users"],queryFn:()=>e(),refetchOnWindowFocus:!1,refetchOnMount:!1,refetchOnReconnect:!1})},i=e=>{let a=()=>(0,t.OV)(e).then(e=>e.data);return(0,l.I)({queryKey:["search",e],queryFn:()=>a(),enabled:!1})},d=()=>(0,s.n)({mutationFn:e=>{let a={username:e.userName,roles:e.role.map(e=>({name:e.label})),password:e.password};return(0,t.TK)(e.userId,a).then(e=>e.data)}}),u=()=>(0,s.n)({mutationFn:e=>{let a={user:{current_password:e.password,password:e.newPassword}};return(0,t.f3)(e.userId,a).then(e=>e.data)}})},75880:(e,a,r)=>{Promise.resolve().then(r.bind(r,413))},75905:(e,a,r)=>{"use strict";r.d(a,{A:()=>y});var t=r(43210),s=r(49384),l=r(78896),n=r(109),o=r(11896),i=r(2704),d=r(10356),u=r(60687);let c=(0,d.A)((0,u.jsx)("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"}),"Person");var m=r(62054),f=r(41854);function p(e){return(0,f.Ay)("MuiAvatar",e)}(0,m.A)("MuiAvatar",["root","colorDefault","circular","rounded","square","img","fallback"]);var h=r(1020);let x=e=>{let{classes:a,variant:r,colorDefault:t}=e;return(0,l.A)({root:["root",r,t&&"colorDefault"],img:["img"],fallback:["fallback"]},p,a)},g=(0,n.Ay)("div",{name:"MuiAvatar",slot:"Root",overridesResolver:(e,a)=>{let{ownerState:r}=e;return[a.root,a[r.variant],r.colorDefault&&a.colorDefault]}})((0,o.A)(({theme:e})=>({position:"relative",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,width:40,height:40,fontFamily:e.typography.fontFamily,fontSize:e.typography.pxToRem(20),lineHeight:1,borderRadius:"50%",overflow:"hidden",userSelect:"none",variants:[{props:{variant:"rounded"},style:{borderRadius:(e.vars||e).shape.borderRadius}},{props:{variant:"square"},style:{borderRadius:0}},{props:{colorDefault:!0},style:{color:(e.vars||e).palette.background.default,...e.vars?{backgroundColor:e.vars.palette.Avatar.defaultBg}:{backgroundColor:e.palette.grey[400],...e.applyStyles("dark",{backgroundColor:e.palette.grey[600]})}}}]}))),b=(0,n.Ay)("img",{name:"MuiAvatar",slot:"Img",overridesResolver:(e,a)=>a.img})({width:"100%",height:"100%",textAlign:"center",objectFit:"cover",color:"transparent",textIndent:1e4}),j=(0,n.Ay)(c,{name:"MuiAvatar",slot:"Fallback",overridesResolver:(e,a)=>a.fallback})({width:"75%",height:"75%"}),y=t.forwardRef(function(e,a){let r=(0,i.b)({props:e,name:"MuiAvatar"}),{alt:l,children:n,className:o,component:d="div",slots:c={},slotProps:m={},imgProps:f,sizes:p,src:y,srcSet:v,variant:w="circular",...A}=r,C=null,N={...r,component:d,variant:w},k=function({crossOrigin:e,referrerPolicy:a,src:r,srcSet:s}){let[l,n]=t.useState(!1);return t.useEffect(()=>{if(!r&&!s)return;n(!1);let t=!0,l=new Image;return l.onload=()=>{t&&n("loaded")},l.onerror=()=>{t&&n("error")},l.crossOrigin=e,l.referrerPolicy=a,l.src=r,s&&(l.srcset=s),()=>{t=!1}},[e,a,r,s]),l}({...f,..."function"==typeof m.img?m.img(N):m.img,src:y,srcSet:v}),D=y||v,S=D&&"error"!==k;N.colorDefault=!S,delete N.ownerState;let R=x(N),[q,M]=(0,h.A)("img",{className:R.img,elementType:b,externalForwardedProps:{slots:c,slotProps:{img:{...f,...m.img}}},additionalProps:{alt:l,src:y,srcSet:v,sizes:p},ownerState:N});return C=S?(0,u.jsx)(q,{...M}):n||0===n?n:D&&l?l[0]:(0,u.jsx)(j,{ownerState:N,className:R.fallback}),(0,u.jsx)(g,{as:d,className:(0,s.A)(R.root,o),ref:a,...A,ownerState:N,children:C})})},77391:(e,a,r)=>{"use strict";r.d(a,{A:()=>c});var t=r(60687),s=r(23641),l=r(61939),n=r(43210),o=r(41930),i=r(75018),d=r(30474),u=r(87748);function c(e,a){return function(r){let[i,d]=(0,n.useState)(!1),{navigateTo:c}=(0,l.cq)(),f=(0,o.R)(a,(0,u.O)());return i?f?(0,t.jsx)(e,{...r}):(0,t.jsx)(m,{}):(0,t.jsx)(s.OverlayLoader,{open:!i})}}let m=()=>(0,t.jsx)(i.jD,{sx:{width:"100%",height:"100vh",display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"#fff"},children:(0,t.jsx)(d.default,{src:"/403.jpg",height:500,width:500,alt:"403"})})},84135:(e,a,r)=>{"use strict";r.d(a,{A:()=>p});var t=r(43210),s=r(49384),l=r(78896),n=r(109),o=r(2704),i=r(62054),d=r(41854);function u(e){return(0,d.Ay)("MuiCardContent",e)}(0,i.A)("MuiCardContent",["root"]);var c=r(60687);let m=e=>{let{classes:a}=e;return(0,l.A)({root:["root"]},u,a)},f=(0,n.Ay)("div",{name:"MuiCardContent",slot:"Root",overridesResolver:(e,a)=>a.root})({padding:16,"&:last-child":{paddingBottom:24}}),p=t.forwardRef(function(e,a){let r=(0,o.b)({props:e,name:"MuiCardContent"}),{className:t,component:l="div",...n}=r,i={...r,component:l},d=m(i);return(0,c.jsx)(f,{as:l,className:(0,s.A)(d.root,t),ownerState:i,ref:a,...n})})},84347:(e,a,r)=>{"use strict";r.r(a),r.d(a,{default:()=>o});var t=r(60687),s=r(75018),l=r(89061),n=r(61939);function o({children:e}){let{navigateTo:a}=(0,n.cq)(),r=[{label:"users",icon:(0,t.jsx)(l.YXz,{}),link:"/config"},{label:"DDE merge",icon:(0,t.jsx)(l.Z3s,{}),link:"/config/dde"},{label:"Printers",icon:(0,t.jsx)(l.n4o,{}),link:"/config/printers"}];return(0,t.jsx)(t.Fragment,{children:(0,t.jsxs)(s.Yr,{sx:{mt:"10ch"},container:!0,children:[(0,t.jsx)(s.Yr,{item:!0,xs:0,lg:2}),(0,t.jsx)(s.Yr,{item:!0,xs:12,lg:8,children:(0,t.jsxs)(s.jD,{display:"flex",children:[(0,t.jsx)(s.jD,{sx:{width:"20%"},children:r.map(e=>(0,t.jsxs)(s.jD,{onClick:()=>a(e.link),sx:{display:"flex",justifyContent:"start",alignItems:"center",borderRadius:"5px",p:"1ch",textTransform:"capitalize",cursor:"pointer","&:hover":{backgroundColor:"#DDE0E5"}},children:[e.icon,(0,t.jsx)(s.Th,{ml:"2ch",variant:"body2",children:e.label})]}))}),(0,t.jsx)(s.jD,{sx:{width:"80%",ml:"1ch",minHeight:"100vh"},children:e})]})}),(0,t.jsx)(s.Yr,{item:!0,xs:0,lg:2})]})})}},86745:(e,a,r)=>{"use strict";r.d(a,{OV:()=>o,TK:()=>d,f3:()=>u,kg:()=>l,kl:()=>i,lo:()=>n});var t=r(60579);let s="/users",l=e=>(0,t.vt)(e,s),n=()=>(0,t.UK)(`${s}?paginate=false`),o=e=>(0,t.UK)(s+"?paginate=false&username="+e),i=e=>(0,t.HD)(e,s),d=(e,a)=>(0,t.hc)(e,a,s),u=(e,a)=>(0,t.yo)(e,s,a)}};