"use strict";exports.id=3458,exports.ids=[3458],exports.modules={35229:(e,a,l)=>{l.d(a,{l:()=>s});var t=l(43210),i=l(62116),n=l(42938);let s=()=>{let[e,a]=(0,t.useState)([]);return(0,t.useEffect)(()=>{(async()=>{let e=await (0,i.cr)(n.W.PRESENTING_COMPLAINTS);a(e=e.data[0].set_members.map(e=>({id:e?.names[0]?.uuid,label:e?.names[0]?.name})))})()},[]),{presentingComplaints:e}}},40589:(e,a,l)=>{l.d(a,{hC:()=>h,Eh:()=>A,uM:()=>$,QD:()=>I,WJ:()=>y,M1:()=>eA,um:()=>U,TU:()=>eo});var t=l(60687),i=l(43210),n=l(75018),s=l(30485),r=l(61939),o=l(55330),d=l(42938);let u={airway:{name:d.W.IS_AIRWAY_COMPROMISED,label:"is Airway Compromised",coded:!0},breathing:{name:d.W.IS_BREATHING_ABNORMAL,label:"is Breathing Abnormal",coded:!0},respiratoryDysfunction:{name:d.W.SEVERE_RESPIRATORY,label:"Severe Respiratory dysfunction or exhaustion ",coded:!0},inabilityToSpeak:{name:d.W.INABILITY_TO_SPEAK,label:"Inability to speak in complete sentences ",coded:!0},stridor:{name:d.W.STRIDOR,label:"Stridor",coded:!0},reducedLevelOfConsciousness:{name:d.W.REDUCED_LEVEL_CONSCIOUSNESS,label:"Reduced Level of Consciousness due to low oxygen",coded:!0}},c=s.Ik().shape({[u.airway.name]:s.Yj().required().label(u.airway.label),[u.breathing.name]:s.Yj().required().label(u.breathing.label),[u.respiratoryDysfunction.name]:s.Yj().label(u.respiratoryDysfunction.label),[u.stridor.name]:s.Yj().label(u.stridor.label),[u.reducedLevelOfConsciousness.name]:s.Yj().label(u.reducedLevelOfConsciousness.label)}),m=(0,o.f6)(u),b=[{label:"Yes",value:d._Y},{label:"No",value:d.NO}],h=({onSubmit:e,triageResult:a,setTriageResult:l,continueTriage:s,previous:h,getFormValues:x})=>{let[g,p]=(0,i.useState)("false"),[j,S]=(0,i.useState)({}),{conditions:A,updateConditions:v,aggregateOrCondition:E}=(0,r.AS)(),[R,f]=(0,i.useState)(!1);(0,i.useEffect)(()=>{f(!E&&4==Object.keys(A).length)},[A]);let y=e=>"red"===a&&!j[e]&&!s,C=(e,a)=>{};return(0,t.jsxs)(n.PD,{validationSchema:c,initialValues:m,submitButtonText:"next",submitButton:!1,onSubmit:async a=>e(await (0,o.k$)(u,a)),getFormValues:async e=>x(await (0,o.k$)(u,e)),children:[(0,t.jsx)(n.fP,{getValues:S}),(0,t.jsx)(n.kI,{last:g!=d._Y,title:"Airway and Breathing",children:(0,t.jsxs)(n.Vp,{sx:{width:"100%"},children:[(0,t.jsx)(n.b1,{name:u.airway.name,label:u.airway.label,getValue:e=>{if(e==d._Y)return void l("red",u.airway.name);l("",u.airway.name)},options:b,disabled:y(u.airway.name)}),(0,t.jsx)(n.b1,{name:u.breathing.name,label:u.breathing.label,getValue:e=>p(e),options:b,disabled:y(u.breathing.name)})]})}),g==d._Y&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.kI,{title:"Exhaustion and Inability to Speak",children:(0,t.jsxs)(n.Vp,{children:[(0,t.jsx)(n.b1,{name:u.respiratoryDysfunction.name,disabled:y(u.respiratoryDysfunction.name),label:u.respiratoryDysfunction.label,getValue:e=>{v(u.respiratoryDysfunction.name,e),C(u.respiratoryDysfunction.name,e)},options:b}),(0,t.jsx)(n.b1,{name:u.inabilityToSpeak.name,label:u.inabilityToSpeak.label,disabled:y(u.inabilityToSpeak.name),options:b,getValue:e=>{v(u.inabilityToSpeak.name,e),C(u.inabilityToSpeak.name,e)}})]})}),(0,t.jsx)(n.kI,{title:"Stridor and Reduced Consciousness",children:(0,t.jsxs)(n.Vp,{children:[(0,t.jsx)(n.b1,{name:u.stridor.name,label:u.stridor.label,disabled:y(u.stridor.name),options:b,getValue:e=>{v(u.stridor.name,e),C(u.stridor.name,e)}}),(0,t.jsx)(n.b1,{name:u.reducedLevelOfConsciousness.name,label:u.reducedLevelOfConsciousness.label,disabled:y(u.reducedLevelOfConsciousness.name),getValue:e=>{v(u.reducedLevelOfConsciousness.name,e),C(u.reducedLevelOfConsciousness.name,e)},options:b})]})})]}),(0,t.jsxs)(n.jD,{children:[(0,t.jsx)(n.O6,{sx:{m:.5},title:"previous",variant:"secondary",type:"button",onClick:h}),(0,t.jsx)(n.O6,{sx:{m:.5},title:"next",type:"submit",onClick:()=>{}})]})]})};var x=l(53185);let g={isCirculationAbnormal:{name:d.W.IS_CIRCULATION_ABNORMAL,label:"Is Circulation Abnormal",coded:!0},weakIrregularPulse:{name:d.W.WEAK_THREADY,label:"Weak, Thready, Bounding or regular/irregular pulse"},heartRate:{name:d.W.HEART_RATE,label:"Heart Rate"},pulseRate:{name:d.W.PULSE_RATE,label:"Pulse Rate"},reducedUrinaryOutput:{name:d.W.REDUCED_URINARY_OUTPUT,label:"Reduced urinary output < 30ml/hr",coded:!0},clammyPeripherals:{name:d.W.CAPILLARY_REFILL,label:"Cool clammy peripherals or cap refill > 4 seconds",coded:!0},hemorrhage:{name:d.W.HEMORRHAGE,label:"Hemorrhage",coded:!0},dehydration:{name:d.W.DEHYDRATION_SKIN,label:"Dehydration skin turgor, sunken eyes",coded:!0}},p=s.Ik().shape({[g.isCirculationAbnormal.name]:s.Yj().required().label(g.isCirculationAbnormal.label),[g.heartRate.name]:s.Yj().label(g.heartRate.label),[g.pulseRate.name]:s.Yj().label(g.pulseRate.label),[g.weakIrregularPulse.name]:s.Yj().label(g.weakIrregularPulse.label),[g.reducedUrinaryOutput.name]:s.Yj().label(g.reducedUrinaryOutput.label),[g.clammyPeripherals.name]:s.Yj().label(g.clammyPeripherals.label),[g.hemorrhage.name]:s.Yj().label(g.hemorrhage.label),[g.dehydration.name]:s.Yj().label(g.dehydration.label)}),j=(0,o.f6)(g),S=[{label:"Yes",value:d._Y},{label:"No",value:d.NO}],A=({onSubmit:e,triageResult:a,continueTriage:l,previous:s,setTriageResult:u,getFormValues:c})=>{let[m,b]=(0,i.useState)(""),[h,A]=(0,i.useState)({}),{updateConditions:v,aggregateOrCondition:E,conditions:R}=(0,r.AS)(),{flow:f}=(0,i.useContext)(x.gd),{navigateTo:y}=(0,r.cq)(),C=e=>"red"===a&&!h[e]&&!l,O=(e,a)=>{},T="yellow"==f.heart||"red"==f.heart||"yellow"==f.diastolic||"red"==f.diastolic||"yellow"==f.systolic||"red"==f.systolic;return(0,t.jsxs)(n.PD,{validationSchema:p,initialValues:{...j,[g.isCirculationAbnormal.name]:T?d._Y:d.NO},enableReinitialize:!0,submitButtonText:"next",submitButton:!1,onSubmit:async a=>e(await (0,o.k$)(g,a)),getFormValues:async e=>c(await (0,o.k$)(g,e)),children:[(0,t.jsx)(n.fP,{getValues:A}),(0,t.jsx)(n.kI,{last:m!=d._Y,title:"Circulation",children:(0,t.jsx)(n.b1,{name:g.isCirculationAbnormal.name,label:g.isCirculationAbnormal.label,options:S,getValue:e=>b(e),disabled:C(g.isCirculationAbnormal.name)})}),(0,t.jsx)("br",{}),m==d._Y&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.kI,{title:"Heart Rate and Pulse",children:(0,t.jsxs)(n.Vp,{children:[(0,t.jsx)(n.b1,{name:g.heartRate.name,label:g.heartRate.label,options:[{label:"Weak/Thready",value:"Weak/Thready"},{label:"Strong",value:"Strong"}],disabled:C(g.heartRate.name),getValue:e=>v(g.heartRate.name,e)}),(0,t.jsx)(n.b1,{name:g.pulseRate.name,label:g.pulseRate.label,options:[{label:"Irregular",value:"Irregular"},{label:"Regular",value:"Regular"}],disabled:C(g.pulseRate.name),getValue:e=>v(g.pulseRate.name,e)})]})}),(0,t.jsx)(n.kI,{title:"Reduced Urinary and Clammy Peripherals",children:(0,t.jsxs)(n.Vp,{children:[(0,t.jsx)(n.b1,{disabled:C(g.reducedUrinaryOutput.name),name:g.reducedUrinaryOutput.name,label:g.reducedUrinaryOutput.label,options:S,getValue:e=>{v(g.reducedUrinaryOutput.name,e),O(g.reducedUrinaryOutput.name,e)}}),(0,t.jsx)(n.b1,{disabled:C(g.clammyPeripherals.name),name:g.clammyPeripherals.name,label:g.clammyPeripherals.label,options:S,getValue:e=>{v(g.clammyPeripherals.name,e),O(g.clammyPeripherals.name,e)}})]})}),(0,t.jsx)(n.kI,{title:"Hemorrhage and Skin Turgor",children:(0,t.jsxs)(n.Vp,{children:[(0,t.jsx)(n.b1,{disabled:C(g.hemorrhage.name),name:g.hemorrhage.name,label:g.hemorrhage.label,options:S,getValue:e=>{v(g.hemorrhage.name,e),O(g.hemorrhage.name,e)}}),(0,t.jsx)(n.b1,{disabled:C(g.dehydration.name),name:g.dehydration.name,label:g.dehydration.label,getValue:e=>{v(g.dehydration.name,e),O(g.dehydration.name,e)},options:S})]})}),!E&&6==Object.keys(R).length&&(0,t.jsx)(t.Fragment,{})]}),(0,t.jsxs)(n.jD,{children:[(0,t.jsx)(n.O6,{sx:{m:.5},title:"previous",variant:"secondary",type:"button",onClick:s}),(0,t.jsx)(n.O6,{sx:{m:.5},title:"next",type:"submit",onClick:()=>{}})]})]})},v={activeSeizures:{name:d.W.ACTIVE_SEIZURES,label:"Active Seizures",coded:!0},focalNeurological:{name:d.W.FOCAL_NEUROLOGICAL,label:"focal neurologic findings",coded:!0},headache:{name:d.W.HEADACHE,label:"Headache",coded:!0},weakness:{name:d.W.WEAKNESS,label:"Weakness",coded:!0},confusion:{name:d.W.CONFUSION,label:"Confusion",coded:!0},severePain:{name:d.W.SEVERE_PAIN,label:"Severe Pain",coded:!0},moderatePain:{name:d.W.MODERATE_PAIN,label:"moderate pain or a reason to be seen in under four hours",coded:!0}},E=s.Ik().shape({[v.activeSeizures.name]:s.Yj().required().label(v.activeSeizures.label),[v.confusion.name]:s.Yj().required().label(v.confusion.label),[v.headache.name]:s.Yj().required().label(v.headache.label),[v.moderatePain.name]:s.Yj().required().label(v.moderatePain.label),[v.severePain.name]:s.Yj().required().label(v.severePain.label),[v.weakness.name]:s.Yj().required().label(v.weakness.label),[v.focalNeurological.name]:s.Yj().required().label(v.focalNeurological.label)}),R=(0,o.f6)(v),f=[{label:"Yes",value:d._Y},{label:"No",value:d.NO}],y=({onSubmit:e,triageResult:a,continueTriage:l,previous:s,setTriageResult:u,getFormValues:c})=>{let{updateConditions:m}=(0,r.AS)(),[b,h]=(0,i.useState)({}),x=e=>"red"===a&&!b[e]&&!l;return(0,t.jsxs)(n.PD,{validationSchema:E,initialValues:R,submitButton:!1,onSubmit:async a=>e(await (0,o.k$)(v,a)),getFormValues:async e=>c(await (0,o.k$)(v,e)),children:[(0,t.jsx)(n.fP,{getValues:h}),(0,t.jsx)(n.kI,{title:"Seizures and Focal Neurologic",children:(0,t.jsxs)(n.Vp,{children:[(0,t.jsx)(n.b1,{name:v.activeSeizures.name,label:v.activeSeizures.label,options:f,disabled:x(v.activeSeizures.name),getValue:e=>{m(v.activeSeizures.name,e),e==d._Y?u("red",v.activeSeizures.name):u("green",v.activeSeizures.name)}}),(0,t.jsx)(n.b1,{name:v.focalNeurological.name,label:v.focalNeurological.label,options:f,disabled:x(v.focalNeurological.name),getValue:e=>{m(v.focalNeurological.name,e),e==d._Y?u("red",v.focalNeurological.name):u("green",v.focalNeurological.name)}})]})}),(0,t.jsx)(n.kI,{title:"Headache and Weakness",children:(0,t.jsxs)(n.Vp,{children:[(0,t.jsx)(n.b1,{name:v.headache.name,disabled:x(v.headache.name),label:v.headache.label,options:f,getValue:e=>{e==d._Y?u("yellow",v.headache.name):u("green",v.headache.name),m(v.headache.name,e)}}),(0,t.jsx)(n.b1,{name:v.weakness.name,disabled:x(v.weakness.name),label:v.weakness.label,options:f,getValue:e=>{m(v.weakness.name,e),e==d._Y?u("yellow",v.weakness.name):u("green",v.weakness.name)}})]})}),(0,t.jsxs)(n.kI,{last:!0,title:"Severe Pain and Confusion",children:[(0,t.jsxs)(n.Vp,{children:[(0,t.jsx)(n.b1,{name:v.severePain.name,disabled:x(v.severePain.name),label:v.severePain.label,options:f,getValue:e=>{m(v.severePain.name,e),e==d._Y?u("red",v.severePain.name):u("green",v.severePain.name)}}),(0,t.jsx)(n.b1,{name:v.confusion.name,disabled:x(v.confusion.name),label:v.confusion.label,options:f,getValue:e=>{m(v.confusion.name,e),e==d._Y?u("yellow",v.confusion.name):u("green",v.confusion.name)}})]}),(0,t.jsx)(n.Vp,{children:(0,t.jsx)(n.b1,{disabled:x(v.moderatePain.name),name:v.moderatePain.name,label:v.moderatePain.label,options:f,getValue:e=>{e==d._Y?u("yellow",v.moderatePain.name):u("green",v.moderatePain.name)}})})]}),(0,t.jsxs)(n.jD,{children:[(0,t.jsx)(n.O6,{sx:{m:.5},title:"previous",variant:"secondary",type:"button",onClick:s}),(0,t.jsx)(n.O6,{sx:{m:.5},title:"submit",type:"submit",onClick:()=>{}})]})]})},C={consciousness:{name:d.W.DOES_PATIENT_LOW_LEVEL_CONSCIOUSNESS,label:"Does the patient have a reduced Level of consciousness",coded:!0},bloodGlucose:{name:d.W.BLOOD_GLUCOSE,label:"Blood Glucose"},gcs:{name:d.W.GCS,label:"GCS"}},O=s.Ik().shape({[C.consciousness.name]:s.Yj().required().label(C.consciousness.label),[C.bloodGlucose.name]:s.Yj().label(C.bloodGlucose.label),[C.gcs.name]:s.Yj().label(C.gcs.label)}),T=[{label:"Yes",value:d._Y},{label:"No",value:d.NO}],_=(0,o.f6)(C),I=({onSubmit:e,triageResult:a,setTriageResult:l,continueTriage:s,previous:r,getFormValues:u})=>{let c,{flow:m}=(0,i.useContext)(x.gd),[b,h]=(0,i.useState)(),[g,p]=(0,i.useState)({});return(0,t.jsxs)(n.PD,{validationSchema:O,initialValues:{..._,[C.consciousness.name]:m.gsc<15?d._Y:d.NO,[C.gcs.name]:m.gsc,[C.bloodGlucose.name]:m.glucose},enableReinitialize:!0,onSubmit:async a=>e(await (0,o.k$)(C,a)),getFormValues:async e=>u(await (0,o.k$)(C,e)),submitButtonText:"next",submitButton:!1,children:[(0,t.jsx)(n.fP,{getValues:p}),(0,t.jsx)(n.kI,{last:b!=d._Y,title:"Consciousness",children:(0,t.jsx)(n.b1,{name:C.consciousness.name,label:C.consciousness.label,options:T,getValue:e=>h(e),disabled:(c=C.consciousness.name,"red"===a&&!g[c]&&!s)})}),b==d._Y&&(0,t.jsx)(t.Fragment,{children:(0,t.jsx)(n.kI,{last:!0,title:"Blood Glucose and GCS",children:(0,t.jsxs)(n.Vp,{mr:"1ch",children:[(0,t.jsx)(n.A8,{sx:{width:"100%"},name:C.bloodGlucose.name,label:C.bloodGlucose.label,id:C.bloodGlucose.name,disabled:!0}),(0,t.jsx)(n.A8,{sx:{width:"100%"},name:C.gcs.name,label:C.gcs.label,id:C.gcs.name,getValue:e=>{if(!e)return void l("",C.gcs.name);e<10&&l("red",C.gcs.name),e>=10&&e<=14&&l("yellow",C.gcs.name)},disabled:!0})]})})}),(0,t.jsxs)(n.jD,{children:[(0,t.jsx)(n.O6,{sx:{m:.5},title:"previous",variant:"secondary",type:"button",onClick:r}),(0,t.jsx)(n.O6,{sx:{m:.5},title:"next",type:"submit",onClick:()=>{}})]})]})};l(41110);var N=l(88794),P=l(34987),W=l(82373),D=l(12040),k=l(58706),w=l(18299),L=l(39580),V=l(40035),Y=l(46318);let $=()=>{let[e,a]=(0,i.useState)(!1),[l,s]=(0,i.useState)(""),[o,u]=(0,i.useState)(""),[c,m]=(0,i.useState)(""),{navigateTo:b}=(0,r.cq)(),{loading:h,patients:x,paginationModel:g,setPaginationModel:p,searchText:j,setSearchText:S,totalPages:A,setOnSwitch:v,totalEntries:E}=(0,L.a)("triage"),[R,f]=(0,i.useState)(""),y=(0,V.d)(R,500);(0,i.useEffect)(()=>{S(y)},[y]);let C=x?.map(e=>({id:e?.uuid,...e,patient_arrival_time:(0,N.WB)(e.arrival_time)})).filter(e=>e.id!=c),O=[{field:"aetc_visit_number",headerName:"Visit Number"},{field:"given_name",headerName:"First Name",flex:1},{field:"family_name",headerName:"Last Name",flex:1},{field:"patient_arrival_time",headerName:"Arrival Time"},{field:"waiting",headerName:"WaitingTime",flex:1,renderCell:e=>(0,t.jsx)(n.VJ,{arrival_time:e.row.latest_encounter_time})},{field:"aggreg",headerName:"Aggregate",flex:1,renderCell:e=>(0,t.jsx)(n.VJ,{arrival_time:e.row.arrival_time})},{field:"last_encounter_creator",headerName:"Registered By",flex:1},{field:"action",headerName:"Action",flex:1.2,renderCell:e=>(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(D.A,{title:"Start Triage",arrow:!0,children:(0,t.jsx)(k.default,{onClick:()=>b(`/triage/${e.id}/start`),"aria-label":"start Triage",color:"primary",children:(0,t.jsx)(w.gSK,{})})}),(0,t.jsx)(P.R,{onDelete:()=>m(e.id),visitId:e.row.visit_uuid,patientId:e.id}),(0,t.jsx)(W.jx,{icon:!0,uuid:e.row.uuid}),(0,t.jsx)(D.A,{title:"Initiate CPR",arrow:!0,children:(0,t.jsx)(k.default,{onClick:()=>{s(e.id),a(!0),u(e.row.visit_uuid)},"aria-label":"initiate CPR",color:"error",children:(0,t.jsx)(w.szJ,{})})})]})}],T=C?.map(e=>({id:e.id,visitNumber:e.aetc_visit_number,firstName:e.given_name,lastName:e.family_name,gender:e.gender,arrivalTime:e.patient_arrival_time,arrivalDateTime:e.arrival_time,actor:(0,t.jsx)(n.uT,{encounterType:d.fA.SOCIAL_HISTORY,patientId:e.id}),aggregate:(0,t.jsx)(n.VJ,{arrival_time:e.arrival_time}),waitingTime:(0,t.jsx)(n.VJ,{arrival_time:e?.latest_encounter_time}),actionName:"Registered by",action:(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.O6,{size:"small",sx:{fontSize:"12px",width:"30%",mr:"1px",mb:"1px"},title:"start",onClick:()=>b(`/triage/${e.id}/start`)}),(0,t.jsx)(P.R,{sx:{width:"30%"},onDelete:()=>m(e.id),visitId:e.visit_uuid,patientId:e.id}),(0,t.jsx)(W.jx,{sx:{width:"30%"},uuid:e.uuid})]}),age:(0,N.Cb)(e.birthdate),triageResult:e.triage_result}));return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.vP,{columns:O,data:{data:C??[],page:g.page,per_page:g.pageSize,total_pages:A,totalEntries:E},searchText:R,setSearchString:f,setPaginationModel:p,paginationModel:g,loading:h,formatForMobileView:T||[],onSwitchChange:v,onRowClick:e=>b(`/triage/${e.id}/start`)}),(0,t.jsx)(Y.w8,{patientuuid:l,visituuid:o,open:e,onClose:()=>a(!1)})]})},U=({message:e,result:a,onCompleteTriage:l,setContinueTriage:s})=>{let[r,d]=(0,i.useState)(!1),u=()=>{(0,o.iE)({title:"Complete Triage?",text:"Once you confirm you will not be able to proceed with the current triage for this patient",icon:"warning",confirmButtonText:"Yes, Complete",onConfirm:()=>{l()}})};return"green"==a?null:(0,t.jsxs)(n.sc,{elevation:0,sx:{...{red:{backgroundColor:"#FECDCA",color:"#B42318"},yellow:{backgroundColor:"#FEDF89",color:"#B54708"},green:{backgroundColor:"#DDEEDD",color:"#016302"},"":{}}[a],p:"1ch"},children:[(0,t.jsxs)(n.Th,{variant:"h4",textTransform:"capitalize",children:["Triage ",a]}),(0,t.jsx)(n.Th,{fontStyle:"italic",variant:"subtitle1",children:"yellow"==a?"Continue Triage":"red"==a?"Proceed to interventions":""}),"red"==a&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.O6,{sx:{backgroundColor:"#B42318","&:hover":{backgroundColor:"#B42318"},mr:"0.5ch"},title:"Complete Triage",onClick:u}),(0,t.jsx)(n.O6,{variant:"secondary",title:"Continue Triage",onClick:()=>s(!0)}),(0,t.jsx)(n.O6,{variant:"secondary",sx:{ml:"0.5ch"},title:"Start CPR",onClick:()=>d(!0)})]}),(0,t.jsx)(Y.w8,{open:r,onClose:()=>{u(),d(!1)}})]})};var B=l(80222),G=l(37322),M=l(62116),F=l(28274),H=l(78590),z=l(92438),q=l(22286),K=l(38963),J=l(69587),X=l(91786),Q=l(54134),Z=l(79534),ee=l(65419),ea=l(90160),el=l(18606),et=l(35933),ei=l(89061),en=l(20074),es=l(76990);function er(){let{setActiveVisit:e,activeVisit:a,setOpenVisit:l}=i.useContext(x.U),[s,o]=i.useState(!1),d=i.useRef(null),{params:u}=(0,r.KU)(),[c,m]=(0,i.useState)([]),[b,h]=(0,i.useState)(""),{data:g,isLoading:p,isSuccess:j}=(0,es.iu)(u?.id),S=e=>{d.current&&d.current.contains(e.target)||o(!1)};function A(e){"Tab"===e.key?(e.preventDefault(),o(!1)):"Escape"===e.key&&o(!1)}let v=i.useRef(s);return i.useEffect(()=>{!0===v.current&&!1===s&&d.current.focus(),v.current=s},[s]),(0,t.jsx)(et.A,{direction:"row",spacing:2,children:(0,t.jsxs)("div",{children:[(0,t.jsxs)(F.default,{ref:d,id:"composition-button","aria-controls":s?"composition-menu":void 0,"aria-expanded":s?"true":void 0,"aria-haspopup":"true",onClick:()=>{o(e=>!e)},sx:{display:"flex",cursor:"pointer",alignItems:"center",backgroundColor:"#ccc",padding:"1ch",borderRadius:"5px"},children:[(0,t.jsx)(n.Th,{sx:{marginRight:"1ch",fontWeight:"bold"},children:"Visit date:"}),(0,t.jsx)(ei.nxe,{}),(0,t.jsx)(n.Th,{sx:{marginRight:"1ch",ml:"1ch",lineHeight:"17px",letterSpacing:"0em",textAlign:"left",textTransform:"capitalize"},children:(0,N.Eb)(b)}),s?(0,t.jsx)(en.Ik,{}):(0,t.jsx)(en.pte,{})]}),(0,t.jsx)(ee.A,{open:s,anchorEl:d.current,role:void 0,placement:"bottom-start",transition:!0,disablePortal:!0,sx:{zIndex:1e5},children:({TransitionProps:l,placement:i})=>(0,t.jsx)(Q.A,{...l,style:{transformOrigin:"bottom-start"===i?"left top":"left bottom"},children:(0,t.jsx)(Z.default,{children:(0,t.jsx)(X.x,{onClickAway:S,children:(0,t.jsx)(el.A,{autoFocusItem:s,id:"composition-menu","aria-labelledby":"composition-button",onKeyDown:A,children:c.map(l=>(0,t.jsxs)(ea.A,{sx:{py:"2ch",mx:"1ch",display:"flex",justifyContent:"space-between",width:"240px","& .icon":{display:"none"}},onClick:a=>{e(l.visit_id),h(l.date_started),S(a)},children:[(0,t.jsx)(n.Th,{sx:{lineHeight:"21px",letterSpacing:"0em",textAlign:"left"},children:(0,N.Eb)(l.date_started)}),a==l.visit_id&&(0,t.jsx)(n.Th,{children:(0,t.jsx)(ei.CMH,{})})]},l.visit_id))})})})})})]})})}let eo=()=>{let{activeVisit:e}=(0,i.useContext)(x.U),{params:a}=(0,r.KU)(),{data:l,isLoading:s}=(0,M.$O)(a?.id),[o,c]=(0,i.useState)(0),[m,b]=(0,i.useState)([]),[h,p]=(0,i.useState)([]),[j,S]=(0,i.useState)([]),[A,E]=(0,i.useState)([]),[R,f]=(0,i.useState)([]),[y,O]=(0,i.useState)({}),[T,_]=(0,i.useState)({}),[I,N]=(0,i.useState)({}),[P,W]=(0,i.useState)({}),[D,k]=(0,i.useState)({}),[L,V]=(0,i.useState)([]);(0,i.useEffect)(()=>{Y()},[o]),(0,i.useEffect)(()=>{V(Object.keys(y).map(e=>({value:Number(e),label:`Triage ${Number(e)+1}`}))),Y()},[y,T]);let Y=()=>{U(Object.keys(T).length>0?T[o]:[]),X(Object.keys(I).length>0?I[o]:[]),Q(Object.keys(D).length>0?D[o]:[]),$(Object.keys(y).length>0?y[o]:[]),H(Object.keys(P).length>0?P[o]:[])};(0,i.useEffect)(()=>{if(l&&0!==e){let a=(0,B.tl)(l,d.fA.VITALS,e),t=(0,B.tl)(l,d.fA.AIRWAY_ASSESSMENT,e),i=(0,B.tl)(l,d.fA.DISABILITY_ASSESSMENT,e),n=(0,B.tl)(l,d.fA.PERSISTENT_PAIN,e),s=(0,B.tl)(l,d.fA.BLOOD_CIRCULATION,e);O((0,B.Ev)(a)),_((0,B.CK)(t)),N((0,B.Mm)(i)),k((0,B.e8)(n)),W((0,B.Gi)(s))}},[l,e]);let $=e=>{b([{name:`${G.D.saturationRate.label} (%)`,value:(0,B.m)(e,d.W.OXYGEN_SATURATION)},{name:`${G.D.heartRate.label} (bpm)`,value:(0,B.m)(e,d.W.HEART_RATE)},{name:"Blood Pressure (mmHg)",value:`${(0,B.m)(e,d.W.SYSTOLIC_BLOOD_PRESSURE)}/${(0,B.m)(e,d.W.DIASTOLIC_BLOOD_PRESSURE)}`},{name:`${G.D.respiratoryRate.label} (bpm)`,value:(0,B.m)(e,d.W.RESPIRATORY_RATE)},{name:`${G.D.temperature.label} (\xb0C)`,value:(0,B.m)(e,d.W.TEMPERATURE)},{name:`${G.D.glucose.label} (mg/dL)`,value:(0,B.m)(e,d.W.GLUCOSE)},{name:`${G.D.avpu.label}`,value:(0,B.m)(e,d.W.AVPU)}])},U=e=>{p([{name:`${u.airway.label}`,value:(0,B.m)(e,d.W.IS_AIRWAY_COMPROMISED)},{name:`${u.breathing.label}`,value:(0,B.m)(e,d.W.IS_BREATHING_ABNORMAL)},{name:`${u.respiratoryDysfunction.label}`,value:(0,B.m)(e,d.W.SEVERE_RESPIRATORY)},{name:`${u.inabilityToSpeak.label}`,value:(0,B.m)(e,d.W.INABILITY_TO_SPEAK)},{name:`${u.stridor.label}`,value:(0,B.m)(e,d.W.STRIDOR)},{name:`${u.reducedLevelOfConsciousness.label}`,value:(0,B.m)(e,d.W.REDUCED_LEVEL_CONSCIOUSNESS)}])},H=e=>{S([{name:`${g.isCirculationAbnormal.label}`,value:(0,B.m)(e,d.W.IS_CIRCULATION_ABNORMAL)},{name:`${g.weakIrregularPulse.label}`,value:(0,B.m)(e,d.W.WEAK_THREADY)},{name:`${g.heartRate.label}`,value:(0,B.m)(e,d.W.HEART_RATE)},{name:`${g.pulseRate.label}`,value:(0,B.m)(e,d.W.PULSE_RATE)},{name:`${g.reducedUrinaryOutput.label}`,value:(0,B.m)(e,d.W.REDUCED_URINARY_OUTPUT)},{name:`${g.clammyPeripherals.label}`,value:(0,B.m)(e,d.W.CAPILLARY_REFILL)},{name:`${g.hemorrhage.label}`,value:(0,B.m)(e,d.W.HEMORRHAGE)},{name:`${g.dehydration.label}`,value:(0,B.m)(e,d.W.DEHYDRATION_SKIN)}])},X=e=>{E([{name:`${C.consciousness.label}`,value:(0,B.m)(e,d.W.DOES_PATIENT_LOW_LEVEL_CONSCIOUSNESS)},{name:`${C.bloodGlucose.label}`,value:(0,B.m)(e,d.W.BLOOD_GLUCOSE)},{name:`${C.gcs.label}`,value:(0,B.m)(e,d.W.GCS)}])},Q=e=>{f([{name:`${v.activeSeizures.label}`,value:(0,B.m)(e,d.W.ACTIVE_SEIZURES)},{name:`${v.focalNeurological.label}`,value:(0,B.m)(e,d.W.FOCAL_NEUROLOGICAL)},{name:`${v.headache.label}`,value:(0,B.m)(e,d.W.HEADACHE)},{name:`${v.weakness.label}`,value:(0,B.m)(e,d.W.WEAKNESS)},{name:`${v.confusion.label}`,value:(0,B.m)(e,d.W.CONFUSION)},{name:`${v.severePain.label}`,value:(0,B.m)(e,d.W.SEVERE_PAIN)},{name:`${v.moderatePain.label}`,value:(0,B.m)(e,d.W.MODERATE_PAIN)}])};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(F.default,{sx:{display:"flex",justifyContent:"space-between",my:"2ch"},children:[(0,t.jsx)(n.jD,{width:"20%",children:(0,t.jsx)(J.x,{defaultValue:{value:o},getValue:e=>c(Number(e)),label:"",options:L})}),(0,t.jsx)(er,{})]}),(0,t.jsxs)(F.default,{children:[(0,t.jsxs)(z.A,{defaultExpanded:!0,children:[(0,t.jsx)(q.A,{expandIcon:(0,t.jsx)(w.BNo,{}),"aria-controls":"panel1-content",id:"panel1-header",children:"Vitals"}),(0,t.jsx)(K.A,{children:(0,t.jsx)(ed,{children:m.map(({name:e,value:a})=>(0,t.jsx)(eu,{title:e,value:a},`${a}${e}`))})})]}),(0,t.jsxs)(z.A,{children:[(0,t.jsx)(q.A,{expandIcon:(0,t.jsx)(w.BNo,{}),"aria-controls":"panel1-content",id:"panel1-header",children:"Airway"}),(0,t.jsx)(K.A,{children:(0,t.jsx)(ed,{children:h.map(({name:e,value:a})=>(0,t.jsx)(eu,{title:e,value:a},`${a}${e}`))})})]}),(0,t.jsxs)(z.A,{children:[(0,t.jsx)(q.A,{expandIcon:(0,t.jsx)(w.BNo,{}),"aria-controls":"panel1-content",id:"panel1-header",children:"Blood Circulation"}),(0,t.jsx)(K.A,{children:(0,t.jsx)(ed,{children:j.map(({name:e,value:a})=>(0,t.jsx)(eu,{title:e,value:a},`${a}${e}`))})})]}),(0,t.jsxs)(z.A,{children:[(0,t.jsx)(q.A,{expandIcon:(0,t.jsx)(w.BNo,{}),"aria-controls":"panel1-content",id:"panel1-header",children:"Disability"}),(0,t.jsx)(K.A,{children:(0,t.jsx)(ed,{children:A.map(({name:e,value:a})=>(0,t.jsx)(eu,{title:e,value:a},`${a}${e}`))})})]}),(0,t.jsxs)(z.A,{children:[(0,t.jsx)(q.A,{expandIcon:(0,t.jsx)(w.BNo,{}),"aria-controls":"panel1-content",id:"panel1-header",children:"Persistent Pain"}),(0,t.jsx)(K.A,{children:(0,t.jsx)(ed,{children:R.map(({name:e,value:a})=>(0,t.jsx)(eu,{title:e,value:a},`${a}${e}`))})})]})]})]})},ed=({children:e})=>(0,t.jsx)(F.default,{children:(0,t.jsx)(F.default,{sx:{display:"flex",flexWrap:"wrap"},children:e})}),eu=({title:e,value:a})=>(0,t.jsxs)(n.jD,{sx:{width:"15ch",display:"flex",flexDirection:"column",my:"0.5ch",alignItems:"center"},children:[(0,t.jsx)(H.default,{variant:"caption",textAlign:"center",children:e}),(0,t.jsx)(H.default,{variant:"h5",children:a})]});var ec=l(24942),em=l(97528),eb=l(88334);let eh=({getValues:e})=>{let[a,l]=(0,i.useState)(""),[n,s]=(0,i.useState)([]),r=e=>{s(a=>[...a.filter(a=>a!=e)])};return(0,i.useEffect)(()=>{e(n)},[n]),(0,t.jsxs)(F.default,{children:[(0,t.jsx)(ec.A,{sx:{my:"1ch"},fullWidth:!0,id:"outlined-basic",label:"Other Presenting Complaints",placeholder:"Enter other presenting complaints and click the save icon on the right",variant:"outlined",value:a,onChange:e=>{l(e.target.value)},InputProps:{endAdornment:(0,t.jsx)(em.A,{position:"end",children:(0,t.jsx)(k.default,{onClick:()=>{s(e=>[...e,a]),l("")},edge:"end",children:(0,t.jsx)(w.dIn,{})})})}}),(0,t.jsx)("br",{}),(0,t.jsx)(et.A,{direction:"row",spacing:1,children:n.map(e=>(0,t.jsx)(eb.A,{label:e,onDelete:()=>r(e)},e))})]})};var ex=l(44504),eg=l(35229);let ep={complaints:{name:d.W.PRESENTING_COMPLAINTS,label:"Complaints"}},ej=s.Ik().shape({[ep.complaints.name]:s.YO().required().label(ep.complaints.label)}),eS=(0,o.f6)(ep),eA=({onSubmit:e,setTriageResult:a,getFormValues:l})=>{let{ServerTime:s}=(0,ex.useServerTime)(),{presentingComplaints:r}=(0,eg.l)(),[o,u]=(0,i.useState)([]),[c,m]=(0,i.useState)(!1),b=async e=>{let l=await (0,M.cr)(d.W.CARBON_MONOXIDE_POISONING),t=await (0,M.cr)(d.W.INJURY_MAJOR_TRAUMA_PENETRATING),i=await (0,M.cr)(d.W.POISONING),n=await (0,M.cr)(d.W.VOMITING_BLOOD),s=await (0,M.cr)(d.W.OTHER),r=[l?.data[0]?.names[0]?.uuid,t?.data[0]?.names[0]?.uuid,i?.data[0]?.names[0]?.uuid,n?.data[0]?.names[0]?.uuid];m(!!e.find(e=>e.id==s.data[0]?.names[0]?.uuid)),r.forEach(l=>{e.find(e=>e.id==l)?a("red",l):a("",l)})};return(0,t.jsxs)(n.PD,{validationSchema:ej,initialValues:eS,onSubmit:a=>{let l=s.getServerTimeString(),t=o.map(e=>({value:e,concept:d.W.OTHER,dateTime:l}));e([...a[d.W.PRESENTING_COMPLAINTS].map(e=>({concept:d.W.PRESENTING_COMPLAINTS,value:e.id,obsDatetime:l})),...t])},submitButton:!1,submitButtonText:"next",getFormValues:l,children:[(0,t.jsx)(n.el,{getValue:b,name:ep.complaints.name,label:ep.complaints.label,options:r}),(0,t.jsx)("br",{}),c&&(0,t.jsx)(eh,{getValues:u}),(0,t.jsx)("br",{}),(0,t.jsx)(n.O6,{title:"next",type:"submit",onClick:()=>{}})]})}},41110:(e,a,l)=>{l.d(a,{A:()=>T});var t=l(60687),i=l(43210),n=l(75018),s=l(40589),r=l(37322),o=l(61939),d=l(42938),u=l(55330),c=l(62116),m=l(48859),b=l(23818),h=l(77575),x=l(93251),g=l(88794),p=l(76990),j=l(30485),S=l(76831),A=l(71953);let v=[{label:d.W.RESUSCITATION,id:d.W.RESUSCITATION},{label:d.W.SHORT_STAY,id:d.W.SHORT_STAY},{label:d.W.GYNAE_BENCH,id:d.W.GYNAE_BENCH},{label:d.W.PRIORITY,id:d.W.PRIORITY},{label:d.W.ISOLATION,id:d.W.ISOLATION},{label:d.W.TRAUMA,id:d.W.TRAUMA},{label:d.W.SURGICAL,id:d.W.SURGICAL}],E=({onSubmit:e,triageStatus:a})=>{let[l,s]=(0,i.useState)({}),[r,o]=(0,i.useState)(!1),[c,m]=(0,i.useState)(null),[b,h]=(0,i.useState)([]),[x,g]=(0,i.useState)([]),{data:p,isLoading:E}=(0,S.X)(d.W.SERVICE_AREAS),{data:R,isLoading:f}=(0,S.X)(d.W.AETC_SERVICE_AREAS),y={Referred:{name:d.W.CARE_AREA,label:"Patient Referred to"},Other_Area:{name:d.W.OTHER_AETC_SERVICE_AREA,label:"Other Area"}},C=(0,u.f6)(y);(0,i.useEffect)(()=>{if(a&&(p||R)){g(p?.map(e=>({label:e.name,id:e.id})));let e=R?.filter(e=>e.name.toLowerCase()==d.W.GYNAE_BENCH.toLowerCase()||e.name.toLowerCase()==d.W.SURGICAL_BENCH.toLowerCase()||e.name.toLowerCase()==d.W.MEDICAL_BENCH.toLowerCase());if("red"==a)return void h(v);let l="yellow"===a?R:[...Array.isArray(e)?e:[],...Array.isArray(p)?p:[]];if(l){let e=l.map(e=>({label:e.name,id:e.name}));h(e);let a=e.find(e=>"Other"===e.label);m(a?a.id:null)}}},[a,p,R]),(0,i.useEffect)(()=>{if(l&&null!==c){let e=l[y.Referred.name]&&l[y.Referred.name]===c;o(e),e||s(e=>(delete e[y.Other_Area.name],e))}},[l,c]);let O=j.Ik().shape({[y.Referred.name]:j.Yj().label(y.Referred.label).required("This field is required"),[y.Other_Area.name]:j.Yj().when(y.Referred.name,{is:e=>e===c,then:e=>e.required("This field is required"),otherwise:e=>e.optional()})});return(0,t.jsxs)(t.Fragment,{children:[(f||E)&&(0,t.jsx)(A.A,{}),(0,t.jsxs)(n.PD,{validationSchema:O,initialValues:C,onSubmit:e,submitButton:!0,children:[(0,t.jsx)(n.fP,{getValues:s}),(0,t.jsxs)(n.GE,{direction:"column",children:[b.length>0&&(0,t.jsx)(n.el,{name:y.Referred.name,label:y.Referred.label,options:b,multiple:!1}),r&&(0,t.jsx)(n.el,{name:y.Other_Area.name,label:y.Other_Area.label,options:x,multiple:!1})]})]})]})};l(96851);let R=({hidden:e,children:a})=>(0,t.jsx)(n.jD,{sx:{display:e?"none":"block"},children:a});var f=l(13670),y=l(80222),C=l(82373),O=l(44504);function T(){let{ServerTime:e}=(0,O.useServerTime)(),[a,l]=(0,i.useState)(0),[u,j]=(0,i.useState)({}),{params:S}=(0,o.KU)(),[A,v]=(0,i.useState)(""),[T,_]=(0,i.useState)(!1),[I,N]=(0,i.useState)({}),[P,W]=(0,i.useState)([]),[D,k]=(0,i.useState)({}),[w,L]=(0,i.useState)({}),[V,Y]=(0,i.useState)({}),[$,U]=(0,i.useState)({}),[B,G]=(0,i.useState)({}),[M,F]=(0,i.useState)({}),[H,z]=(0,i.useState)(!1),[q,K]=(0,i.useState)(!1),{loading:J,setLoading:X,completed:Q,setCompleted:Z,message:ee,setMessage:ea,showForm:el,setShowForm:et,error:ei,setError:en}=(0,m.g)(),{mutate:es,isSuccess:er,isPending:eo,isError:ed,data:eu}=(0,c.jM)(),{mutate:ec,isSuccess:em,isPending:eb,isError:eh}=(0,c.jM)(),{mutate:ex,isSuccess:eg,isPending:ep,isError:ej}=(0,c.jM)(),{mutate:eS,isSuccess:eA,isPending:ev,isError:eE}=(0,c.jM)(),{mutate:eR,isSuccess:ef,isPending:ey,isError:eC}=(0,c.jM)(),{mutate:eO,isSuccess:eT,isPending:e_,isError:eI}=(0,c.jM)(),{mutate:eN,isSuccess:eP,isPending:eW,isError:eD}=(0,c.jM)(),{navigateTo:ek,navigateBack:ew}=(0,o.cq)(),{data:eL}=(0,p.iu)(S?.id),eV=eL?.find(e=>!e.date_stopped),{mutate:eY,isSuccess:e$}=(0,f.FD)(),{data:eU}=(0,c.$O)(S?.id),[eB,eG]=(0,i.useState)(),[eM,eF]=(0,i.useState)(),eH=(0,y.m)(eB?.obs,d.W.REFERRED_FROM),ez=e=>{u.pain=e,et(!1),z(!0)},eq=e=>{let a={...e};a&&void 0!==a[d.W.GLUCOSE]&&void 0!==a[d.W.ADDITIONAL_NOTES]&&(a[d.W.GLUCOSE]=`${a[d.W.GLUCOSE]} ${a[d.W.ADDITIONAL_NOTES]}`),u.vitals=a,l(2),W(e=>[...e,1])},eK=e=>{u.airway=e,l(3),W(e=>[...e,2])},eJ=e=>{u.bloodCirculation=e,l(4),W(e=>[...e,3])},eX=e=>{u.disability=e,l(5),W(e=>[...e,4])},eQ=e=>{u.presentingComplaints=e,l(1),W(e=>[...e,0])},eZ=()=>{X(!0);let a=e.getServerTimeString();ea("adding complaints..."),es({encounterType:d.fA.PRESENTING_COMPLAINTS,visit:eV?.uuid,patient:S.id,encounterDatetime:a,obs:u.presentingComplaints})},e0=(e,a)=>{N(l=>({...l,[a]:e}))};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(R,{hidden:!el,children:[A&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(s.um,{onCompleteTriage:()=>{eQ(D),eK(V),eJ($),eX($),eq(w),ez(M)},result:A,message:"Interventions",setContinueTriage:_}),(0,t.jsx)("br",{})]}),(0,t.jsxs)(n.RG,{setActive:e=>{l(e)},title:"Triage",steps:[{id:6,label:"Presenting Complaints"},{id:5,label:"Vitals Signs"},{id:1,label:"Airway/Breathing"},{id:2,label:"Blood Circulation"},{id:3,label:"Disability"},{id:4,label:"Persistent Pain/Other Concerns"}],active:a,onBack:()=>ew(),allowPanelActiveOnClick:!1,backButtonProfileText:"Back to triage list",children:[(0,t.jsx)(s.M1,{getFormValues:k,triageResult:A,setTriageResult:e0,onSubmit:eQ}),(0,t.jsx)(r.u,{previous:()=>l(0),triageResult:A,setTriageResult:e0,initialValues:{},onSubmit:eq,continueTriage:T,getFormValues:L}),(0,t.jsx)(s.hC,{getFormValues:Y,previous:()=>l(1),continueTriage:T,triageResult:A,setTriageResult:e0,onSubmit:eK}),(0,t.jsx)(s.Eh,{previous:()=>l(2),getFormValues:U,continueTriage:T,triageResult:A,setTriageResult:e0,onSubmit:eJ}),(0,t.jsx)(s.QD,{getFormValues:G,previous:()=>l(3),continueTriage:T,triageResult:A,setTriageResult:e0,onSubmit:eX}),(0,t.jsx)(s.WJ,{getFormValues:F,previous:()=>l(4),continueTriage:T,setTriageResult:e0,triageResult:A,onSubmit:ez})]})]}),7==Q&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(C.k2,{arrivalTime:(0,g.rX)(eM?.encounter_datetime),open:q,onClose:()=>K(!1),presentingComplaints:D[d.W.PRESENTING_COMPLAINTS].reduce((e,a)=>""==e?a.label:e+","+a.label,""),triageCategory:A,date:(0,g.rX)(e.getServerTimeString()),triagedBy:eu?.created_by,referredFrom:eH,vitals:[{name:r.D.saturationRate.short,value:w[r.D.saturationRate.name]},{name:r.D.heartRate.short,value:w[r.D.heartRate.name]},{name:r.D.bloodPressure.short,value:`${w[r.D.bloodPressure.name]}/${w[r.D.bloodPressureDiastolic.name]}`},{name:r.D.respiratoryRate.short,value:w[r.D.respiratoryRate.name]},{name:r.D.temperature.short,value:w[r.D.temperature.name]},{name:r.D.avpu.label,value:w[r.D.avpu.name]},{name:`${r.D.glucose.label}(${w[r.D.units.name]})`,value:w[r.D.glucose.name]}]}),(0,t.jsx)(x.n,{title:"Patient Triaged Successfully",primaryActionText:"Triage more patients",secondaryActionText:"Go Home",printButton:(0,t.jsx)(n.O6,{sx:{mx:"2px"},variant:"secondary",title:"print",onClick:()=>K(!0)}),onPrimaryAction:()=>{et(!0),Z(0),ek("/triage")},onSecondaryAction:()=>ek("/dashboard")})]}),ei&&(0,t.jsx)(h.j,{error:ee,onPrimaryAction:()=>{en(!1),Z(0),X(!1),et(!0)},onSecondaryAction:()=>{Z(0),et(!0),X(!1),en(!1)}}),(0,t.jsxs)(n.eV,{open:H,onClose:()=>{z(!1),ew()},title:"Triage Decision",children:[(0,t.jsxs)("p",{children:["Triage status is (","green"===A?(0,t.jsx)("span",{style:{color:"green"},children:A}):"red"===A?(0,t.jsx)("span",{style:{color:"red"},children:A}):(0,t.jsx)("span",{style:{color:"#cc9900"},children:A}),"). Where should this patient go next?"]}),(0,t.jsx)(E,{onSubmit:e=>{u.serviceArea=e,ea("adding next service area..."),eZ(),z(!1)},triageStatus:A})]}),J&&!ei&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("br",{}),(0,t.jsx)("br",{}),(0,t.jsx)(b.n,{message:ee,progress:Q/7*100})]})]})}},48859:(e,a,l)=>{l.d(a,{g:()=>i});var t=l(43210);let i=()=>{let[e,a]=(0,t.useState)(!1),[l,i]=(0,t.useState)(0),[n,s]=(0,t.useState)(!0),[r,o]=(0,t.useState)(""),[d,u]=(0,t.useState)(!1);return{loading:e,setLoading:a,completed:l,setCompleted:i,showForm:n,setShowForm:s,message:r,setMessage:o,error:d,setError:u}}},77391:(e,a,l)=>{l.d(a,{A:()=>c});var t=l(60687),i=l(23641),n=l(61939),s=l(43210),r=l(41930),o=l(75018),d=l(30474),u=l(87748);function c(e,a){return function(l){let[o,d]=(0,s.useState)(!1),{navigateTo:c}=(0,n.cq)(),b=(0,r.R)(a,(0,u.O)());return o?b?(0,t.jsx)(e,{...l}):(0,t.jsx)(m,{}):(0,t.jsx)(i.OverlayLoader,{open:!o})}}let m=()=>(0,t.jsx)(o.jD,{sx:{width:"100%",height:"100vh",display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"#fff"},children:(0,t.jsx)(d.default,{src:"/403.jpg",height:500,width:500,alt:"403"})})}};