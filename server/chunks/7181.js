"use strict";exports.id=7181,exports.ids=[7181],exports.modules={5608:(e,a,n)=>{n.d(a,{VQ:()=>o,kC:()=>r,sL:()=>l,uQ:()=>d});var t=n(60687),i=n(75018);let l=({children:e,id:a})=>(0,t.jsx)(i.Th,{id:a,sx:{fontFamily:"Inter",fontSize:24,fontWeight:700,lineHeight:"29px",letterSpacing:0,textAlign:"center"},children:e}),o=({children:e})=>(0,t.jsx)(i.Th,{alignSelf:"center",sx:{fontFamily:"Inter",fontSize:14,fontWeight:400,lineHeight:"21px",letterSpacing:0,color:"#636363",width:"50ch",textAlign:"center",my:"2ch"},children:e}),r=({children:e,sx:a})=>(0,t.jsx)(i.sc,{elevation:0,sx:{display:"flex",flexDirection:"column",justifyContent:"center",px:"5ch",py:"5ch",mb:"2ch",...a},children:e}),d=({children:e})=>(0,t.jsx)(i.Th,{sx:{fontFamily:"Inter",fontSize:"16px",fontWeight:600,lineHeight:"24px",letterSpacing:"0em",textAlign:"center",my:"2ch"},children:e})},13670:(e,a,n)=>{n.d(a,{b2:()=>_,FD:()=>m,qv:()=>c});var t=n(44504),i=n(60579);let l="visits",o=e=>(0,i.vt)(e,l),r=(e,a)=>(0,i.hc)(e,a,l);var d=n(8693),s=n(54050);let _=()=>{let e=(0,d.jE)();return(0,s.n)({mutationFn:e=>o(e).then(e=>e.data),onSuccess:a=>{e.invalidateQueries({queryKey:["visits"]})}})},m=()=>{let{ServerTime:e}=(0,t.useServerTime)(),a=async a=>r(a,{stopDatetime:e.getServerTimeString()}).then(e=>e.data);return(0,s.n)({mutationFn:a})},c=e=>{let a=(0,d.jE)();return(0,s.n)({mutationFn:e=>r(e,{stopDatetime:"null"}).then(e=>e.data),onSuccess:()=>{a.invalidateQueries({queryKey:["patients",e,"visits"]})}})}},23818:(e,a,n)=>{n.d(a,{n:()=>_});var t=n(60687);n(43210);var i=n(109),l=n(28274),o=n(1556),r=n(12058),d=n(75018);let s=(0,i.Ay)(o.A)(({theme:e})=>({height:10,borderRadius:5,[`&.${r.A.colorPrimary}`]:{backgroundColor:e.palette.grey["light"===e.palette.mode?200:800]},[`& .${r.A.bar}`]:{borderRadius:5,backgroundColor:e.palette.primary}}));function _({message:e,progress:a}){return(0,t.jsxs)(l.default,{sx:{flexGrow:1},children:[(0,t.jsx)(s,{variant:"determinate",value:a}),(0,t.jsx)(d.Th,{fontStyle:"italic",children:e})]})}},33164:(e,a,n)=>{n.d(a,{sQ:()=>X,xZ:()=>ed,di:()=>F,CM:()=>V,mm:()=>es.m,Q0:()=>U,VC:()=>ec,aQ:()=>$,Ji:()=>L,fV:()=>er});var t=n(60687),i=n(43210),l=n(30485),o=n(62085),r=n(4072),d=n(70166),s=n(75018),_=n(5608),m=n(42938),c=n(99725),h=n(55330),u=n(61939),p=n(53185),b=n(15538),y=n(76990),g=n(23641),f=n(88794),x=n(60931),j=n(44504),S=n(76831),N=n(13670),v=n(78590),A=n(28274),I=n(50772);let C=l.Ik().shape({[m.W.PATIENT_REFERRED_TO]:l.Yj().required("Patient Referred To")}),T=({open:e,onClose:a})=>{let{ServerTime:n}=(0,j.useServerTime)(),[l,o]=(0,i.useState)(!1),{activeVisitId:r,activeVisit:d}=(0,u.gd)(),{data:_,isLoading:c}=(0,S.X)(m.W.SERVICE_AREAS),{mutate:p,isSuccess:b,isPending:y}=(0,N.FD)(),{navigateTo:g}=(0,u.cq)();(0,i.useEffect)(()=>{b&&(a(),g("/dashboard"))},[b]);let{handleSubmit:f,isLoading:T}=(0,u.li)(m.fA.PATIENT_CARE_AREA,()=>{p(d)});return(0,t.jsx)(s.eV,{open:e,title:"Under Age",maxWidth:"sm",onClose:a,children:(0,t.jsxs)(x.h,{loading:c||T||y,children:[(0,t.jsxs)(v.default,{variant:"body1",gutterBottom:!0,children:[" ","The patient is below the age of 14. Do you want to proceed with the registration?"]}),(0,t.jsxs)(A.default,{children:[(0,t.jsx)(I.A,{variant:"contained",onClick:a,children:"Yes"}),(0,t.jsx)(I.A,{onClick:()=>o(!0),children:"No"})]}),l&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("br",{}),(0,t.jsx)(v.default,{variant:"body1",gutterBottom:!0,children:"Select the service areas you would like to direct the patient"}),(0,t.jsx)("br",{}),(0,t.jsx)(s.PD,{onSubmit:e=>{f((0,h.gX)(e,n.getServerTimeString()))},validationSchema:C,initialValues:{[m.W.PATIENT_REFERRED_TO]:""},children:_.length>0&&(0,t.jsx)(s.el,{name:m.W.PATIENT_REFERRED_TO,label:"Areas",options:_.map(e=>({label:e.name,id:e.uuid})),multiple:!1})})]})]})})};var D=n(85668),O=n.n(D);let E={identificationNumber:{name:"identificationNumber",label:"National Identification Number"},firstName:{name:"firstName",label:"First Name"},phoneNumber:{name:"phoneNumber",label:"Phone Number"},lastName:{name:"lastName",label:"Last Name"},dob:{name:"birthDate",label:"Date of Birth"},gender:{name:"gender",label:"Gender"},birthDateEstimated:{name:"birthdateEstimated",label:"Birthdate Estimated"},currentDistrict:{name:"currentDistrict",label:"Current District"},currentTraditionalAuthority:{name:"currentTraditionalAuthority",label:"Current TA / Ward"},currentVillage:{name:"currentVillage",label:"Current Village / Location"},closeLandMark:{name:"closeLandMark",label:"Close Landmark"},nextOfKinFirstName:{name:"nextOfKinFirstName",label:"Next of kin First Name"},nextOfKinLastName:{name:"nextOfKinLastName",label:"Next Of Kin Last Name"},nextOfKinRelationship:{name:"nextOfKinRelationship",label:"Next Of Kin Relationship"},nextOfKinPhoneNumber:{name:"nextOfKinPhoneNumber",label:"Next Of Kin Phone Number"},homeDistrict:{name:"homeDistrict",label:"Home District"},nationality:{name:"nationality",label:"Nationality"},homeTraditionalAuthority:{name:"homeTraditionalAuthority",label:"Home Traditional Authority"},homeVillage:{name:"homeVillage",label:"Home Village"},guardianPhoneNumber:{name:"guardianPhoneNumber",label:"Phone Number"},guardianFirstName:{name:"guardianFirstName",label:"First Name"},guardianLastName:{name:"guardianLastName",label:"Last Name"},guardianNumber:{name:"guardianNumber",label:"Phone Number"},guardianPresent:{name:"guardianPresent",label:"Guardian Present"},age:{name:"age",label:"Estimated Age"}},R=e=>{let a=new Date(e),n=new Date,t=n.getFullYear()-a.getFullYear(),i=n.getMonth()-a.getMonth();return(i<0||0===i&&n.getDate()<a.getDate())&&t--,t},M=/^((\\+[1-9]{1,4}[ \\-]*)|(\\([0-9]{2,3}\\)[ \\-]*)|([0-9]{2,4})[ \\-]*)*?[0-9]{3,4}?[ \\-]*[0-9]{3,4}?$/,P=l.Ik().shape({[E.identificationNumber.name]:l.Yj().label(E.identificationNumber.label),[E.firstName.name]:l.Yj().required().label(E.firstName.label),[E.phoneNumber.name]:l.Yj().matches(M,"phone number not valid").min(10).label(E.phoneNumber.label),[E.lastName.name]:l.Yj().required().label(E.lastName.label),[E.dob.name]:l.p6().when(E.birthDateEstimated.name,{is:e=>"true"==e,then:()=>l.p6().required()}).test("valid-age","Age must be at least 14 years and not in the future",function(e){return!e||R(e)>=0}),[E.gender.name]:l.Yj().required().label(E.gender.label),[E.currentDistrict.name]:l.Yj().required().label(E.currentDistrict.label),[E.currentTraditionalAuthority.name]:l.Yj().when(E.nationality.name,{is:e=>"Malawian"==e,then:()=>l.Yj().required()}).label(E.currentTraditionalAuthority.label),[E.currentVillage.name]:l.Yj().when(E.nationality.name,{is:e=>"Malawian"==e,then:()=>l.Yj().required()}).label(E.currentDistrict.label),[E.closeLandMark.name]:l.Yj().label(E.closeLandMark.label),[E.nextOfKinFirstName.name]:l.Yj().required().label(E.nextOfKinFirstName.label),[E.nextOfKinLastName.name]:l.Yj().required().label(E.nextOfKinLastName.label),[E.nextOfKinRelationship.name]:l.Yj().required().label(E.nextOfKinRelationship.label),[E.nextOfKinPhoneNumber.name]:l.Yj().label(E.nextOfKinRelationship.label),[E.homeDistrict.name]:l.Yj().when(E.nationality.name,{is:e=>"Malawian"==e,then:()=>l.Yj().required()}).label(E.homeDistrict.label),[E.homeTraditionalAuthority.name]:l.Yj().when(E.nationality.name,{is:e=>"Malawian"==e,then:()=>l.Yj().required()}).label(E.homeTraditionalAuthority.label),[E.homeVillage.name]:l.Yj().when(E.nationality.name,{is:e=>"Malawian"==e,then:()=>l.Yj().required()}).label(E.homeVillage.label),[E.guardianPhoneNumber.name]:l.Yj().matches(M,"Phone Number valid").min(10).label(E.guardianPhoneNumber.label),[E.guardianFirstName.name]:l.Yj().label(E.guardianFirstName.label),[E.guardianLastName.name]:l.Yj().label(E.guardianLastName.label),[E.guardianNumber.name]:l.Yj().matches(M,"Phone Number valid").min(10).label(E.guardianNumber.label),[E.guardianPresent.name]:l.Yj().required().label(E.guardianPresent.label),[E.birthDateEstimated.name]:l.zM().required().label(E.birthDateEstimated.label),[E.age.name]:l.ai().when(E.birthDateEstimated.name,{is:e=>!0==e||"true"==e,then:()=>l.ai().required()}).label(E.age.label)}),w=(0,h.f6)(E),B=[{name:"Parent",value:m.W.PARENT},{name:"Uncle",value:m.W.UNCLE_AUNTIE},{name:"Auntie",value:m.W.AUNTIE},{name:"Spouse",value:m.W.SPOUSE},{name:"Siblings",value:m.W.SIBLING}],F=({onSubmit:e,initialValues:a=w,setContext:n})=>{let[l,o]=(0,i.useState)(""),[m,h]=(0,i.useState)(!1),{initialRegisteredPatient:x,patient:j,registrationType:S,searchedPatient:N}=(0,i.useContext)(p.$0),[v,A]=(0,i.useState)({village:"",traditionalAuthority:"",district:""}),[I,C]=(0,i.useState)({village:"",traditionalAuthority:"",district:""}),{villages:D,districts:M,traditionalAuthorities:F}=(0,i.useContext)(b.d),[k,G]=(0,i.useState)(),[V,K]=(0,i.useState)(!1),[Y,W]=(0,i.useState)(!1),[H,U]=(0,i.useState)({}),[q,z]=(0,i.useState)(),[$,Z]=(0,i.useState)({}),[Q,J]=(0,i.useState)({}),[X,ee]=(0,i.useState)(""),{params:ea}=(0,u.KU)(),{refetch:en,isRefetching:et,data:ei,isSuccess:el}=(0,y.B$)(ea.id);return(0,i.useEffect)(()=>{if(el&&ei?.length>0){let e=ei[0].person_b;J({[E.nextOfKinFirstName.name]:e.names[0].given_name,[E.nextOfKinLastName.name]:e.names[0].family_name})}},[el]),(0,i.useEffect)(()=>{if(q){let{setFieldValue:e}=q,a=(0,f.wZ)(H[E.age.name])?.iso;e(E.dob.name,a)}},[H[E.age.name]]),(0,i.useEffect)(()=>{if(q){let{setFieldValue:e}=q;e(E.firstName.name,N.firstName),e(E.lastName.name,N.lastName),e(E.gender.name,N.gender),e(E.birthDateEstimated.name,!1)}},[x]),(0,i.useEffect)(()=>{if(q&&V){let{setFieldValue:e}=q;C(v),e(E.currentDistrict.name,H[E.homeDistrict.name]),e(E.currentVillage.name,H[E.homeVillage.name]),e(E.currentTraditionalAuthority.name,H[E.homeTraditionalAuthority.name])}},[V,H]),(0,i.useEffect)(()=>{if(q&&Y){let{setFieldValue:e}=q;e(E.guardianFirstName.name,H[E.nextOfKinFirstName.name]),e(E.guardianLastName.name,H[E.nextOfKinLastName.name]),e(E.guardianNumber.name,H[E.guardianPhoneNumber.name])}},[Y]),(0,i.useEffect)(()=>{let e={};if("local"==S||"remote"==S){en();let e=j?.addresses[0]?.address1,a=j?.addresses[0]?.home_traditional_authority,n=j?.addresses[0]?.address2,t=j?.addresses[0]?.current_district,i=j?.addresses[0]?.current_traditional_authority,l=j?.addresses[0]?.current_village;Z({[E.dob.name]:j.birthdate,[E.nationality.name]:j?.addresses[0]?.country,[E.homeDistrict.name]:e,[E.homeTraditionalAuthority.name]:a,[E.homeVillage.name]:n,[E.currentDistrict.name]:t,[E.currentTraditionalAuthority.name]:i,[E.currentVillage.name]:l});let o=M.find(a=>a.name==e)?.district_id,r=F.find(e=>e.name==a)?.traditional_authority_id,d=D.find(e=>e.name==n)?.village_id,s=M.find(e=>e.name==t)?.district_id,_=F.find(e=>e.name==i)?.traditional_authority_id,m=D.find(e=>e.name==l)?.village_id;C({village:d,traditionalAuthority:r,district:o}),A({village:m,traditionalAuthority:_,district:s})}},[]),(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(_.sL,{id:"1",children:"Demographics"}),(0,t.jsx)(_.VQ,{children:"The demographics form has been thoughtfully crafted to collect patient information, including personal details, contact information"}),(0,t.jsxs)(s.PD,{validationSchema:P,initialValues:{...a,...$,[E.firstName.name]:N.firstName,[E.lastName.name]:N.lastName,[E.gender.name]:"M"==N.gender?"Male":"Female",...Q,[E.birthDateEstimated.name]:!1,[E.dob.name]:null},onSubmit:e,submitButtonText:"next",submitButton:!1,enableReinitialize:!0,children:[(0,t.jsx)(s.fP,{getValues:U}),(0,t.jsx)(L,{getSetFieldFunction:e=>z(e),setFormContext:n}),(0,t.jsxs)(_.kC,{children:[(0,t.jsx)(_.uQ,{children:"Personal Information"}),(0,t.jsx)(s.A8,{name:E.identificationNumber.name,id:E.identificationNumber.name,label:E.identificationNumber.label}),(0,t.jsx)(s.A8,{name:E.firstName.name,id:E.firstName.name,label:E.firstName.label}),(0,t.jsx)(s.A8,{name:E.lastName.name,id:E.lastName.name,label:E.lastName.label}),(0,t.jsx)(s.b1,{getValue:e=>G(e),name:E.gender.name,label:E.gender.label,options:[{label:"Male",value:"Male"},{label:"Female",value:"Female"}]}),(0,t.jsx)(s.b1,{name:E.birthDateEstimated.name,label:E.birthDateEstimated.label,options:[{label:"Yes",value:!0},{label:"No",value:!1}]}),(0,t.jsx)(s.A8,{sx:{display:"true"==H[E.birthDateEstimated.name]?"flex":"none"},name:E.age.name,id:E.age.name,label:E.age.label,handleBlurEvent:e=>{e&&14>Number(e)&&h(!0)}}),H[E.age.name]>0&&"true"==H[E.birthDateEstimated.name]&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("br",{}),(0,t.jsxs)(s.Th,{variant:"body1",children:["Estimated birth date"," ",(0,t.jsx)("b",{children:(0,f.wZ)(H[E.age.name])?.readable})]}),(0,t.jsx)("br",{})]}),(0,t.jsx)(s.bZ,{sx:{display:!1==H[E.birthDateEstimated.name]||"false"==H[E.birthDateEstimated.name]?"flex":"none",width:"100%"},width:"100%",label:E.dob.label,name:E.dob.name,onBlur:e=>{let a=O()().isSame(O()(e),"day");if(!(e&&e.trim?.()!=="")||a)return;let n=R(e);console.log({value:e,age:n}),n<14&&h(!0)}}),(0,t.jsx)(s.A8,{name:E.phoneNumber.name,id:E.phoneNumber.name,label:E.phoneNumber.label})]}),(0,t.jsxs)(_.kC,{children:[(0,t.jsx)(_.uQ,{children:"Home Location"}),(0,t.jsx)(s.el,{name:E.nationality.name,label:E.nationality.label,getValue:e=>{ee(e)},multiple:!1,options:c.X.map(e=>({id:e.nationality,label:e.nationality}))}),(0,t.jsx)(s.el,{name:E.homeDistrict.name,sx:{display:"malawian"==X.toLowerCase()?"block":"none"},label:E.homeDistrict.label,multiple:!1,getValue:e=>{let a=M.find(a=>a.name==e);a&&A(e=>({...e,district:a.district_id.toString()}))},options:M?M.map(e=>({id:e.name,label:e.name})):[]}),(0,t.jsx)(s.el,{sx:{display:"malawian"==X.toLowerCase()?"block":"none"},name:E.homeTraditionalAuthority.name,label:E.homeTraditionalAuthority.label,multiple:!1,getValue:e=>{let a=F.find(a=>a.name==e);a&&A(e=>({...e,traditionalAuthority:a.traditional_authority_id.toString()}))},options:F?F.filter(e=>e.district_id.toString()==v.district).map(e=>({id:e.name,label:e.name})):[]}),(0,t.jsx)(s.el,{sx:{display:"malawian"==X.toLowerCase()?"block":"none"},name:E.homeVillage.name,label:E.homeVillage.label,multiple:!1,options:D?D.filter(e=>e.traditional_authority_id.toString()==v.traditionalAuthority).map(e=>({id:e.name,label:e.name})):[]})]}),(0,t.jsxs)(_.kC,{children:[(0,t.jsx)(_.uQ,{children:"Current Location"}),"Malawian"==H[E.nationality.name]&&(0,t.jsx)(s.jD,{children:(0,t.jsx)(d.default,{control:(0,t.jsx)(r.default,{checked:V,onChange:e=>{K(e.target.checked)}}),label:"same as home location"})}),(0,t.jsx)(s.el,{name:E.currentDistrict.name,label:E.currentDistrict.label,multiple:!1,getValue:e=>{let a=M.find(a=>a.name==e);a&&C(e=>({...e,district:a.district_id.toString()}))},options:M?M.map(e=>({id:e.name,label:e.name})):[]}),(0,t.jsx)(s.el,{sx:{display:"malawian"==X.toLowerCase()?"block":"none"},name:E.currentTraditionalAuthority.name,label:E.currentTraditionalAuthority.label,getValue:e=>{let a=F.find(a=>a.name==e);a&&C(e=>({...e,traditionalAuthority:a.traditional_authority_id.toString()}))},multiple:!1,options:F?F.filter(e=>e.district_id.toString()==I.district).map(e=>({id:e.name,label:e.name})):[]}),(0,t.jsx)(s.el,{sx:{display:"malawian"==X.toLowerCase()?"block":"none"},name:E.currentVillage.name,label:E.currentVillage.label,multiple:!1,options:D?D.filter(e=>e.traditional_authority_id.toString()==I.traditionalAuthority).map(e=>({id:e.name,label:e.name})):[]}),(0,t.jsx)(s.A8,{name:E.closeLandMark.name,id:E.closeLandMark.name,label:E.closeLandMark.label})]}),(0,t.jsxs)(_.kC,{children:[(0,t.jsx)(_.uQ,{children:"Next of kin Information"}),(0,t.jsx)(s.A8,{name:E.nextOfKinFirstName.name,id:E.nextOfKinFirstName.name,label:E.nextOfKinFirstName.label}),(0,t.jsx)(s.A8,{name:E.nextOfKinLastName.name,id:E.nextOfKinLastName.name,label:E.nextOfKinLastName.label}),(0,t.jsx)(s.pK,{name:E.nextOfKinRelationship.name,id:E.nextOfKinRelationship.name,label:E.nextOfKinRelationship.label,selectItems:B}),(0,t.jsx)(s.A8,{name:E.guardianPhoneNumber.name,id:E.guardianPhoneNumber.name,label:E.guardianPhoneNumber.label})]}),(0,t.jsxs)(_.kC,{children:[(0,t.jsx)(_.uQ,{children:"Guardian Information"}),(0,t.jsx)(s.b1,{name:E.guardianPresent.name,getValue:e=>o(e),label:E.guardianPresent.label,options:[{label:"Yes",value:"yes"},{label:"No",value:"no"}]}),"yes"==l&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(s.jD,{children:(0,t.jsx)(d.default,{control:(0,t.jsx)(r.default,{checked:Y,onChange:e=>{W(e.target.checked)}}),label:"same as next of kin"})}),(0,t.jsx)(s.A8,{name:E.guardianFirstName.name,id:E.guardianFirstName.name,label:E.guardianFirstName.label}),(0,t.jsx)(s.A8,{name:E.guardianLastName.name,id:E.guardianLastName.name,label:E.guardianLastName.label}),(0,t.jsx)(s.A8,{name:E.guardianNumber.name,id:E.guardianNumber.name,label:E.guardianNumber.label})]}),(0,t.jsx)(g.OverlayLoader,{open:et})]})]}),(0,t.jsx)(T,{onClose:()=>h(!1),open:m})]})},L=({setFormContext:e,getSetFieldFunction:a})=>{let n=(0,o.j7)();return(0,i.useEffect)(()=>{e(()=>n)},[n.dirty,n.isValid,n.values]),(0,i.useEffect)(()=>{a&&a(n)},[]),null},k={paymentOption:{name:m.W.PAYMENT_OPTIONS,label:"Payment Option"},insuranceProvider:{name:m.W.INSURANCE_PROVIDER,label:"Insurance Provider"},insuranceIdNo:{name:m.W.INSURANCE_NUMBER,label:"Insurance Id Number"},insuranceSchema:{name:m.W.INSURANCE_SCHEME,label:"Insurance Scheme"},status:{name:m.W.INSURANCE_STATUS,label:"Insurance Status"}},G=l.Ik().shape({[k.paymentOption.name]:l.YO().label(k.paymentOption.label),[k.insuranceProvider.name]:l.Yj().label(k.insuranceProvider.label),[k.insuranceIdNo.name]:l.Yj().label(k.insuranceIdNo.label),[k.insuranceSchema.name]:l.Yj().label(k.insuranceSchema.label)}),V=({onSubmit:e,initialValues:a,setContext:n})=>{let[l,o]=(0,i.useState)("");return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(_.sL,{id:"4",children:"Financing"}),(0,t.jsx)(_.VQ,{children:"Capture details the patient is using for financing"}),(0,t.jsxs)(s.PD,{validationSchema:G,initialValues:a,onSubmit:e,submitButton:!1,children:[(0,t.jsx)(L,{setFormContext:n}),(0,t.jsxs)(_.kC,{children:[(0,t.jsx)(_.uQ,{children:"Payment Options"}),(0,t.jsx)(s.Z3,{getValue:e=>{let a=e?.find(e=>"insurance"==e.key&&e.value);a?o(a.key):o("")},name:k.paymentOption.name,options:[{label:"Non-paying",value:"non-paying"},{label:"Cash",value:"cash"},{label:"Staff",value:"staff"},{label:"Insurance",value:"insurance"}]}),"insurance"===l&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(s.pK,{label:k.insuranceProvider.label,id:k.insuranceProvider.name,name:k.insuranceProvider.name,selectItems:[{name:"Masm",value:"masm"},{name:"Escom",value:"Escom"},{name:"Reserve Bank",value:"Reserve Bank"},{name:"Liberty",value:"Liberty"},{name:"Unimed",value:"Unimed"},{name:"Medhealth",value:"Medhealth"},{name:"CIC Malawi",value:"CIC Malawi"},{name:"MRA",value:"MRA"}]}),(0,t.jsx)(s.A8,{name:k.insuranceIdNo.name,id:k.insuranceIdNo.name,label:k.insuranceIdNo.label}),(0,t.jsx)(s.pK,{label:k.insuranceSchema.label,id:k.insuranceSchema.name,name:k.insuranceSchema.name,selectItems:[{name:"VVIP",value:"VVIP"},{name:"VIP",value:"VIP"},{name:"EXEC",value:"EXEC"},{name:"ECO",value:"ECO"}]}),(0,t.jsx)(s.b1,{name:k.status.name,label:k.status.label,options:[{label:"Active",value:"active"},{label:"Inactive",value:"inactive"}]})]})]})]})]})};var K=n(62116),Y=n(80222),W=n(42533);let H=l.Ik().shape({[m.W.REFERRED_FROM]:l.Yj().label("Referee Medical Facility"),[m.W.ADDITIONAL_NOTES]:l.Yj().label("Additional Notes"),[m.W.DIAGNOSIS]:l.YO().label("Diagnosis"),[m.W.OTHER]:l.Yj().label("Other Diagnosis")}),U=({onSubmit:e,initialValues:a,setContext:n,onSkip:l})=>{let{data:o}=(0,u.WL)(),{params:r}=(0,u.KU)(),{data:d,isLoading:c}=(0,K.$O)(r?.id),[h,p]=(0,i.useState)("yes"),[b,y]=(0,i.useState)(""),{data:g,isLoading:f,refetch:x,isRefetching:j}=(0,W.G5)("b9af45fa-8d80-11d8-abbb-0024217bb78e"),S=d?.find(e=>e.encounter_type.uuid==m.fA.SCREENING_ENCOUNTER),N=(0,Y.m)(S?.obs,m.W.IS_PATIENT_REFERRED);return(0,i.useEffect)(()=>{x()},[]),(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(_.sL,{id:"3",children:"Referral"}),(0,t.jsx)(_.VQ,{children:"The Referral section is mainly responsible for capturing the health facility from which the patient was referred from."}),(0,t.jsx)(s.PD,{validationSchema:H,initialValues:{[m.W.ADDITIONAL_NOTES]:"yes",[m.W.REFERRED_FROM]:"",[m.W.DIAGNOSIS]:"",[m.W.OTHER]:"",...a},onSubmit:e,submitButton:!1,submitButtonText:"next",children:({values:a})=>(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(L,{setFormContext:n}),(0,t.jsxs)(_.kC,{children:[(0,t.jsx)(_.uQ,{children:"Health Facilities"}),"No"==N&&(0,t.jsxs)(A.default,{sx:{display:"flex",alignItems:"center"},children:[(0,t.jsx)(v.default,{variant:"subtitle1",children:"Patient Was not referred"}),(0,t.jsx)(I.A,{onClick:()=>{e({[m.W.ADDITIONAL_NOTES]:"N/A",[m.W.REFERRED_FROM]:"N/A",[m.W.DIAGNOSIS]:"",[m.W.OTHER]:""}),l&&l()},children:"skip step"})]}),(0,t.jsx)(s.el,{label:"Referral Medical Facility",name:m.W.REFERRED_FROM,multiple:!1,getValue:y,disabled:"no"==h||"No"==N,options:o?o.map(e=>({id:e.facility_name,label:e.facility_name})):[]}),""==b&&(0,t.jsx)(s.b1,{disabled:"No"==N,name:m.W.ADDITIONAL_NOTES,getValue:e=>{p(e)},label:"Is the facility you are looking for available?",options:[{label:"Yes",value:"yes"},{label:"No",value:"no"}]}),"no"==h&&(0,t.jsx)(s.A8,{name:m.W.REFERRED_FROM,label:"Other Facility",id:m.W.REFERRED_FROM}),(0,t.jsx)(s.el,{sx:{mt:"1ch"},options:g?[...g?.map(e=>({id:e?.names[0]?.uuid,label:e?.names[0]?.name})),{id:m.W.OTHER,label:"Other"}]:[],label:"Diagnosis",disabled:"No"==N,name:m.W.DIAGNOSIS}),Array.isArray(a[m.W.DIAGNOSIS])&&a[m.W.DIAGNOSIS]?.find(e=>e?.id==m.W.OTHER)&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("br",{}),(0,t.jsx)(s.A8,{multiline:!0,rows:5,sx:{width:"100%"},name:m.W.OTHER,label:"Other Diagnosis",id:m.W.OTHER})]})]})]})})]})},q={maritalStatus:{name:m.W.MARITAL_STATUS,label:"Marital Status"},occupation:{name:m.W.OCCUPATION,label:"Occupation"},religion:{name:m.W.RELIGION,label:"Religion"},religionSpecify:{name:m.W.ADDITIONAL_NOTES,label:"Specify"},highestEducation:{name:m.W.HIGHEST_EDUCATION,label:"Highest Education"},methodOfTransportation:{name:m.W.METHOD_OF_TRANSPORTATION,label:"Method Of Transportation"}},z=l.Ik().shape({[q.maritalStatus.name]:l.Yj().required().label(q.maritalStatus.label),[q.occupation.name]:l.Yj().required().label(q.occupation.label),[q.religion.name]:l.Yj().required().label(q.religion.label),[q.religionSpecify.name]:l.Yj().label(q.religionSpecify.label),[q.highestEducation.name]:l.Yj().required().label(q.highestEducation.label),[q.methodOfTransportation.name]:l.Yj().required().label(q.methodOfTransportation.label)}),$=({onSubmit:e,initialValues:a=(0,h.f6)(q),setContext:n})=>{let[l,o]=(0,i.useState)(""),{data:r,isLoading:d}=(0,K.$O)("af4bd20a-8b06-4083-9de4-2e7d3ca31524");return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(_.sL,{id:"2",children:"Social History"}),(0,t.jsx)(_.VQ,{children:"The social history form covers a range of topics, including social relationships, occupational history, and any other factors that may contribute to your overall well-being."}),(0,t.jsxs)(s.PD,{onSubmit:e,initialValues:a,validationSchema:z,submitButtonText:"next",submitButton:!1,children:[(0,t.jsx)(L,{setFormContext:n}),(0,t.jsxs)(_.kC,{children:[(0,t.jsx)(_.uQ,{children:"Marital Status"}),(0,t.jsx)(s.b1,{row:!0,name:q.maritalStatus.name,label:q.maritalStatus.label,options:[{label:"Single",value:"single"},{label:"Married",value:"married"},{label:"Separated",value:"separated"},{label:"Widowed",value:"widow/widower"},{label:"Divorced",value:"divorced"},{label:"Unknown",value:"unknown"}]})]}),(0,t.jsxs)(_.kC,{children:[(0,t.jsx)(_.uQ,{children:"Religion"}),(0,t.jsx)(s.pK,{getValue:e=>o(e),name:q.religion.name,selectItems:[{name:"Christianity",value:"Christianity"},{name:"Muslim",value:"Muslim"},{name:"Buddhism",value:"Buddhism"},{name:"Rastafarian",value:"Rastafarian"},{name:"Atheist",value:"Atheist"},{name:"Traditional",value:"Traditional"},{name:"Other",value:"Other"}],label:q.religion.label,id:q.religion.name}),"Other"==l&&(0,t.jsx)(s.A8,{name:q.religionSpecify.name,label:q.religionSpecify.label,id:q.religionSpecify.name})]}),(0,t.jsxs)(_.kC,{children:[(0,t.jsx)(_.uQ,{children:"Occupation"}),(0,t.jsx)(s.b1,{row:!0,name:q.occupation.name,label:"",options:[{label:"Working",value:"working"},{label:"Business",value:"business"},{label:"Unemployed",value:"unemployed"},{label:"Self Employed",value:"selfemployed"},{label:"Student",value:"student"},{label:"House Wife",value:"housewife"},{label:"Unknown",value:"unknown"}]})]}),(0,t.jsxs)(_.kC,{children:[(0,t.jsx)(_.uQ,{children:"Transportation"}),(0,t.jsx)(s.pK,{name:q.methodOfTransportation.name,selectItems:[{name:"Walking",value:"walking"},{name:"Ambulance",value:"ambulance"},{name:"Taxi",value:"Taxi"},{name:"Minibus",value:"Minibus"},{name:"Motorcycle",value:"motorcycle"},{name:"Hired Car",value:"hired car"},{name:"Private transport",value:"private_transport"},{name:"Police vehicle",value:"police_vehicle"},{name:"Company vehicle",value:"other_public_company_vehicle"},{name:"Bicycle",value:"bicycle"},{name:"Helicopter",value:"helicopter"}],label:q.methodOfTransportation.label,id:q.methodOfTransportation.name})]}),(0,t.jsxs)(_.kC,{children:[(0,t.jsx)(_.uQ,{children:"Highest Education"}),(0,t.jsx)(s.pK,{name:q.highestEducation.name,selectItems:[{name:"Primary",value:"primary"},{name:"Secondary",value:"secondary"},{name:"Tertiary",value:"tertiary"},{name:"None",value:"none"},{name:"Unknown",value:"unknown"}],label:q.highestEducation.label,id:q.highestEducation.name})]})]})]})},Z={firstName:{name:"first_name",label:"First name"},surname:{name:"surname",label:"Surname"},dateOfBirth:{name:"date_of_birth",label:"Date of Birth"},age:{name:"age",label:"Age"},nationalID:{name:"national_id",label:"National ID"},religion:{name:"religion",label:"Religion"},placeOfResidence:{name:"place_of_residence",label:"Place of Residence"},placeOfDeath:{name:"place_of_death",label:"Place of Death"},dateOfDeath:{name:"date_of_death",label:"Date of Death"},timeOfDeath:{name:"time_of_death",label:"Time of Death"},dateOfArrival:{name:"date_of_arrival",label:"Date of Arrived at AETC"},timeOfArrival:{name:"time_of_arrival",label:"Time of Arrived at AETC"},broughtBy:{name:"brought_by",label:"Brought By"},broughtByContact:{name:"brought_by_contact",label:"Contact"},genderDeceased:{name:"gender_deceased",label:"Gender Of Deceased"},pregnant:{name:"pregnant",label:"Pregnant at time of death"},whatHappened:{name:"what_happened",label:"What Happened"},patientSeenAtHospital:{name:"patient_seen_at_hospital",label:"Was the patient seen at this hospital"},historyOfTravel:{name:"history_of_travel",label:"History of travel"},immediate:{name:"immediate",label:"Immediate"},underlyingConditions:{name:"underlying_conditions",label:"Underlying Conditions"},involvedInAccident:{name:"involved_in_accident",label:"Was the patient involved in an accident"},placeOfInjury:{name:"place_of_injury",label:"Place Of Injury"},timeOfInjury:{name:"time_of_injury",label:"Time Of Injury"},dateOfInjury:{name:"date_of_injury",label:"Date Of Injury"},howTheInjuryOccurred:{name:"how_the_injury_occurred",label:"How did the Injury occur"},policeInformed:{name:"police_informed",label:"Have the police been informed"},policeStationInformed:{name:"police_station_informed",label:"Police Station Informed"},isDeathNatural:{name:"is_death_natural",label:"Is the death natural"},autopsyIsDiscussed:{name:"autopsy_is_discussed",label:"Autopsy Discussed With Escort"},mortuaryInformed:{name:"mortuary_informed",label:"Has the Mortuary been Informed on need of autopsy"},nameOfConfirmingDeath:{name:"name_of_confirming_death",label:"Name of person confirming death"},dateConfirmingDeath:{name:"date_confirming_death",label:"Date Confirming Death"},timeConfirmingDeath:{name:"time_confirming_death",label:"Time Confirming Death"}},Q=l.Ik().shape({[Z.placeOfDeath.name]:l.Yj().label(Z.placeOfDeath.label),[Z.dateOfDeath.name]:l.Yj().label(Z.dateOfDeath.label),[Z.timeOfDeath.name]:l.Yj().label(Z.timeOfDeath.label),[Z.dateOfArrival.name]:l.Yj().required().label(Z.dateOfArrival.label),[Z.timeOfArrival.name]:l.Yj().required().label(Z.timeOfArrival.label),[Z.broughtBy.name]:l.Yj().required().label(Z.broughtBy.label),[Z.broughtByContact.name]:l.Yj().required().label(Z.broughtByContact.label),[Z.genderDeceased.name]:l.Yj().required().label(Z.genderDeceased.label),[Z.pregnant.name]:l.Yj().label(Z.pregnant.label),[Z.historyOfTravel.name]:l.Yj().label(Z.historyOfTravel.label),[Z.whatHappened.name]:l.Yj().required().label(Z.whatHappened.label),[Z.patientSeenAtHospital.name]:l.Yj().required().label(Z.patientSeenAtHospital.label),[Z.immediate.name]:l.Yj().label(Z.immediate.label),[Z.underlyingConditions.name]:l.Yj().label(Z.underlyingConditions.label),[Z.involvedInAccident.name]:l.Yj().required().label(Z.involvedInAccident.label),[Z.placeOfInjury.name]:l.Yj().label(Z.placeOfInjury.label),[Z.dateOfInjury.name]:l.Yj().label(Z.dateOfInjury.label),[Z.timeOfInjury.name]:l.Yj().label(Z.timeOfInjury.label),[Z.howTheInjuryOccurred.name]:l.Yj().label(Z.howTheInjuryOccurred.label),[Z.policeInformed.name]:l.Yj().label(Z.policeInformed.label),[Z.policeStationInformed.name]:l.Yj().label(Z.policeStationInformed.label),[Z.isDeathNatural.name]:l.Yj().label(Z.isDeathNatural.label),[Z.autopsyIsDiscussed.name]:l.Yj().label(Z.autopsyIsDiscussed.label),[Z.mortuaryInformed.name]:l.Yj().label(Z.mortuaryInformed.label),[Z.nameOfConfirmingDeath.name]:l.Yj().label(Z.nameOfConfirmingDeath.label),[Z.dateConfirmingDeath.name]:l.Yj().label(Z.dateConfirmingDeath.label),[Z.timeConfirmingDeath.name]:l.Yj().label(Z.timeConfirmingDeath.label)}),J=(0,h.f6)(Z),X=()=>{let[e,a]=(0,i.useState)({}),{mutate:n,isSuccess:l,isPending:o}=(0,y.lz)(),{navigateTo:r}=(0,u.cq)();return(0,i.useEffect)(()=>{l&&r("/registration/death/list")},[l,r]),(0,t.jsx)(x.h,{loading:o,children:(0,t.jsxs)(s.PD,{validationSchema:Q,initialValues:J,onSubmit:e=>{n(e)},submitButtonText:"Submit",children:[(0,t.jsx)(s.fP,{getValues:a}),(0,t.jsxs)(s.Vp,{children:[(0,t.jsx)(s.A8,{name:Z.firstName.name,id:Z.firstName.name,label:Z.firstName.label,sx:{width:"100%"}}),(0,t.jsx)(s.A8,{name:Z.surname.name,id:Z.surname.name,label:Z.surname.label,sx:{width:"100%"}})]}),(0,t.jsx)(s.bZ,{name:Z.dateOfBirth.name,label:Z.dateOfBirth.label,width:"100%",sx:{mb:2}}),(0,t.jsxs)(s.Vp,{children:[(0,t.jsx)(s.A8,{name:Z.age.name,id:Z.age.name,label:Z.age.label,sx:{width:"100%"}}),(0,t.jsx)(s.A8,{name:Z.nationalID.name,id:Z.nationalID.name,label:Z.nationalID.label,sx:{width:"100%"}}),(0,t.jsx)(s.pK,{name:Z.religion.name,selectItems:[{name:"Christianity",value:"Christianity"},{name:"Muslim",value:"Muslim"},{name:"Buddhism",value:"Buddhism"},{name:"Rastafarian",value:"Rastafarian"},{name:"Atheist",value:"Atheist"},{name:"Traditional",value:"Traditional"},{name:"Other",value:"Other"}],label:Z.religion.label,id:Z.religion.name,sx:{width:"100%"}})]}),(0,t.jsx)(s.A8,{name:Z.placeOfResidence.name,id:Z.placeOfResidence.name,label:Z.placeOfResidence.label,sx:{width:"100%"}}),(0,t.jsx)(s.A8,{name:Z.placeOfDeath.name,id:Z.placeOfDeath.name,label:Z.placeOfDeath.label,sx:{width:"100%"}}),(0,t.jsx)(s.W9,{name:Z.dateOfDeath.name,label:Z.dateOfDeath.label,width:"100%",sx:{mb:2}}),(0,t.jsxs)(s.Vp,{sx:{mb:2},children:[(0,t.jsx)(s.gj,{name:Z.timeOfDeath.name,label:Z.timeOfDeath.label}),(0,t.jsx)(s.gj,{name:Z.timeOfArrival.name,label:Z.timeOfArrival.label})]}),(0,t.jsx)(s.W9,{name:Z.dateOfArrival.name,label:Z.dateOfArrival.label,width:"100%",sx:{mb:2}}),(0,t.jsxs)(s.Vp,{children:[(0,t.jsx)(s.A8,{name:Z.broughtBy.name,id:Z.broughtBy.name,label:Z.broughtBy.label,sx:{width:"100%"}}),(0,t.jsx)(s.A8,{name:Z.broughtByContact.name,id:Z.broughtByContact.name,label:Z.broughtByContact.label,sx:{width:"100%"}})]}),(0,t.jsxs)(s.Vp,{children:[(0,t.jsx)(s.b1,{name:Z.genderDeceased.name,label:Z.genderDeceased.label,row:!0,options:[{label:"Male",value:"male"},{label:"Female",value:"female"}]}),"female"==e[Z.genderDeceased.name]&&(0,t.jsx)(s.b1,{name:Z.pregnant.name,label:Z.pregnant.label,row:!0,options:[{label:"Yes",value:"yes"},{label:"No",value:"no"}]})]}),(0,t.jsx)(s.A8,{name:Z.whatHappened.name,id:Z.whatHappened.name,label:Z.whatHappened.label,rows:4,sx:{width:"100%"},multiline:!0}),(0,t.jsx)(s.Vp,{sx:{alignItems:"flex-start"},children:(0,t.jsx)(s.b1,{name:Z.patientSeenAtHospital.name,label:Z.patientSeenAtHospital.label,row:!0,options:[{label:"Yes",value:"yes"},{label:"No",value:"no"}]})}),(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(s.Th,{children:"Cause of Death"}),(0,t.jsxs)(s.Vp,{sx:{alignItems:"flex-start"},children:[(0,t.jsx)(s.A8,{name:Z.immediate.name,id:Z.immediate.name,label:Z.immediate.label,multiline:!0,rows:4,sx:{width:"100%"}}),(0,t.jsx)(s.A8,{name:Z.underlyingConditions.name,id:Z.underlyingConditions.name,label:Z.underlyingConditions.label,multiline:!0,rows:4,sx:{width:"100%"}})]}),(0,t.jsx)(s.b1,{name:Z.involvedInAccident.name,label:Z.involvedInAccident.label,row:!0,options:[{label:"Yes",value:"yes"},{label:"No",value:"no"}]}),"yes"==e[Z.involvedInAccident.name]&&(0,t.jsx)(s.A8,{name:Z.placeOfInjury.name,id:Z.placeOfInjury.name,label:Z.placeOfInjury.label,sx:{width:"100%"}}),"yes"==e[Z.involvedInAccident.name]&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(s.W9,{name:Z.dateOfInjury.name,label:Z.dateOfInjury.label,width:"100%",sx:{mb:2}}),(0,t.jsx)(s.gj,{name:Z.timeOfInjury.name,label:Z.timeOfInjury.label}),(0,t.jsx)(s.A8,{name:Z.howTheInjuryOccurred.name,id:Z.howTheInjuryOccurred.name,label:Z.howTheInjuryOccurred.label,multiline:!0,rows:5,sx:{width:"100%",mt:2}}),(0,t.jsx)(s.b1,{name:Z.policeInformed.name,label:Z.policeInformed.label,row:!0,options:[{label:"Yes",value:"yes"},{label:"No",value:"no"}]}),"yes"==e[Z.policeInformed.name]&&(0,t.jsx)(s.A8,{name:Z.policeStationInformed.name,id:Z.policeStationInformed.name,label:Z.policeStationInformed.label,sx:{width:"100%"}}),(0,t.jsx)(s.b1,{name:Z.isDeathNatural.name,label:Z.isDeathNatural.label,row:!0,options:[{label:"Yes",value:"yes"},{label:"No",value:"no"}]}),(0,t.jsxs)(s.Vp,{children:["no"==e[Z.isDeathNatural.name]&&(0,t.jsx)(s.b1,{name:Z.mortuaryInformed.name,label:Z.mortuaryInformed.label,options:[{label:"Yes",value:"yes"},{label:"No",value:"no"}]}),"no"==e[Z.isDeathNatural.name]&&(0,t.jsx)(s.b1,{name:Z.autopsyIsDiscussed.name,label:Z.autopsyIsDiscussed.label,options:[{label:"Yes",value:"yes"},{label:"No",value:"no"}]})]})]}),(0,t.jsx)(s.A8,{name:Z.nameOfConfirmingDeath.name,id:Z.nameOfConfirmingDeath.name,label:Z.nameOfConfirmingDeath.label,sx:{width:"100%"}}),(0,t.jsx)(s.W9,{name:Z.dateConfirmingDeath.name,label:Z.dateConfirmingDeath.label,width:"100%",sx:{mb:2}}),(0,t.jsx)(s.gj,{name:Z.timeConfirmingDeath.name,label:Z.timeConfirmingDeath.label})]})]})})};var ee=n(34987),ea=n(12040),en=n(58706),et=n(18299),ei=n(39580),el=n(40035),eo=n(46318);let er=()=>{let[e,a]=(0,i.useState)(!1),[n,l]=(0,i.useState)(""),[o,r]=(0,i.useState)(""),[d,_]=(0,i.useState)(""),{navigateTo:c}=(0,u.cq)(),{loading:h,patients:b,paginationModel:g,setPaginationModel:x,searchText:j,setSearchText:S,totalPages:N,setOnSwitch:v,totalEntries:A}=(0,ei.a)("registration"),[I,C]=(0,i.useState)(""),T=(0,el.d)(I,500),{mutate:D}=(0,y.Dk)();(0,i.useEffect)(()=>{S(T)},[T]);let O=b?.sort((e,a)=>new Date(e.arrival_time)-new Date(a.arrival_time)).map(e=>({id:e?.uuid,...e,patient_arrival_time:(0,f.WB)(e.arrival_time)})).filter(e=>e.id!=d),{setPatient:E,setRegistrationType:R,setSearchedPatient:M}=(0,i.useContext)(p.$0),P=[{field:"aetc_visit_number",headerName:"Visit Number"},{field:"given_name",headerName:"First Name",flex:1},{field:"family_name",headerName:"Last Name",flex:1},{field:"patient_arrival_time",headerName:"Arrival Time",flex:1},{field:"waiting",headerName:"WaitingTime",flex:1,renderCell:e=>(0,t.jsx)(s.VJ,{arrival_time:e.row.latest_encounter_time})},{field:"aggreg",headerName:"Aggregate",flex:1,renderCell:e=>(0,t.jsx)(s.VJ,{arrival_time:e.row.arrival_time})},{field:"last_encounter_creator",headerName:"Screened By",flex:1},{field:"action",headerName:"Action",flex:1,renderCell:e=>{let n=`/registration/${e.id}/search`;return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(ea.A,{title:"Start Registration",arrow:!0,children:(0,t.jsx)(en.default,{onClick:()=>{"N/A"!=e.row.gender&&(M({firstName:e.row.given_name,lastName:e.row.family_name,gender:e.row.gender}),E(e.row),R("local")),c(n)},"aria-label":"start screening",color:"primary",children:(0,t.jsx)(et.gSK,{})})}),(0,t.jsx)(ee.R,{onDelete:()=>{_(e.id),D({id:e.row.patient_id,void_reason:"Absconded"})},visitId:e.row.visit_uuid,patientId:e.id}),(0,t.jsx)(ea.A,{title:"Initiate CPR",arrow:!0,children:(0,t.jsx)(en.default,{onClick:()=>{l(e.id),a(!0),r(e.row.visit_uuid)},"aria-label":"initiate CPR",color:"error",children:(0,t.jsx)(et.szJ,{})})})]})}}],w=O?.map(e=>({id:e.id,visitNumber:e.aetc_visit_number,firstName:e.given_name,lastName:e.family_name,gender:e.gender,arrivalDateTime:e.arrival_time,arrivalTime:e.patient_arrival_time,actor:(0,t.jsx)(s.uT,{encounterType:m.fA.SCREENING_ENCOUNTER,patientId:e.id}),aggregate:(0,t.jsx)(s.VJ,{arrival_time:e.arrival_time}),waitingTime:(0,t.jsx)(s.VJ,{arrival_time:e?.latest_encounter_time}),actionName:"screened by",action:(0,t.jsxs)(t.Fragment,{children:[" ",(0,t.jsx)(s.O6,{sx:{fontSize:"12px",width:"49%",mr:"1px"},title:"start",onClick:()=>c(`/registration/${e.id}/search`)}),(0,t.jsx)(ee.R,{sx:{width:"49%"},onDelete:()=>_(e.id),visitId:e.visit_uuid,patientId:e.id})]}),age:"N/A",triageResult:e.triage_result}));return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(s.vP,{columns:P,data:{data:O??[],page:g.page,per_page:g.pageSize,total_pages:N,totalEntries:A},searchText:I,setSearchString:C,setPaginationModel:x,paginationModel:g,loading:h,formatForMobileView:w||[],onSwitchChange:v,onRowClick:e=>c(`/registration/${e.id}/search`)}),(0,t.jsx)(eo.w8,{patientuuid:n,visituuid:o,open:e,onClose:()=>a(!1)})]})},ed=()=>{let{navigateTo:e}=(0,u.cq)(),{data:a,isLoading:n}=(0,y.xp)(),i=[{field:"first_name",headerName:"First name",flex:1},{field:"surname",headerName:"Surname",flex:1},{field:"age",headerName:"Age",flex:1},{field:"national_id",headerName:"National ID",flex:1},{field:"place_of_death",headerName:"Place Of Death",flex:1},{field:"date_of_death",headerName:"Date Of Death",flex:1},{field:"gender_deceased",headerName:"Gender"},{field:"brought_by",headerName:"Brought By",flex:1},{field:"name_of_confirming_death",headerName:"Confirmed By",flex:1},{field:"date_confirming_death",headerName:"Date Of Confirmation",flex:1},{field:"action",headerName:"Action",flex:1,renderCell:a=>(0,t.jsxs)(A.default,{sx:{display:"flex",gap:1},children:[(0,t.jsx)(s.O6,{sx:{fontSize:"12px"},title:"View",onClick:()=>e(`/registration/death/${a.row.id}/view`)}),(0,t.jsx)(s.O6,{sx:{fontSize:"12px"},title:"Edit",onClick:()=>e(`/registration/death/${a.row.id}/edit`)})]})}];return(0,t.jsx)(s.WE,{loading:n,showTopBar:!1,columns:i,rows:a?[...a].sort((e,a)=>new Date(a.created_at).getTime()-new Date(e.created_at).getTime()):[]})};var es=n(73396),e_=n(77567),em=n(31602);n(30474),n(85814),(0,em.A)(e_.A);let ec=({open:e,onClose:a,children:n})=>(0,t.jsxs)(s.eV,{maxWidth:"sm",title:"You have the following errors",open:e,onClose:a,children:[n,(0,t.jsx)(s.O6,{title:"ok",onClick:a})]})},34987:(e,a,n)=>{n.d(a,{R:()=>m});var t=n(60687),i=n(43210),l=n(75018),o=n(13670),r=n(23641),d=n(12040),s=n(58706),_=n(18299);let m=({patientId:e,visitId:a,onDelete:n,sx:m,dialogTitle:c="Abscond Patient",dialogConfirmationMsg:h="Are you sure the patient absconded?",buttonTitle:u="Abscond"})=>{let{mutate:p,isPending:b,isSuccess:y}=(0,o.FD)(),[g,f]=(0,i.useState)(!1);return(0,i.useEffect)(()=>{y&&n()},[y]),(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(d.A,{title:"Mark as absconded",arrow:!0,children:(0,t.jsx)(s.default,{onClick:()=>{f(!0)},"aria-label":"abscond",children:(0,t.jsx)(_.axc,{})})}),(0,t.jsxs)(l.eV,{maxWidth:"sm",title:c,open:g,onClose:()=>f(!1),children:[(0,t.jsx)(r.OverlayLoader,{open:b}),(0,t.jsx)(l.Th,{children:h}),(0,t.jsx)("br",{}),(0,t.jsx)(l.O6,{title:"Yes",onClick:()=>{p(a)}}),(0,t.jsx)(l.O6,{sx:{ml:.3},variant:"secondary",title:"No",onClick:()=>f(!1)})]})]})}},39580:(e,a,n)=>{n.d(a,{a:()=>l});var t=n(43210),i=n(92592);let l=(e,a)=>{let[n,i]=(0,t.useState)({page:0,pageSize:10}),[l,r]=(0,t.useState)(""),[d,s]=(0,t.useState)([]),[_,m]=(0,t.useState)(!1),[c,h]=(0,t.useState)(0),[u,p]=(0,t.useState)(0),[b,y]=(0,t.useState)(!1),g=(0,t.useCallback)(async()=>{let t;m(!0),b&&(t=new Date().toISOString().split("T")[0]);try{let i=await o(e,n.pageSize,l,n.page+1,t||"",a);s(i.data.data),h(i.data.total_pages),p(i.data.totalEntries)}catch(e){console.error("Error fetching patients:",e)}finally{m(!1)}},[e,n.pageSize,l,n.page,b]);return(0,t.useEffect)(()=>{g()},[g]),{loading:_,patients:d,paginationModel:n,setPaginationModel:i,searchText:l,setSearchText:r,totalPages:c,totalEntries:u,setOnSwitch:y,refetch:(0,t.useCallback)(()=>{g()},[g])}},o=async(e,a,n,t,l,o)=>{let r=`category=${e}&page=${t}&page_size=${a}&search=${n}&date=${l}`;return o&&(r=`category=${e}&paginate=false&patient_care_area=${encodeURIComponent(o)}`),await (0,i.P8)(r)}},40035:(e,a,n)=>{n.d(a,{d:()=>i});var t=n(43210);function i(e,a){let[n,i]=(0,t.useState)(e);return n}},42533:(e,a,n)=>{n.d(a,{fS:()=>g,G5:()=>y,Xt:()=>p,Jl:()=>u,RO:()=>b});var t=n(42938),i=n(60579),l=n(62116);let o=e=>_(e),r=()=>_(t.W.INVESTIGATIONS),d=e=>(0,i.vt)(e,"/lab/orders"),s=e=>(0,i.UK)(`/lab/orders?patient=${e}`),_=async e=>{let a=await (0,l.cr)(e);return(0,i.UK)(`/concepts/${a?.data[0].uuid}/set_members?paginate=false`)};var m=n(29494),c=n(8693),h=n(54050);let u=e=>{let a=async()=>o(e).then(e=>e.data.filter(e=>e.names.length>0&&e.names.some(e=>e?.name)).map(e=>({...e,name:e.names.find(e=>e?.name)?.name})).sort((e,a)=>e.name.localeCompare(a.name)));return(0,m.I)({queryKey:["testTypes",e],queryFn:a,enabled:!0})},p=()=>{let e=async()=>r().then(e=>e.data.sort((e,a)=>e.names[0].name.localeCompare(a.names[0].name)));return(0,m.I)({queryKey:["getSpecimenTypes"],queryFn:e,enabled:!0})},b=e=>{let a=async()=>s(e).then(e=>e.data);return(0,m.I)({queryKey:["patientsOrder",e],queryFn:a,enabled:!0})},y=e=>{let a=async()=>_(e).then(e=>e.data);return(0,m.I)({queryKey:["concept-setMembers",e],queryFn:a,enabled:!1})},g=e=>{let a=(0,c.jE)();return(0,h.n)({mutationFn:e=>d(e).then(e=>e.data),onSuccess:()=>{a.invalidateQueries({queryKey:["patientsOrder"]})}})}},73396:(e,a,n)=>{n.d(a,{m:()=>N});var t=n(60687),i=n(43210),l=n(45742),o=n(75018),r=n(33164),d=n(61939),s=n(89061),_=n(55330),m=n(76990),c=n(92248),h=n(62116),u=n(42938),p=n(93251),b=n(23818),y=n(77575),g=n(53185),f=n(23641);let x=({open:e,ddePatients:a,close:n})=>{let{navigateTo:l}=(0,d.cq)(),[r,s]=(0,i.useState)([]),{searchedPatient:_}=(0,i.useContext)(g.$0),{mutate:c,isPending:h,isSuccess:u}=(0,m.h1)();(0,i.useEffect)(()=>{u&&n()},[u]);let p=a.map(e=>({...e.person,score:e.score}));return(0,t.jsxs)(o.eV,{title:"Check Potential Duplicates",open:e,onClose:()=>{},children:[(0,t.jsx)(f.OverlayLoader,{open:h}),(0,t.jsx)(o.O6,{disabled:0==r.length,title:"merge patients and continue",sx:{mr:.5},variant:"primary",onClick:()=>{c({primary:{patient_id:_.patient_id},secondary:r.map(e=>({doc_id:e}))})}}),(0,t.jsx)(o.O6,{title:"cancel",variant:"secondary",onClick:n}),p.length>0?(0,t.jsx)(o.WE,{getSelectedItems:e=>{s(e)},checkboxSelection:!0,columns:[{field:"given_name",headerName:"First Name",flex:1},{field:"family_name",headerName:"Last Name",flex:1},{field:"birthdate",headerName:"Birth date",flex:1},{field:"gender",headerName:"Gender"},{field:"home_village",headerName:"Home Village",flex:1},{field:"home_traditional_authority",headerName:"Home Traditional Authority",flex:1},{field:"home_district",headerName:"Home District",flex:1},{field:"score",headerName:"Score"}],rows:p}):(0,t.jsx)(t.Fragment,{children:(0,t.jsx)(o.jD,{children:(0,t.jsx)(o.Th,{variant:"subtitle1",children:"There are no patients matching the search criteria"})})})]})};var j=n(82373),S=n(44504);let N=()=>{let[e,a]=(0,i.useState)(1),{navigateTo:n}=(0,d.cq)(),[s,N]=(0,i.useState)(!1),[A,I]=(0,i.useState)(!1),[C,T]=(0,i.useState)(0),[D,O]=(0,i.useState)(!0),[E,R]=(0,i.useState)(""),[M,P]=(0,i.useState)(!1),{registrationType:w}=(0,i.useContext)(g.$0),[B,F]=(0,i.useState)({hasError:!1,errors:""}),L=(0,i.useRef)({}),{ServerTime:k}=(0,S.useServerTime)(),[G,V]=(0,i.useState)(),[K,Y]=(0,i.useState)(),[W,H]=(0,i.useState)(),[U,q]=(0,i.useState)(),[z,$]=(0,i.useState)({}),{activeVisit:Z}=(0,d.gd)(),[Q,J]=(0,i.useState)({firstName:"",lastName:"",gender:"",birthdate:"",homeVillage:"",homeTA:"",homeDistrict:""}),{refetch:X,isFetching:ee,isSuccess:ea,data:en}=(0,m.cc)(Q.firstName,Q.lastName,Q.gender,Q.birthdate,Q.homeVillage,Q.homeTA,Q.homeDistrict),{params:et}=(0,d.KU)(),{mutate:ei,isPending:el,isSuccess:eo,isError:er,data:ed}=(0,m.xo)(),{mutate:es,isPending:e_,isSuccess:em,isError:ec,data:eh}=(0,c.bJ)(),{mutate:eu,isPending:ep,isSuccess:eb,isError:ey,data:eg}=(0,c.bJ)(),{mutate:ef,isSuccess:ex,isPending:ej,isError:eS}=(0,h.jM)(),{mutate:eN,isSuccess:ev,isPending:eA,isError:eI}=(0,h.jM)(),{mutate:eC,isSuccess:eT,isPending:eD,isError:eO}=(0,h.jM)(),{mutate:eE,isPending:eR,isSuccess:eM,data:eP,isError:ew}=(0,c.AU)(),{mutate:eB,isPending:eF,isSuccess:eL,data:ek,isError:eG}=(0,c.AU)();(0,i.useEffect)(()=>{Q.firstName&&"remote"!=w&&X()},[Q]),(0,i.useEffect)(()=>{eo&&(T(1),R("creating next of kin..."),es(z.demographics))},[eo]),(0,i.useEffect)(()=>{em&&eh&&ed&&(T(2),R("adding relationship..."),eE({patient:ed?.uuid,person:eh?.uuid,nextOfKinRelationship:z.demographics.nextOfKinRelationship}))},[em]),(0,i.useEffect)(()=>{if(eM){T(3),R("adding social history...");let e=k.getServerTimeString();ef({encounterType:u.fA.SOCIAL_HISTORY,visit:Z,patient:et.id,encounterDatetime:e,obs:(0,_.gX)(z.socialHistory,e)})}},[eM]),(0,i.useEffect)(()=>{if(ex){T(4),R("adding referral...");let e=k.getServerTimeString(),a=z.referral[u.W.DIAGNOSIS],n=Array.isArray(a)?a.map(a=>({concept:u.W.DIAGNOSIS,value:a.id,obsDatetime:e})):[];delete z.referral[u.W.DIAGNOSIS],eN({encounterType:u.fA.REFERRAL,visit:Z,patient:et.id,encounterDatetime:e,obs:[...(0,_.gX)(z.referral,e),...n]})}},[ex]),(0,i.useEffect)(()=>{if(ev){T(5),R("adding financing data...");let e=k.getServerTimeString(),a=z.financing[u.W.PAYMENT_OPTIONS].filter(e=>e.value).map(a=>({concept:u.W.PAYMENT_OPTIONS,value:a.key,obsDatetime:e}));delete z.financing[u.W.PAYMENT_OPTIONS],eC({encounterType:u.fA.FINANCING,visit:Z,patient:et.id,encounterDatetime:e,obs:[...(0,_.gX)(z.financing,e),...a]})}},[ev]),(0,i.useEffect)(()=>{eT&&(T(6),R("creating guardian..."),eu({nextOfKinFirstName:z.demographics.guardianFirstName,nextOfKinLastName:z.demographics.guardianLastName}))},[eT]),(0,i.useEffect)(()=>{eb&&eg&&ed&&(T(7),R("adding guardian relationship..."),eB({patient:ed?.uuid,person:eg?.uuid,nextOfKinRelationship:u.W.GUARDIAN}))},[eb]),(0,i.useEffect)(()=>{eL&&(N(!1),T(8))},[eL]);let eV=e=>{let a=Object.keys(e);0!=a.length&&F({hasError:!0,errors:(0,t.jsx)(o.jD,{sx:{display:"flex",flexDirection:"column"},children:a.map(a=>(0,t.jsx)(o.Th,{color:"#800000",variant:"subtitle2",children:e[a]},a))})})},eK=async n=>{if(1==e){let{submitForm:n,errors:t,isValid:i,touched:l,dirty:o}=G;n(),eV(t),i&&o&&(a(e+1),L.current.scrollTop=0)}if(2==e){let{submitForm:n,errors:t,isValid:i,touched:l,dirty:o}=K;n(),eV(t),i&&o&&(a(e+1),L.current.scrollTop=0)}if(3==e){let{submitForm:n,errors:t,isValid:i,touched:l,dirty:o}=W;n(),eV(t),i&&(a(e+1),L.current.scrollTop=0)}if(4==e){let{submitForm:e,errors:a,isValid:n,touched:t,dirty:i}=U;e(),eV(a)}},eY=()=>{R("adding demographics..."),N(!0),O(!1),ei({...z.demographics,id:et.id})};return(0,i.useEffect)(()=>{P(er||eS||eI||ew||eO||ec||eG)},[er,eS,eI,ew,eO,ec,eG]),(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(f.OverlayLoader,{open:ee}),(0,t.jsx)(x,{close:()=>I(!1),open:ea&&A,ddePatients:en||[]}),(0,t.jsxs)(l.default,{sx:{height:"95vh",position:"relative"},container:!0,children:[(0,t.jsx)(o.Yr,{item:!0,xs:1,sm:2,md:3,lg:4}),(0,t.jsxs)(l.default,{ref:L,item:!0,xs:10,md:6,sm:8,lg:4,sx:{display:"flex",flexDirection:"column",height:"90vh",overflowY:"auto"},children:[D&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(r.VC,{open:B.hasError,onClose:()=>F({hasError:!1,errors:""}),children:B.errors}),(0,t.jsx)("br",{}),(0,t.jsx)("br",{}),(0,t.jsx)(o.jD,{sx:{display:1==e?"block":"none"},children:(0,t.jsx)(r.di,{setContext:V,onSubmit:e=>{z.demographics=e,J({...e,homeDistrict:e.homeDistrict,homeTA:e.homeTraditionalAuthority,homeVillage:e.homeVillage,birthdate:e.birthDate}),"remote"!=w&&I(!0)}})}),(0,t.jsx)(o.jD,{sx:{display:2==e?"block":"none"},children:(0,t.jsx)(r.aQ,{setContext:Y,onSubmit:e=>z.socialHistory=e})}),(0,t.jsx)(o.jD,{sx:{display:3==e?"block":"none"},children:(0,t.jsx)(r.Q0,{setContext:H,initialValues:{},onSkip:()=>a(e=>e+1),onSubmit:e=>{z.referral=e}})}),(0,t.jsx)(o.jD,{sx:{display:4==e?"block":"none"},children:(0,t.jsx)(r.CM,{setContext:q,initialValues:{},onSubmit:e=>{z.financing=e,eY()}})})]}),8==C&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("br",{}),(0,t.jsx)("br",{}),(0,t.jsx)("br",{}),(0,t.jsx)(p.n,{title:"Patient Created Successful",primaryActionText:"Register More Patient",secondaryActionText:"Go Home",onPrimaryAction:()=>{n("/registration/list")},onSecondaryAction:()=>{n("/dashboard")}}),(0,t.jsx)("br",{}),(0,t.jsx)(t.Fragment,{children:(0,t.jsx)(j.Yc,{firstName:ed.names[0].given_name,lastName:ed.names[0].family_name,addresses:ed.addresses,identifiers:ed?.identifiers})})]}),M&&(0,t.jsx)(y.j,{error:E,onPrimaryAction:()=>{P(!1),T(0),eY()},onSecondaryAction:()=>{T(0),a(1),O(!0),N(!1),P(!1)}}),s&&!M&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("br",{}),(0,t.jsx)("br",{}),(0,t.jsx)("br",{}),(0,t.jsx)("br",{}),(0,t.jsx)("br",{}),(0,t.jsx)("br",{}),(0,t.jsx)("br",{}),(0,t.jsx)(b.n,{message:E,progress:C/8*100})]})]}),(0,t.jsx)(o.Yr,{item:!0,xs:1,sm:2,md:3,lg:4}),D&&(0,t.jsx)(v,{onPrevious:e=>a(e),active:e,setActive:eK})]})]})},v=({active:e,setActive:a,onPrevious:n})=>{let i={width:"126px",height:"44px",padding:"10px 18px",borderRadius:"8px",gap:"8px"};return(0,t.jsxs)(o.jD,{sx:{width:"100%",display:"flex",alignItems:"center",justifyContent:"space-evenly",position:"absolute",zIndex:"10",bottom:0,backgroundColor:"#fff",borderTop:"1px #E6E6E6 solid",py:{md:"1ch"},px:{sm:"1ch"},mb:"2ch"},children:[(0,t.jsx)(o.O6,{icon:(0,t.jsx)(s.oWm,{}),sx:{...i,backgroundColor:"#636363","&:hover":{backgroundColor:"#636363"}},title:"previous",onClick:()=>{1!=e&&n(e-1)}}),(0,t.jsxs)(o.jD,{sx:{display:"flex",alignItems:"center",color:"#00190E"},children:[(0,t.jsx)(A,{onClick:()=>a(1),active:1==e,children:"Demographics"}),(0,t.jsx)(s.j6T,{}),(0,t.jsx)(A,{onClick:()=>a(2),active:2==e,children:"Social History"}),(0,t.jsx)(s.j6T,{}),(0,t.jsx)(A,{onClick:()=>a(3),active:3==e,children:"Referral"}),(0,t.jsx)(s.j6T,{}),(0,t.jsx)(A,{onClick:()=>a(4),active:4==e,children:"Financing"})]}),(0,t.jsx)(o.O6,{iconRight:(0,t.jsx)(s.j6T,{}),sx:i,title:"next",onClick:()=>{a(e+1)}})]})},A=({children:e,active:a,onClick:n})=>(0,t.jsx)(o.jD,{onClick:()=>{},sx:{display:"flex",alignItems:"center",justifyContent:"center",p:"1ch",borderBottom:a?"solid 1px #00190E":"",mx:"2ch",color:a?"":"#636363"},children:(0,t.jsx)(o.Th,{sx:{fontFamily:"Inter",fontSize:"14px",fontWeight:400,letterSpacing:"0em"},children:e})})},76831:(e,a,n)=>{n.d(a,{X:()=>l});var t=n(62116),i=n(29494);let l=e=>{let a=async()=>{let a=await (0,t.P$)(e);return a.data?.length?a.data[0].set_members.map(({names:e})=>({name:e[0]?.name||"Unknown",uuid:e[0]?.uuid||"N/A"})):[]};return(0,i.I)({queryKey:[e],queryFn:a,enabled:!!e})}},77575:(e,a,n)=>{n.d(a,{j:()=>o});var t=n(60687),i=n(75018),l=n(30474);let o=({error:e,onPrimaryAction:a,onSecondaryAction:n})=>(0,t.jsxs)(i.jD,{sx:{display:"flex",alignItems:"center",flexDirection:"column",justifyContent:"center"},children:[(0,t.jsx)(l.default,{width:150,height:150,src:"/error.png",alt:"error"}),(0,t.jsx)("br",{}),(0,t.jsxs)(i.Th,{variant:"body2",children:["Error occurred whilst ",(0,t.jsx)("strong",{children:e})]}),(0,t.jsx)("br",{}),(0,t.jsxs)(i.jD,{sx:{display:"flex"},children:[(0,t.jsx)(i.O6,{onClick:a,title:"retry",sx:{mr:"0.5ch"}}),(0,t.jsx)(i.O6,{onClick:n,title:"cancel",variant:"secondary"})]})]})},82373:(e,a,n)=>{n.d(a,{WL:()=>N,Yc:()=>u,k2:()=>S,jx:()=>p});var t=n(60687),i=n(75018),l=n(50727),o=n(43210),r=n(69587),d=n(80222),s=n(12040),_=n(58706),m=n(12755),c=n(42503),h=n(92592);let u=({firstName:e,lastName:a,identifiers:n,addresses:s})=>{let[_,c]=(0,o.useState)("http://localhost:3000"),[h,u]=(0,o.useState)(()=>{}),{data:p,isLoading:b}=(0,m.Ay)();return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(l.Nt,{printer:_,setTriggerFunc:e=>u(e),value:(0,d.lA)(n),children:[(0,t.jsx)(i.Th,{fontWeight:"600",variant:"h4",children:`${e} ${a} ~ ${(0,d.lA)(n)}`}),(0,t.jsx)(i.Th,{fontSize:30,children:s&&s[0]?`${s[0]?.address1}, ${s[0]?.address2}, ${s[0]?.address3}`:""})]}),(0,t.jsx)("br",{}),(0,t.jsx)(r.x,{getValue:e=>{c(e)},label:"Select Printer",options:p?p?.map(e=>({value:e.ip_address,label:e.name})):[]}),(0,t.jsx)("br",{}),(0,t.jsx)(i.O6,{sx:{color:"#000"},title:"Print Barcode",variant:"text",onClick:()=>{let e=h();"function"==typeof e&&e()}})]})},p=({uuid:e,sx:a,onClose:n,variant:l="secondary",title:r="Print",icon:d})=>{let[m,p]=(0,o.useState)(!1),[b,y]=(0,o.useState)(null),g=async()=>{if(e){let a=await (0,h.kb)(e);y(a?.data)}};return(0,o.useEffect)(()=>{m&&g()},[m]),(0,t.jsxs)(t.Fragment,{children:[d&&(0,t.jsx)(s.A,{title:"Print",arrow:!0,children:(0,t.jsx)(_.default,{onClick:()=>p(!0),"aria-label":"Print",sx:{color:"#015E85"},children:(0,t.jsx)(c.ebz,{})})}),!d&&(0,t.jsx)(i.O6,{size:"small",variant:l,sx:{fontSize:"12px",ml:"1px",...a},title:r,icon:d,onClick:()=>p(!0)}),(0,t.jsx)(i.eV,{open:m,onClose:()=>{p(!1),n&&n()},title:"Print Patient Barcode",children:b&&(0,t.jsx)(u,{firstName:b.given_name,lastName:b.family_name,addresses:b.addresses,identifiers:b.identifiers})})]})};var b=n(35127),y=n(62116),g=n(50772),f=n(42938),x=n(37322),j=n(88794);let S=e=>(0,t.jsx)(b.GenericDialog,{maxWidth:"sm",open:e.open,onClose:e.onClose,title:"Print Triage details",children:(0,t.jsx)(l.Wd,{presentingComplaints:e.presentingComplaints,triageCategory:e.triageCategory,date:e.date,arrivalTime:e.arrivalTime,referredFrom:e.referredFrom,triagedBy:e.triagedBy,vitals:e.vitals})}),N=({patientId:e,activeVisitId:a,arrivalDateTime:n})=>{let{data:i,isLoading:l}=(0,y.$O)(e,`encounter_type=${f.fA.REFERRAL}`),{data:r,isLoading:s}=(0,y.$O)(e,`encounter_type=${f.fA.VITALS}`),{data:_,isLoading:m}=(0,y.$O)(e,`encounter_type=${f.fA.PRESENTING_COMPLAINTS}`),{data:c,isLoading:h}=(0,y.$O)(e,`encounter_type=${f.fA.TRIAGE_RESULT}`),[u,p]=(0,o.useState)([]),[b,N]=(0,o.useState)(""),[v,A]=(0,o.useState)(""),[I,C]=(0,o.useState)(""),[T,D]=(0,o.useState)(""),[O,E]=(0,o.useState)(""),[R,M]=(0,o.useState)(!1);(0,o.useEffect)(()=>{P()},[i,_,c,r]);let P=()=>{let e=w(i);A(e?(0,d.m)(e?.obs,f.W.REFERRED_FROM):"");let a=w(_);console.log({presentingComplaints:a}),N(a?.obs.reduce((e,a)=>""==e?a.value:e+","+a.value,""));let n=w(c);C(n?.obs[0].value),D((0,j.rX)(n?.encounter_datetime)),E(n?.created_by);let t=w(r)?.obs??[];p([{name:x.D.saturationRate.short,value:(0,d.m)(t,x.D.saturationRate.name)},{name:x.D.heartRate.short,value:(0,d.m)(t,x.D.heartRate.name)},{name:x.D.bloodPressure.short,value:`${(0,d.m)(t,x.D.bloodPressure.name)}/${(0,d.m)(t,x.D.bloodPressureDiastolic.name)}`},{name:x.D.respiratoryRate.short,value:(0,d.m)(t,x.D.respiratoryRate.name)},{name:x.D.temperature.short,value:(0,d.m)(t,x.D.temperature.name)},{name:x.D.avpu.label,value:(0,d.m)(t,x.D.avpu.name)},{name:`${x.D.glucose.label}(${(0,d.m)(t,x.D.units.name)}`,value:(0,d.m)(t,x.D.glucose.name)}])},w=e=>e?.find(e=>e.visit.uuid==a);return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(g.A,{variant:"text",sx:{fontSize:"12px",color:"ButtonText",textTransform:"capitalize",textAlign:"left"},onClick:()=>M(!0),children:"Triage"}),(0,t.jsx)(S,{arrivalTime:(0,j.rX)(n),open:R,onClose:()=>M(!1),triageCategory:I,triagedBy:O,referredFrom:v,date:T,presentingComplaints:b,vitals:u})]})}},93251:(e,a,n)=>{n.d(a,{n:()=>d});var t=n(60687),i=n(28274),l=n(78590),o=n(89061),r=n(75018);function d({title:e,primaryActionText:a,secondaryActionText:n,onPrimaryAction:d,onSecondaryAction:s,printButton:_}){return(0,t.jsx)(i.default,{display:"flex",alignItems:"center",justifyContent:"center",width:"100%",children:(0,t.jsxs)(i.default,{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",children:[(0,t.jsx)(l.default,{variant:"h1",color:"green",children:(0,t.jsx)(o.cxC,{})}),(0,t.jsx)(l.default,{variant:"h5",fontWeight:"500",children:e}),(0,t.jsxs)(i.default,{mt:"2ch",sx:{display:"flex"},children:[(0,t.jsx)(r.O6,{onClick:d,title:a}),(0,t.jsx)(r.O6,{variant:"secondary",sx:{ml:"0.5ch"},onClick:s,title:n}),_]})]})})}},99725:(e,a,n)=>{n.d(a,{X:()=>t});let t=[{num_code:"454",alpha_2_code:"MW",alpha_3_code:"MWI",en_short_name:"Malawi",nationality:"Malawian"},{num_code:"4",alpha_2_code:"AF",alpha_3_code:"AFG",en_short_name:"Afghanistan",nationality:"Afghan"},{num_code:"248",alpha_2_code:"AX",alpha_3_code:"ALA",en_short_name:"\xc5land Islands",nationality:"\xc5land Island"},{num_code:"8",alpha_2_code:"AL",alpha_3_code:"ALB",en_short_name:"Albania",nationality:"Albanian"},{num_code:"12",alpha_2_code:"DZ",alpha_3_code:"DZA",en_short_name:"Algeria",nationality:"Algerian"},{num_code:"16",alpha_2_code:"AS",alpha_3_code:"ASM",en_short_name:"American Samoa",nationality:"American Samoan"},{num_code:"20",alpha_2_code:"AD",alpha_3_code:"AND",en_short_name:"Andorra",nationality:"Andorran"},{num_code:"24",alpha_2_code:"AO",alpha_3_code:"AGO",en_short_name:"Angola",nationality:"Angolan"},{num_code:"660",alpha_2_code:"AI",alpha_3_code:"AIA",en_short_name:"Anguilla",nationality:"Anguillan"},{num_code:"10",alpha_2_code:"AQ",alpha_3_code:"ATA",en_short_name:"Antarctica",nationality:"Antarctic"},{num_code:"28",alpha_2_code:"AG",alpha_3_code:"ATG",en_short_name:"Antigua and Barbuda",nationality:"Antiguan or Barbudan"},{num_code:"32",alpha_2_code:"AR",alpha_3_code:"ARG",en_short_name:"Argentina",nationality:"Argentine"},{num_code:"51",alpha_2_code:"AM",alpha_3_code:"ARM",en_short_name:"Armenia",nationality:"Armenian"},{num_code:"533",alpha_2_code:"AW",alpha_3_code:"ABW",en_short_name:"Aruba",nationality:"Aruban"},{num_code:"36",alpha_2_code:"AU",alpha_3_code:"AUS",en_short_name:"Australia",nationality:"Australian"},{num_code:"40",alpha_2_code:"AT",alpha_3_code:"AUT",en_short_name:"Austria",nationality:"Austrian"},{num_code:"31",alpha_2_code:"AZ",alpha_3_code:"AZE",en_short_name:"Azerbaijan",nationality:"Azerbaijani, Azeri"},{num_code:"44",alpha_2_code:"BS",alpha_3_code:"BHS",en_short_name:"Bahamas",nationality:"Bahamian"},{num_code:"48",alpha_2_code:"BH",alpha_3_code:"BHR",en_short_name:"Bahrain",nationality:"Bahraini"},{num_code:"50",alpha_2_code:"BD",alpha_3_code:"BGD",en_short_name:"Bangladesh",nationality:"Bangladeshi"},{num_code:"52",alpha_2_code:"BB",alpha_3_code:"BRB",en_short_name:"Barbados",nationality:"Barbadian"},{num_code:"112",alpha_2_code:"BY",alpha_3_code:"BLR",en_short_name:"Belarus",nationality:"Belarusian"},{num_code:"56",alpha_2_code:"BE",alpha_3_code:"BEL",en_short_name:"Belgium",nationality:"Belgian"},{num_code:"84",alpha_2_code:"BZ",alpha_3_code:"BLZ",en_short_name:"Belize",nationality:"Belizean"},{num_code:"204",alpha_2_code:"BJ",alpha_3_code:"BEN",en_short_name:"Benin",nationality:"Beninese, Beninois"},{num_code:"60",alpha_2_code:"BM",alpha_3_code:"BMU",en_short_name:"Bermuda",nationality:"Bermudian, Bermudan"},{num_code:"64",alpha_2_code:"BT",alpha_3_code:"BTN",en_short_name:"Bhutan",nationality:"Bhutanese"},{num_code:"68",alpha_2_code:"BO",alpha_3_code:"BOL",en_short_name:"Bolivia (Plurinational State of)",nationality:"Bolivian"},{num_code:"535",alpha_2_code:"BQ",alpha_3_code:"BES",en_short_name:"Bonaire, Sint Eustatius and Saba",nationality:"Bonaire"},{num_code:"70",alpha_2_code:"BA",alpha_3_code:"BIH",en_short_name:"Bosnia and Herzegovina",nationality:"Bosnian or Herzegovinian"},{num_code:"72",alpha_2_code:"BW",alpha_3_code:"BWA",en_short_name:"Botswana",nationality:"Motswana, Botswanan"},{num_code:"74",alpha_2_code:"BV",alpha_3_code:"BVT",en_short_name:"Bouvet Island",nationality:"Bouvet Island"},{num_code:"76",alpha_2_code:"BR",alpha_3_code:"BRA",en_short_name:"Brazil",nationality:"Brazilian"},{num_code:"86",alpha_2_code:"IO",alpha_3_code:"IOT",en_short_name:"British Indian Ocean Territory",nationality:"BIOT"},{num_code:"96",alpha_2_code:"BN",alpha_3_code:"BRN",en_short_name:"Brunei Darussalam",nationality:"Bruneian"},{num_code:"100",alpha_2_code:"BG",alpha_3_code:"BGR",en_short_name:"Bulgaria",nationality:"Bulgarian"},{num_code:"854",alpha_2_code:"BF",alpha_3_code:"BFA",en_short_name:"Burkina Faso",nationality:"Burkinab\xe9"},{num_code:"108",alpha_2_code:"BI",alpha_3_code:"BDI",en_short_name:"Burundi",nationality:"Burundian"},{num_code:"132",alpha_2_code:"CV",alpha_3_code:"CPV",en_short_name:"Cabo Verde",nationality:"Cabo Verdean"},{num_code:"116",alpha_2_code:"KH",alpha_3_code:"KHM",en_short_name:"Cambodia",nationality:"Cambodian"},{num_code:"120",alpha_2_code:"CM",alpha_3_code:"CMR",en_short_name:"Cameroon",nationality:"Cameroonian"},{num_code:"124",alpha_2_code:"CA",alpha_3_code:"CAN",en_short_name:"Canada",nationality:"Canadian"},{num_code:"136",alpha_2_code:"KY",alpha_3_code:"CYM",en_short_name:"Cayman Islands",nationality:"Caymanian"},{num_code:"140",alpha_2_code:"CF",alpha_3_code:"CAF",en_short_name:"Central African Republic",nationality:"Central African"},{num_code:"148",alpha_2_code:"TD",alpha_3_code:"TCD",en_short_name:"Chad",nationality:"Chadian"},{num_code:"152",alpha_2_code:"CL",alpha_3_code:"CHL",en_short_name:"Chile",nationality:"Chilean"},{num_code:"156",alpha_2_code:"CN",alpha_3_code:"CHN",en_short_name:"China",nationality:"Chinese"},{num_code:"162",alpha_2_code:"CX",alpha_3_code:"CXR",en_short_name:"Christmas Island",nationality:"Christmas Island"},{num_code:"166",alpha_2_code:"CC",alpha_3_code:"CCK",en_short_name:"Cocos (Keeling) Islands",nationality:"Cocos Island"},{num_code:"170",alpha_2_code:"CO",alpha_3_code:"COL",en_short_name:"Colombia",nationality:"Colombian"},{num_code:"174",alpha_2_code:"KM",alpha_3_code:"COM",en_short_name:"Comoros",nationality:"Comoran, Comorian"},{num_code:"180",alpha_2_code:"CD",alpha_3_code:"COD",en_short_name:"Congo (Democratic Republic of the)",nationality:"Congolese"},{num_code:"184",alpha_2_code:"CK",alpha_3_code:"COK",en_short_name:"Cook Islands",nationality:"Cook Island"},{num_code:"188",alpha_2_code:"CR",alpha_3_code:"CRI",en_short_name:"Costa Rica",nationality:"Costa Rican"},{num_code:"384",alpha_2_code:"CI",alpha_3_code:"CIV",en_short_name:"C\xf4te d'Ivoire",nationality:"Ivorian"},{num_code:"191",alpha_2_code:"HR",alpha_3_code:"HRV",en_short_name:"Croatia",nationality:"Croatian"},{num_code:"192",alpha_2_code:"CU",alpha_3_code:"CUB",en_short_name:"Cuba",nationality:"Cuban"},{num_code:"531",alpha_2_code:"CW",alpha_3_code:"CUW",en_short_name:"Cura\xe7ao",nationality:"Cura\xe7aoan"},{num_code:"196",alpha_2_code:"CY",alpha_3_code:"CYP",en_short_name:"Cyprus",nationality:"Cypriot"},{num_code:"203",alpha_2_code:"CZ",alpha_3_code:"CZE",en_short_name:"Czech Republic",nationality:"Czech"},{num_code:"208",alpha_2_code:"DK",alpha_3_code:"DNK",en_short_name:"Denmark",nationality:"Danish"},{num_code:"262",alpha_2_code:"DJ",alpha_3_code:"DJI",en_short_name:"Djibouti",nationality:"Djiboutian"},{num_code:"212",alpha_2_code:"DM",alpha_3_code:"DMA",en_short_name:"Dominica",nationality:"Dominican"},{num_code:"218",alpha_2_code:"EC",alpha_3_code:"ECU",en_short_name:"Ecuador",nationality:"Ecuadorian"},{num_code:"818",alpha_2_code:"EG",alpha_3_code:"EGY",en_short_name:"Egypt",nationality:"Egyptian"},{num_code:"222",alpha_2_code:"SV",alpha_3_code:"SLV",en_short_name:"El Salvador",nationality:"Salvadoran"},{num_code:"226",alpha_2_code:"GQ",alpha_3_code:"GNQ",en_short_name:"Equatorial Guinea",nationality:"Equatorial Guinean, Equatoguinean"},{num_code:"232",alpha_2_code:"ER",alpha_3_code:"ERI",en_short_name:"Eritrea",nationality:"Eritrean"},{num_code:"233",alpha_2_code:"EE",alpha_3_code:"EST",en_short_name:"Estonia",nationality:"Estonian"},{num_code:"231",alpha_2_code:"ET",alpha_3_code:"ETH",en_short_name:"Ethiopia",nationality:"Ethiopian"},{num_code:"238",alpha_2_code:"FK",alpha_3_code:"FLK",en_short_name:"Falkland Islands (Malvinas)",nationality:"Falkland Island"},{num_code:"234",alpha_2_code:"FO",alpha_3_code:"FRO",en_short_name:"Faroe Islands",nationality:"Faroese"},{num_code:"242",alpha_2_code:"FJ",alpha_3_code:"FJI",en_short_name:"Fiji",nationality:"Fijian"},{num_code:"246",alpha_2_code:"FI",alpha_3_code:"FIN",en_short_name:"Finland",nationality:"Finnish"},{num_code:"250",alpha_2_code:"FR",alpha_3_code:"FRA",en_short_name:"France",nationality:"French"},{num_code:"254",alpha_2_code:"GF",alpha_3_code:"GUF",en_short_name:"French Guiana",nationality:"French Guianese"},{num_code:"258",alpha_2_code:"PF",alpha_3_code:"PYF",en_short_name:"French Polynesia",nationality:"French Polynesian"},{num_code:"260",alpha_2_code:"TF",alpha_3_code:"ATF",en_short_name:"French Southern Territories",nationality:"French Southern Territories"},{num_code:"266",alpha_2_code:"GA",alpha_3_code:"GAB",en_short_name:"Gabon",nationality:"Gabonese"},{num_code:"270",alpha_2_code:"GM",alpha_3_code:"GMB",en_short_name:"Gambia",nationality:"Gambian"},{num_code:"268",alpha_2_code:"GE",alpha_3_code:"GEO",en_short_name:"Georgia",nationality:"Georgian"},{num_code:"276",alpha_2_code:"DE",alpha_3_code:"DEU",en_short_name:"Germany",nationality:"German"},{num_code:"288",alpha_2_code:"GH",alpha_3_code:"GHA",en_short_name:"Ghana",nationality:"Ghanaian"},{num_code:"292",alpha_2_code:"GI",alpha_3_code:"GIB",en_short_name:"Gibraltar",nationality:"Gibraltar"},{num_code:"300",alpha_2_code:"GR",alpha_3_code:"GRC",en_short_name:"Greece",nationality:"Greek, Hellenic"},{num_code:"304",alpha_2_code:"GL",alpha_3_code:"GRL",en_short_name:"Greenland",nationality:"Greenlandic"},{num_code:"308",alpha_2_code:"GD",alpha_3_code:"GRD",en_short_name:"Grenada",nationality:"Grenadian"},{num_code:"312",alpha_2_code:"GP",alpha_3_code:"GLP",en_short_name:"Guadeloupe",nationality:"Guadeloupe"},{num_code:"316",alpha_2_code:"GU",alpha_3_code:"GUM",en_short_name:"Guam",nationality:"Guamanian, Guambat"},{num_code:"320",alpha_2_code:"GT",alpha_3_code:"GTM",en_short_name:"Guatemala",nationality:"Guatemalan"},{num_code:"324",alpha_2_code:"GN",alpha_3_code:"GIN",en_short_name:"Guinea",nationality:"Guinean"},{num_code:"624",alpha_2_code:"GW",alpha_3_code:"GNB",en_short_name:"Guinea-Bissau",nationality:"Bissau-Guinean"},{num_code:"328",alpha_2_code:"GY",alpha_3_code:"GUY",en_short_name:"Guyana",nationality:"Guyanese"},{num_code:"332",alpha_2_code:"HT",alpha_3_code:"HTI",en_short_name:"Haiti",nationality:"Haitian"},{num_code:"334",alpha_2_code:"HM",alpha_3_code:"HMD",en_short_name:"Heard Island and McDonald Islands",nationality:"Heard Island or McDonald Islands"},{num_code:"336",alpha_2_code:"VA",alpha_3_code:"VAT",en_short_name:"Vatican City State",nationality:"Vatican"},{num_code:"340",alpha_2_code:"HN",alpha_3_code:"HND",en_short_name:"Honduras",nationality:"Honduran"},{num_code:"344",alpha_2_code:"HK",alpha_3_code:"HKG",en_short_name:"Hong Kong",nationality:"Hong Kong, Hong Kongese"},{num_code:"348",alpha_2_code:"HU",alpha_3_code:"HUN",en_short_name:"Hungary",nationality:"Hungarian, Magyar"},{num_code:"352",alpha_2_code:"IS",alpha_3_code:"ISL",en_short_name:"Iceland",nationality:"Icelandic"},{num_code:"356",alpha_2_code:"IN",alpha_3_code:"IND",en_short_name:"India",nationality:"Indian"},{num_code:"360",alpha_2_code:"ID",alpha_3_code:"IDN",en_short_name:"Indonesia",nationality:"Indonesian"},{num_code:"364",alpha_2_code:"IR",alpha_3_code:"IRN",en_short_name:"Iran",nationality:"Iranian, Persian"},{num_code:"368",alpha_2_code:"IQ",alpha_3_code:"IRQ",en_short_name:"Iraq",nationality:"Iraqi"},{num_code:"372",alpha_2_code:"IE",alpha_3_code:"IRL",en_short_name:"Ireland",nationality:"Irish"},{num_code:"833",alpha_2_code:"IM",alpha_3_code:"IMN",en_short_name:"Isle of Man",nationality:"Manx"},{num_code:"376",alpha_2_code:"IL",alpha_3_code:"ISR",en_short_name:"Israel",nationality:"Israeli"},{num_code:"380",alpha_2_code:"IT",alpha_3_code:"ITA",en_short_name:"Italy",nationality:"Italian"},{num_code:"388",alpha_2_code:"JM",alpha_3_code:"JAM",en_short_name:"Jamaica",nationality:"Jamaican"},{num_code:"392",alpha_2_code:"JP",alpha_3_code:"JPN",en_short_name:"Japan",nationality:"Japanese"},{num_code:"832",alpha_2_code:"JE",alpha_3_code:"JEY",en_short_name:"Jersey",nationality:"Channel Island"},{num_code:"400",alpha_2_code:"JO",alpha_3_code:"JOR",en_short_name:"Jordan",nationality:"Jordanian"},{num_code:"398",alpha_2_code:"KZ",alpha_3_code:"KAZ",en_short_name:"Kazakhstan",nationality:"Kazakhstani, Kazakh"},{num_code:"404",alpha_2_code:"KE",alpha_3_code:"KEN",en_short_name:"Kenya",nationality:"Kenyan"},{num_code:"296",alpha_2_code:"KI",alpha_3_code:"KIR",en_short_name:"Kiribati",nationality:"I-Kiribati"},{num_code:"408",alpha_2_code:"KP",alpha_3_code:"PRK",en_short_name:"Korea (Democratic People's Republic of)",nationality:"North Korean"},{num_code:"410",alpha_2_code:"KR",alpha_3_code:"KOR",en_short_name:"Korea (Republic of)",nationality:"South Korean"},{num_code:"414",alpha_2_code:"KW",alpha_3_code:"KWT",en_short_name:"Kuwait",nationality:"Kuwaiti"},{num_code:"417",alpha_2_code:"KG",alpha_3_code:"KGZ",en_short_name:"Kyrgyzstan",nationality:"Kyrgyzstani, Kyrgyz, Kirgiz, Kirghiz"},{num_code:"418",alpha_2_code:"LA",alpha_3_code:"LAO",en_short_name:"Lao People's Democratic Republic",nationality:"Lao, Laotian"},{num_code:"428",alpha_2_code:"LV",alpha_3_code:"LVA",en_short_name:"Latvia",nationality:"Latvian"},{num_code:"422",alpha_2_code:"LB",alpha_3_code:"LBN",en_short_name:"Lebanon",nationality:"Lebanese"},{num_code:"426",alpha_2_code:"LS",alpha_3_code:"LSO",en_short_name:"Lesotho",nationality:"Basotho"},{num_code:"430",alpha_2_code:"LR",alpha_3_code:"LBR",en_short_name:"Liberia",nationality:"Liberian"},{num_code:"434",alpha_2_code:"LY",alpha_3_code:"LBY",en_short_name:"Libya",nationality:"Libyan"},{num_code:"438",alpha_2_code:"LI",alpha_3_code:"LIE",en_short_name:"Liechtenstein",nationality:"Liechtenstein"},{num_code:"440",alpha_2_code:"LT",alpha_3_code:"LTU",en_short_name:"Lithuania",nationality:"Lithuanian"},{num_code:"442",alpha_2_code:"LU",alpha_3_code:"LUX",en_short_name:"Luxembourg",nationality:"Luxembourg, Luxembourgish"},{num_code:"446",alpha_2_code:"MO",alpha_3_code:"MAC",en_short_name:"Macao",nationality:"Macanese, Chinese"},{num_code:"807",alpha_2_code:"MK",alpha_3_code:"MKD",en_short_name:"Macedonia (the former Yugoslav Republic of)",nationality:"Macedonian"},{num_code:"450",alpha_2_code:"MG",alpha_3_code:"MDG",en_short_name:"Madagascar",nationality:"Malagasy"},{num_code:"458",alpha_2_code:"MY",alpha_3_code:"MYS",en_short_name:"Malaysia",nationality:"Malaysian"},{num_code:"462",alpha_2_code:"MV",alpha_3_code:"MDV",en_short_name:"Maldives",nationality:"Maldivian"},{num_code:"466",alpha_2_code:"ML",alpha_3_code:"MLI",en_short_name:"Mali",nationality:"Malian, Malinese"},{num_code:"470",alpha_2_code:"MT",alpha_3_code:"MLT",en_short_name:"Malta",nationality:"Maltese"},{num_code:"584",alpha_2_code:"MH",alpha_3_code:"MHL",en_short_name:"Marshall Islands",nationality:"Marshallese"},{num_code:"474",alpha_2_code:"MQ",alpha_3_code:"MTQ",en_short_name:"Martinique",nationality:"Martiniquais, Martinican"},{num_code:"478",alpha_2_code:"MR",alpha_3_code:"MRT",en_short_name:"Mauritania",nationality:"Mauritanian"},{num_code:"480",alpha_2_code:"MU",alpha_3_code:"MUS",en_short_name:"Mauritius",nationality:"Mauritian"},{num_code:"175",alpha_2_code:"YT",alpha_3_code:"MYT",en_short_name:"Mayotte",nationality:"Mahoran"},{num_code:"484",alpha_2_code:"MX",alpha_3_code:"MEX",en_short_name:"Mexico",nationality:"Mexican"},{num_code:"583",alpha_2_code:"FM",alpha_3_code:"FSM",en_short_name:"Micronesia (Federated States of)",nationality:"Micronesian"},{num_code:"498",alpha_2_code:"MD",alpha_3_code:"MDA",en_short_name:"Moldova (Republic of)",nationality:"Moldovan"},{num_code:"492",alpha_2_code:"MC",alpha_3_code:"MCO",en_short_name:"Monaco",nationality:"Mon\xe9gasque, Monacan"},{num_code:"496",alpha_2_code:"MN",alpha_3_code:"MNG",en_short_name:"Mongolia",nationality:"Mongolian"},{num_code:"499",alpha_2_code:"ME",alpha_3_code:"MNE",en_short_name:"Montenegro",nationality:"Montenegrin"},{num_code:"500",alpha_2_code:"MS",alpha_3_code:"MSR",en_short_name:"Montserrat",nationality:"Montserratian"},{num_code:"504",alpha_2_code:"MA",alpha_3_code:"MAR",en_short_name:"Morocco",nationality:"Moroccan"},{num_code:"508",alpha_2_code:"MZ",alpha_3_code:"MOZ",en_short_name:"Mozambique",nationality:"Mozambican"},{num_code:"104",alpha_2_code:"MM",alpha_3_code:"MMR",en_short_name:"Myanmar",nationality:"Burmese"},{num_code:"516",alpha_2_code:"NA",alpha_3_code:"NAM",en_short_name:"Namibia",nationality:"Namibian"},{num_code:"520",alpha_2_code:"NR",alpha_3_code:"NRU",en_short_name:"Nauru",nationality:"Nauruan"},{num_code:"524",alpha_2_code:"NP",alpha_3_code:"NPL",en_short_name:"Nepal",nationality:"Nepali, Nepalese"},{num_code:"528",alpha_2_code:"NL",alpha_3_code:"NLD",en_short_name:"Netherlands",nationality:"Dutch, Netherlandic"},{num_code:"540",alpha_2_code:"NC",alpha_3_code:"NCL",en_short_name:"New Caledonia",nationality:"New Caledonian"},{num_code:"554",alpha_2_code:"NZ",alpha_3_code:"NZL",en_short_name:"New Zealand",nationality:"New Zealand, NZ"},{num_code:"558",alpha_2_code:"NI",alpha_3_code:"NIC",en_short_name:"Nicaragua",nationality:"Nicaraguan"},{num_code:"562",alpha_2_code:"NE",alpha_3_code:"NER",en_short_name:"Niger",nationality:"Nigerien"},{num_code:"566",alpha_2_code:"NG",alpha_3_code:"NGA",en_short_name:"Nigeria",nationality:"Nigerian"},{num_code:"570",alpha_2_code:"NU",alpha_3_code:"NIU",en_short_name:"Niue",nationality:"Niuean"},{num_code:"574",alpha_2_code:"NF",alpha_3_code:"NFK",en_short_name:"Norfolk Island",nationality:"Norfolk Island"},{num_code:"580",alpha_2_code:"MP",alpha_3_code:"MNP",en_short_name:"Northern Mariana Islands",nationality:"Northern Marianan"},{num_code:"578",alpha_2_code:"NO",alpha_3_code:"NOR",en_short_name:"Norway",nationality:"Norwegian"},{num_code:"512",alpha_2_code:"OM",alpha_3_code:"OMN",en_short_name:"Oman",nationality:"Omani"},{num_code:"586",alpha_2_code:"PK",alpha_3_code:"PAK",en_short_name:"Pakistan",nationality:"Pakistani"},{num_code:"585",alpha_2_code:"PW",alpha_3_code:"PLW",en_short_name:"Palau",nationality:"Palauan"},{num_code:"275",alpha_2_code:"PS",alpha_3_code:"PSE",en_short_name:"Palestine, State of",nationality:"Palestinian"},{num_code:"591",alpha_2_code:"PA",alpha_3_code:"PAN",en_short_name:"Panama",nationality:"Panamanian"},{num_code:"598",alpha_2_code:"PG",alpha_3_code:"PNG",en_short_name:"Papua New Guinea",nationality:"Papua New Guinean, Papuan"},{num_code:"600",alpha_2_code:"PY",alpha_3_code:"PRY",en_short_name:"Paraguay",nationality:"Paraguayan"},{num_code:"604",alpha_2_code:"PE",alpha_3_code:"PER",en_short_name:"Peru",nationality:"Peruvian"},{num_code:"608",alpha_2_code:"PH",alpha_3_code:"PHL",en_short_name:"Philippines",nationality:"Philippine, Filipino"},{num_code:"612",alpha_2_code:"PN",alpha_3_code:"PCN",en_short_name:"Pitcairn",nationality:"Pitcairn Island"},{num_code:"616",alpha_2_code:"PL",alpha_3_code:"POL",en_short_name:"Poland",nationality:"Polish"},{num_code:"620",alpha_2_code:"PT",alpha_3_code:"PRT",en_short_name:"Portugal",nationality:"Portuguese"},{num_code:"630",alpha_2_code:"PR",alpha_3_code:"PRI",en_short_name:"Puerto Rico",nationality:"Puerto Rican"},{num_code:"634",alpha_2_code:"QA",alpha_3_code:"QAT",en_short_name:"Qatar",nationality:"Qatari"},{num_code:"638",alpha_2_code:"RE",alpha_3_code:"REU",en_short_name:"R\xe9union",nationality:"R\xe9unionese, R\xe9unionnais"},{num_code:"642",alpha_2_code:"RO",alpha_3_code:"ROU",en_short_name:"Romania",nationality:"Romanian"},{num_code:"643",alpha_2_code:"RU",alpha_3_code:"RUS",en_short_name:"Russian Federation",nationality:"Russian"},{num_code:"646",alpha_2_code:"RW",alpha_3_code:"RWA",en_short_name:"Rwanda",nationality:"Rwandan"},{num_code:"652",alpha_2_code:"BL",alpha_3_code:"BLM",en_short_name:"Saint Barth\xe9lemy",nationality:"Barth\xe9lemois"},{num_code:"654",alpha_2_code:"SH",alpha_3_code:"SHN",en_short_name:"Saint Helena, Ascension and Tristan da Cunha",nationality:"Saint Helenian"},{num_code:"659",alpha_2_code:"KN",alpha_3_code:"KNA",en_short_name:"Saint Kitts and Nevis",nationality:"Kittitian or Nevisian"},{num_code:"662",alpha_2_code:"LC",alpha_3_code:"LCA",en_short_name:"Saint Lucia",nationality:"Saint Lucian"},{num_code:"663",alpha_2_code:"MF",alpha_3_code:"MAF",en_short_name:"Saint Martin (French part)",nationality:"Saint-Martinoise"},{num_code:"666",alpha_2_code:"PM",alpha_3_code:"SPM",en_short_name:"Saint Pierre and Miquelon",nationality:"Saint-Pierrais or Miquelonnais"},{num_code:"670",alpha_2_code:"VC",alpha_3_code:"VCT",en_short_name:"Saint Vincent and the Grenadines",nationality:"Saint Vincentian, Vincentian"},{num_code:"882",alpha_2_code:"WS",alpha_3_code:"WSM",en_short_name:"Samoa",nationality:"Samoan"},{num_code:"674",alpha_2_code:"SM",alpha_3_code:"SMR",en_short_name:"San Marino",nationality:"Sammarinese"},{num_code:"678",alpha_2_code:"ST",alpha_3_code:"STP",en_short_name:"Sao Tome and Principe",nationality:"S\xe3o Tom\xe9an"},{num_code:"682",alpha_2_code:"SA",alpha_3_code:"SAU",en_short_name:"Saudi Arabia",nationality:"Saudi, Saudi Arabian"},{num_code:"686",alpha_2_code:"SN",alpha_3_code:"SEN",en_short_name:"Senegal",nationality:"Senegalese"},{num_code:"688",alpha_2_code:"RS",alpha_3_code:"SRB",en_short_name:"Serbia",nationality:"Serbian"},{num_code:"690",alpha_2_code:"SC",alpha_3_code:"SYC",en_short_name:"Seychelles",nationality:"Seychellois"},{num_code:"694",alpha_2_code:"SL",alpha_3_code:"SLE",en_short_name:"Sierra Leone",nationality:"Sierra Leonean"},{num_code:"702",alpha_2_code:"SG",alpha_3_code:"SGP",en_short_name:"Singapore",nationality:"Singaporean"},{num_code:"534",alpha_2_code:"SX",alpha_3_code:"SXM",en_short_name:"Sint Maarten (Dutch part)",nationality:"Sint Maarten"},{num_code:"703",alpha_2_code:"SK",alpha_3_code:"SVK",en_short_name:"Slovakia",nationality:"Slovak"},{num_code:"705",alpha_2_code:"SI",alpha_3_code:"SVN",en_short_name:"Slovenia",nationality:"Slovenian, Slovene"},{num_code:"90",alpha_2_code:"SB",alpha_3_code:"SLB",en_short_name:"Solomon Islands",nationality:"Solomon Island"},{num_code:"706",alpha_2_code:"SO",alpha_3_code:"SOM",en_short_name:"Somalia",nationality:"Somali, Somalian"},{num_code:"710",alpha_2_code:"ZA",alpha_3_code:"ZAF",en_short_name:"South Africa",nationality:"South African"},{num_code:"239",alpha_2_code:"GS",alpha_3_code:"SGS",en_short_name:"South Georgia and the South Sandwich Islands",nationality:"South Georgia or South Sandwich Islands"},{num_code:"728",alpha_2_code:"SS",alpha_3_code:"SSD",en_short_name:"South Sudan",nationality:"South Sudanese"},{num_code:"724",alpha_2_code:"ES",alpha_3_code:"ESP",en_short_name:"Spain",nationality:"Spanish"},{num_code:"144",alpha_2_code:"LK",alpha_3_code:"LKA",en_short_name:"Sri Lanka",nationality:"Sri Lankan"},{num_code:"729",alpha_2_code:"SD",alpha_3_code:"SDN",en_short_name:"Sudan",nationality:"Sudanese"},{num_code:"740",alpha_2_code:"SR",alpha_3_code:"SUR",en_short_name:"Suriname",nationality:"Surinamese"},{num_code:"744",alpha_2_code:"SJ",alpha_3_code:"SJM",en_short_name:"Svalbard and Jan Mayen",nationality:"Svalbard"},{num_code:"748",alpha_2_code:"SZ",alpha_3_code:"SWZ",en_short_name:"Swaziland",nationality:"Swazi"},{num_code:"752",alpha_2_code:"SE",alpha_3_code:"SWE",en_short_name:"Sweden",nationality:"Swedish"},{num_code:"756",alpha_2_code:"CH",alpha_3_code:"CHE",en_short_name:"Switzerland",nationality:"Swiss"},{num_code:"760",alpha_2_code:"SY",alpha_3_code:"SYR",en_short_name:"Syrian Arab Republic",nationality:"Syrian"},{num_code:"158",alpha_2_code:"TW",alpha_3_code:"TWN",en_short_name:"Taiwan",nationality:"Taiwanese"},{num_code:"762",alpha_2_code:"TJ",alpha_3_code:"TJK",en_short_name:"Tajikistan",nationality:"Tajikistani"},{num_code:"834",alpha_2_code:"TZ",alpha_3_code:"TZA",en_short_name:"Tanzania, United Republic of",nationality:"Tanzanian"},{num_code:"764",alpha_2_code:"TH",alpha_3_code:"THA",en_short_name:"Thailand",nationality:"Thai"},{num_code:"626",alpha_2_code:"TL",alpha_3_code:"TLS",en_short_name:"Timor-Leste",nationality:"Timorese"},{num_code:"768",alpha_2_code:"TG",alpha_3_code:"TGO",en_short_name:"Togo",nationality:"Togolese"},{num_code:"772",alpha_2_code:"TK",alpha_3_code:"TKL",en_short_name:"Tokelau",nationality:"Tokelauan"},{num_code:"776",alpha_2_code:"TO",alpha_3_code:"TON",en_short_name:"Tonga",nationality:"Tongan"},{num_code:"780",alpha_2_code:"TT",alpha_3_code:"TTO",en_short_name:"Trinidad and Tobago",nationality:"Trinidadian or Tobagonian"},{num_code:"788",alpha_2_code:"TN",alpha_3_code:"TUN",en_short_name:"Tunisia",nationality:"Tunisian"},{num_code:"792",alpha_2_code:"TR",alpha_3_code:"TUR",en_short_name:"Turkey",nationality:"Turkish"},{num_code:"795",alpha_2_code:"TM",alpha_3_code:"TKM",en_short_name:"Turkmenistan",nationality:"Turkmen"},{num_code:"796",alpha_2_code:"TC",alpha_3_code:"TCA",en_short_name:"Turks and Caicos Islands",nationality:"Turks and Caicos Island"},{num_code:"798",alpha_2_code:"TV",alpha_3_code:"TUV",en_short_name:"Tuvalu",nationality:"Tuvaluan"},{num_code:"800",alpha_2_code:"UG",alpha_3_code:"UGA",en_short_name:"Uganda",nationality:"Ugandan"},{num_code:"804",alpha_2_code:"UA",alpha_3_code:"UKR",en_short_name:"Ukraine",nationality:"Ukrainian"},{num_code:"784",alpha_2_code:"AE",alpha_3_code:"ARE",en_short_name:"United Arab Emirates",nationality:"Emirati, Emirian, Emiri"},{num_code:"826",alpha_2_code:"GB",alpha_3_code:"GBR",en_short_name:"United Kingdom of Great Britain and Northern Ireland",nationality:"British, UK"},{num_code:"840",alpha_2_code:"US",alpha_3_code:"USA",en_short_name:"United States of America",nationality:"American"},{num_code:"858",alpha_2_code:"UY",alpha_3_code:"URY",en_short_name:"Uruguay",nationality:"Uruguayan"},{num_code:"860",alpha_2_code:"UZ",alpha_3_code:"UZB",en_short_name:"Uzbekistan",nationality:"Uzbekistani, Uzbek"},{num_code:"548",alpha_2_code:"VU",alpha_3_code:"VUT",en_short_name:"Vanuatu",nationality:"Ni-Vanuatu, Vanuatuan"},{num_code:"862",alpha_2_code:"VE",alpha_3_code:"VEN",en_short_name:"Venezuela (Bolivarian Republic of)",nationality:"Venezuelan"},{num_code:"704",alpha_2_code:"VN",alpha_3_code:"VNM",en_short_name:"Vietnam",nationality:"Vietnamese"},{num_code:"92",alpha_2_code:"VG",alpha_3_code:"VGB",en_short_name:"Virgin Islands (British)",nationality:"British Virgin Island"},{num_code:"850",alpha_2_code:"VI",alpha_3_code:"VIR",en_short_name:"Virgin Islands (U.S.)",nationality:"U.S. Virgin Island"},{num_code:"876",alpha_2_code:"WF",alpha_3_code:"WLF",en_short_name:"Wallis and Futuna",nationality:"Wallis and Futuna, Wallisian or Futunan"},{num_code:"732",alpha_2_code:"EH",alpha_3_code:"ESH",en_short_name:"Western Sahara",nationality:"Sahrawi, Sahrawian, Sahraouian"},{num_code:"887",alpha_2_code:"YE",alpha_3_code:"YEM",en_short_name:"Yemen",nationality:"Yemeni"},{num_code:"894",alpha_2_code:"ZM",alpha_3_code:"ZMB",en_short_name:"Zambia",nationality:"Zambian"},{num_code:"716",alpha_2_code:"ZW",alpha_3_code:"ZWE",en_short_name:"Zimbabwe",nationality:"Zimbabwean"},{num_code:"4540",alpha_2_code:"Unknown",alpha_3_code:"Unknown",en_short_name:"Unknown",nationality:"Unknown"}]}};