(()=>{var e={};e.id=466,e.ids=[466],e.modules={3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},3627:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>B});var a=r(60687),s=r(88794),i=r(43210),n=r(61939),l=r(18842),o=r(90160),d=r(12040),c=r(18299),u=r(75018),p=r(34987),x=r(42938),h=r(28274),m=r(58706),g=r(79534),f=r(78590),j=r(88334),v=r(50772),y=r(7191),A=r(34677),C=r(70460),b=r(48833),S=r(26458),_=r(82373),w=r(46318),D=r(42503),P=r(39580),T=r(40035);let k=()=>{let[e,t]=(0,i.useState)(!1),[r,l]=(0,i.useState)(""),[p,_]=(0,i.useState)(""),[D,k]=(0,i.useState)(""),[q,I]=(0,i.useState)(!1),[B,N]=(0,i.useState)({triageBy:[],patientCareArea:[]}),[R,F]=(0,i.useState)({triageByOptions:[],patientCareAreas:[]}),{navigateTo:z}=(0,n.cq)(),O=1===B.patientCareArea.length?B.patientCareArea[0]:void 0,{paginationModel:W,patients:V,searchText:L,setSearchText:M,setPaginationModel:G,loading:U,totalPages:Y,setOnSwitch:Q}=(0,P.a)("assessment",O),[J,H]=(0,i.useState)(""),K=(0,T.d)(J,500);(0,i.useEffect)(()=>{M(K)},[K]);let[X,Z]=(0,i.useState)([]);(0,i.useEffect)(()=>{V&&Z(V)},[V]),(0,i.useEffect)(()=>{if(X&&X.length>0){let e=Array.from(new Set(X.map(e=>e.last_encounter_creator).filter(Boolean))),t=Array.from(new Set(X.map(e=>e.patient_care_area).filter(Boolean)));F({triageByOptions:e.sort(),patientCareAreas:t.sort()})}},[X]);let ee=i.useMemo(()=>X?X.filter(e=>{let t=0===B.triageBy.length||B.triageBy.includes(e.last_encounter_creator),r=0===B.patientCareArea.length||B.patientCareArea.includes(e.patient_care_area);return t&&r}):[],[X,B]),et=e=>t=>{let r=t.target.value;N(t=>({...t,[e]:"string"==typeof r?r.split(","):r}))},er=(e,t)=>{N(r=>({...r,[e]:r[e].filter(e=>e!==t)}))},ea=B.triageBy.length>0||B.patientCareArea.length>0,es=e=>{Z(X.filter(t=>t.uuid!==e)),k(e)},ei=[{field:"triage_result",headerName:"Triage Cat",renderCell:e=>(0,a.jsx)(h.default,{sx:{display:"flex",justifyContent:"center",alignItems:"center",width:"100%",height:"100%"},children:(0,a.jsx)(h.default,{sx:{width:20,height:20,borderRadius:"50%",backgroundColor:"red"==e.value||"Emergency"==e.value?"#B42318":"yellow"==e.value||"Priority"==e.value?"#EDE207":"green"==e.value||"Queue"==e.value?"#016302":"transparent"}})})},{field:"given_name",headerName:"First Name",flex:1},{field:"family_name",headerName:"Last Name",flex:1},{field:"gender",headerName:"Gender"},{field:"waiting",headerName:"WaitingTime",flex:1,renderCell:e=>(0,a.jsx)(u.VJ,{arrival_time:e.row.latest_encounter_time})},{field:"aggreg",headerName:"Aggregate",flex:1,renderCell:e=>(0,a.jsx)(u.VJ,{arrival_time:e.row.arrival_time})},{field:"last_encounter_creator",headerName:"Triaged By",flex:1},{field:"patient_care_area",flex:1,headerName:"Patient Care Area"},{field:"action",headerName:"Action",flex:1.5,renderCell:e=>(0,a.jsxs)(h.default,{display:"flex",gap:1,children:[(0,a.jsx)(d.A,{title:"Start assessment",arrow:!0,children:(0,a.jsx)(m.default,{onClick:()=>z(`/patient/${e.id}/profile`),"aria-label":"start assessment",color:"primary",children:(0,a.jsx)(c.gSK,{})})}),(0,a.jsx)(d.A,{title:"Dispose",arrow:!0,children:(0,a.jsx)(m.default,{onClick:()=>z(`/patient/${e.id}/disposition`),"aria-label":"Dispose",sx:{color:"grey"},children:(0,a.jsx)(c.dhv,{})})}),(0,a.jsx)(d.A,{title:"Print options",arrow:!0,children:(0,a.jsx)($,{patient:e.row})}),(0,a.jsx)(d.A,{title:"Initiate CPR",arrow:!0,children:(0,a.jsx)(m.default,{onClick:()=>{l(e.id),t(!0),_(e.row.visit_uuid)},"aria-label":"initiate CPR",color:"error",children:(0,a.jsx)(c.szJ,{})})})]})}],en=ee?.map(e=>({id:e.id,visitNumber:e.aetc_visit_number,firstName:e.given_name,lastName:e.family_name,gender:e.gender,arrivalTime:e.patient_arrival_time,arrivalDateTime:e.arrival_time,actor:(0,a.jsx)(u.uT,{encounterType:x.fA.VITALS,patientId:e.id}),aggregate:(0,a.jsx)(u.VJ,{arrival_time:e.arrival_time}),waitingTime:(0,a.jsx)(u.VJ,{arrival_time:e?.latest_encounter_time}),actionName:"Triaged By",action:(0,a.jsx)(E,{patient:e,setDeleted:e=>es(e),triage:e.triage_result,visitId:e.visit_uuid,id:e.uuid}),age:`${(0,s.Cb)(e.birthdate)}yrs`,triageResult:e.triage_result}));return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(g.default,{sx:{p:2,mb:2},children:[(0,a.jsxs)(h.default,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",mb:2},children:[(0,a.jsxs)(h.default,{sx:{display:"flex",alignItems:"center",gap:1},children:[(0,a.jsx)(c.YsJ,{}),(0,a.jsx)(f.default,{variant:"h6",children:"Filters"}),ea&&(0,a.jsx)(j.A,{label:`${B.triageBy.length+B.patientCareArea.length} active`,size:"small",color:"primary"})]}),(0,a.jsxs)(h.default,{sx:{display:"flex",gap:1},children:[ea&&(0,a.jsx)(v.A,{startIcon:(0,a.jsx)(c.QCr,{}),onClick:()=>{N({triageBy:[],patientCareArea:[]})},size:"small",variant:"outlined",color:"secondary",children:"Clear All"}),(0,a.jsxs)(v.A,{startIcon:q?(0,a.jsx)(c.Ucs,{}):(0,a.jsx)(c.Vr3,{}),onClick:()=>I(!q),size:"small",variant:"outlined",children:[q?"Hide":"Show"," Filters"]})]})]}),(0,a.jsx)(y.A,{in:q,children:(0,a.jsxs)(h.default,{sx:{display:"flex",flexWrap:"wrap",gap:2,mb:2},children:[(0,a.jsxs)(A.A,{sx:{minWidth:200},children:[(0,a.jsx)(C.A,{children:"Triaged By"}),(0,a.jsx)(b.A,{multiple:!0,value:B.triageBy,onChange:et("triageBy"),input:(0,a.jsx)(S.A,{label:"Triaged By"}),renderValue:e=>(0,a.jsx)(h.default,{sx:{display:"flex",flexWrap:"wrap",gap:.5},children:e.map(e=>(0,a.jsx)(j.A,{label:e,size:"small",onDelete:()=>er("triageBy",e),onMouseDown:e=>{e.stopPropagation()}},e))}),children:R.triageByOptions.map(e=>(0,a.jsx)(o.A,{value:e,children:e},e))})]}),(0,a.jsxs)(A.A,{sx:{minWidth:200},children:[(0,a.jsx)(C.A,{children:"Patient Care Area"}),(0,a.jsx)(b.A,{multiple:!0,value:B.patientCareArea,onChange:et("patientCareArea"),input:(0,a.jsx)(S.A,{label:"Patient Care Area"}),renderValue:e=>(0,a.jsx)(h.default,{sx:{display:"flex",flexWrap:"wrap",gap:.5},children:e.map(e=>(0,a.jsx)(j.A,{label:e,size:"small",onDelete:()=>er("patientCareArea",e),onMouseDown:e=>{e.stopPropagation()}},e))}),children:R.patientCareAreas.map(e=>(0,a.jsx)(o.A,{value:e,children:e},e))})]})]})}),ea&&(0,a.jsxs)(h.default,{sx:{display:"flex",flexWrap:"wrap",gap:1},children:[(0,a.jsx)(f.default,{variant:"body2",sx:{mr:1,alignSelf:"center"},children:"Active filters:"}),B.triageBy.map(e=>(0,a.jsx)(j.A,{label:`Triaged By: ${e}`,onDelete:()=>er("triageBy",e),size:"small",color:"primary",variant:"outlined"},`triageBy-${e}`)),B.patientCareArea.map(e=>(0,a.jsx)(j.A,{label:`Care Area: ${e}`,onDelete:()=>er("patientCareArea",e),size:"small",color:"primary",variant:"outlined"},`area-${e}`))]})]}),(0,a.jsx)(u.vP,{columns:ei,data:ee?.length?{data:ee.map(e=>({id:e.uuid||e.id,...e})),page:W.page,per_page:W.pageSize,total_pages:Y,totalEntries:ee.length}:{data:[],page:1,per_page:10,total_pages:0,totalEntries:0},searchText:J,setSearchString:H,setPaginationModel:G,paginationModel:W,loading:U,formatForMobileView:en||[],onSwitchChange:Q,onRowClick:e=>z(`/patient/${e.id}/profile`)}),(0,a.jsx)(w.w8,{patientuuid:r,visituuid:p,open:e,onClose:()=>t(!1)})]})},E=({id:e,visitId:t,triage:r,setDeleted:s,patient:i})=>{let{navigateTo:l}=(0,n.cq)();return(0,a.jsxs)(h.default,{sx:{display:"flex",flexDirection:"column",flex:"1"},children:[(0,a.jsx)(u.jD,{sx:{borderRadius:"2px",width:"100%",height:"5ch",backgroundColor:"red"==r?"#B42318":"yellow"==r?"#ede207":"green"==r?"#016302":"",marginY:1}}),(0,a.jsxs)(h.default,{sx:{flex:"1"},children:[(0,a.jsx)(d.A,{title:"Start assessment",arrow:!0,children:(0,a.jsx)(u.O6,{sx:{fontSize:"12px",width:"30%",mr:"2px",mb:"1px"},title:"Start",onClick:()=>l(`/patient/${e}/profile`)})}),(0,a.jsx)(d.A,{title:"Mark as absconded",arrow:!0,children:(0,a.jsx)(p.R,{sx:{width:"30%"},onDelete:()=>s(e),visitId:t,patientId:e})}),(0,a.jsx)(d.A,{title:"Print barcode",arrow:!0,children:(0,a.jsx)(_.jx,{sx:{width:"30%"},uuid:i?.uuid})})]})]})};function $({patient:e}){let[t,r]=i.useState(null),s=()=>{r(null)};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(d.A,{title:"Print",arrow:!0,children:(0,a.jsx)(m.default,{onClick:e=>{r(e.currentTarget)},"aria-label":"Print",sx:{color:"#015E85"},children:(0,a.jsx)(D.ebz,{})})}),(0,a.jsxs)(l.A,{id:"basic-menu",anchorEl:t,open:!!t,onClose:s,children:[(0,a.jsx)(o.A,{sx:{justifyContent:"flex-start"},children:(0,a.jsx)(_.jx,{title:"Demographics",sx:{color:"ButtonText"},variant:"text",onClose:s,uuid:e?.uuid})}),(0,a.jsx)(o.A,{sx:{justifyContent:"flex-start"},children:(0,a.jsx)(_.WL,{arrivalDateTime:e.arrival_time,patientId:e.id,activeVisitId:e?.visit_uuid})})]})]})}var q=r(5608),I=r(85121);let B=(0,r(77391).A)(function(){return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(I.V,{title:"Waiting For Assessment",link:"/dashboard"}),(0,a.jsxs)(u.Yr,{container:!0,children:[(0,a.jsx)(u.Yr,{xs:0,lg:0,item:!0}),(0,a.jsxs)(u.Yr,{xs:12,lg:12,sx:{display:"flex",flexDirection:"column"},item:!0,children:[(0,a.jsx)("br",{}),(0,a.jsx)("br",{}),(0,a.jsx)(q.sL,{children:"Patients Waiting For Assessments"}),(0,a.jsx)(q.VQ,{children:"This is a list of all patients that went through triage successfully and waiting for assessments."}),(0,a.jsx)(q.kC,{sx:{mx:1,p:0},children:(0,a.jsx)(k,{})})]}),(0,a.jsx)(u.Yr,{xs:0,lg:0,item:!0})]})]})},[x.Ot.ADMIN,x.Ot.CLINICIAN,x.Ot.NURSE,x.Ot.STUDENT_CLINICIAN])},5608:(e,t,r)=>{"use strict";r.d(t,{VQ:()=>n,kC:()=>l,sL:()=>i,uQ:()=>o});var a=r(60687),s=r(75018);let i=({children:e,id:t})=>(0,a.jsx)(s.Th,{id:t,sx:{fontFamily:"Inter",fontSize:24,fontWeight:700,lineHeight:"29px",letterSpacing:0,textAlign:"center"},children:e}),n=({children:e})=>(0,a.jsx)(s.Th,{alignSelf:"center",sx:{fontFamily:"Inter",fontSize:14,fontWeight:400,lineHeight:"21px",letterSpacing:0,color:"#636363",width:"50ch",textAlign:"center",my:"2ch"},children:e}),l=({children:e,sx:t})=>(0,a.jsx)(s.sc,{elevation:0,sx:{display:"flex",flexDirection:"column",justifyContent:"center",px:"5ch",py:"5ch",mb:"2ch",...t},children:e}),o=({children:e})=>(0,a.jsx)(s.Th,{sx:{fontFamily:"Inter",fontSize:"16px",fontWeight:600,lineHeight:"24px",letterSpacing:"0em",textAlign:"center",my:"2ch"},children:e})},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},11723:e=>{"use strict";e.exports=require("querystring")},11997:e=>{"use strict";e.exports=require("punycode")},12412:e=>{"use strict";e.exports=require("assert")},13670:(e,t,r)=>{"use strict";r.d(t,{b2:()=>c,FD:()=>u,qv:()=>p});var a=r(44504),s=r(60579);let i="visits",n=e=>(0,s.vt)(e,i),l=(e,t)=>(0,s.hc)(e,t,i);var o=r(8693),d=r(54050);let c=()=>{let e=(0,o.jE)();return(0,d.n)({mutationFn:e=>n(e).then(e=>e.data),onSuccess:t=>{e.invalidateQueries({queryKey:["visits"]})}})},u=()=>{let{ServerTime:e}=(0,a.useServerTime)(),t=async t=>l(t,{stopDatetime:e.getServerTimeString()}).then(e=>e.data);return(0,d.n)({mutationFn:t})},p=e=>{let t=(0,o.jE)();return(0,d.n)({mutationFn:e=>l(e,{stopDatetime:"null"}).then(e=>e.data),onSuccess:()=>{t.invalidateQueries({queryKey:["patients",e,"visits"]})}})}},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},21820:e=>{"use strict";e.exports=require("os")},27910:e=>{"use strict";e.exports=require("stream")},28354:e=>{"use strict";e.exports=require("util")},29021:e=>{"use strict";e.exports=require("fs")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},33873:e=>{"use strict";e.exports=require("path")},34631:e=>{"use strict";e.exports=require("tls")},34987:(e,t,r)=>{"use strict";r.d(t,{R:()=>u});var a=r(60687),s=r(43210),i=r(75018),n=r(13670),l=r(23641),o=r(12040),d=r(58706),c=r(18299);let u=({patientId:e,visitId:t,onDelete:r,sx:u,dialogTitle:p="Abscond Patient",dialogConfirmationMsg:x="Are you sure the patient absconded?",buttonTitle:h="Abscond"})=>{let{mutate:m,isPending:g,isSuccess:f}=(0,n.FD)(),[j,v]=(0,s.useState)(!1);return(0,s.useEffect)(()=>{f&&r()},[f]),(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(o.A,{title:"Mark as absconded",arrow:!0,children:(0,a.jsx)(d.default,{onClick:()=>{v(!0)},"aria-label":"abscond",children:(0,a.jsx)(c.axc,{})})}),(0,a.jsxs)(i.eV,{maxWidth:"sm",title:p,open:j,onClose:()=>v(!1),children:[(0,a.jsx)(l.OverlayLoader,{open:g}),(0,a.jsx)(i.Th,{children:x}),(0,a.jsx)("br",{}),(0,a.jsx)(i.O6,{title:"Yes",onClick:()=>{m(t)}}),(0,a.jsx)(i.O6,{sx:{ml:.3},variant:"secondary",title:"No",onClick:()=>v(!1)})]})]})}},39580:(e,t,r)=>{"use strict";r.d(t,{a:()=>i});var a=r(43210),s=r(92592);let i=(e,t)=>{let[r,s]=(0,a.useState)({page:0,pageSize:10}),[i,l]=(0,a.useState)(""),[o,d]=(0,a.useState)([]),[c,u]=(0,a.useState)(!1),[p,x]=(0,a.useState)(0),[h,m]=(0,a.useState)(0),[g,f]=(0,a.useState)(!1),j=(0,a.useCallback)(async()=>{let a;u(!0),g&&(a=new Date().toISOString().split("T")[0]);try{let s=await n(e,r.pageSize,i,r.page+1,a||"",t);d(s.data.data),x(s.data.total_pages),m(s.data.totalEntries)}catch(e){console.error("Error fetching patients:",e)}finally{u(!1)}},[e,r.pageSize,i,r.page,g]);return(0,a.useEffect)(()=>{j()},[j]),{loading:c,patients:o,paginationModel:r,setPaginationModel:s,searchText:i,setSearchText:l,totalPages:p,totalEntries:h,setOnSwitch:f,refetch:(0,a.useCallback)(()=>{j()},[j])}},n=async(e,t,r,a,i,n)=>{let l=`category=${e}&page=${a}&page_size=${t}&search=${r}&date=${i}`;return n&&(l=`category=${e}&paginate=false&patient_care_area=${encodeURIComponent(n)}`),await (0,s.P8)(l)}},40035:(e,t,r)=>{"use strict";r.d(t,{d:()=>s});var a=r(43210);function s(e,t){let[r,s]=(0,a.useState)(e);return r}},55511:e=>{"use strict";e.exports=require("crypto")},55591:e=>{"use strict";e.exports=require("https")},62148:(e,t,r)=>{Promise.resolve().then(r.bind(r,89057))},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},74075:e=>{"use strict";e.exports=require("zlib")},76602:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>n.a,__next_app__:()=>u,pages:()=>c,routeModule:()=>p,tree:()=>d});var a=r(65239),s=r(48088),i=r(88170),n=r.n(i),l=r(30893),o={};for(let e in l)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>l[e]);r.d(t,o);let d={children:["",{children:["assessments",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,89057)),"/Users/pk/App/hwis/aetc/app/assessments/page.tsx"]}]},{metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,46055))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(r.bind(r,20800)),"/Users/pk/App/hwis/aetc/app/layout.tsx"],error:[()=>Promise.resolve().then(r.bind(r,52608)),"/Users/pk/App/hwis/aetc/app/error.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,57398,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(r.t.bind(r,89999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(r.t.bind(r,65284,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,46055))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]}.children,c=["/Users/pk/App/hwis/aetc/app/assessments/page.tsx"],u={require:r,loadChunk:()=>Promise.resolve()},p=new a.AppPageRouteModule({definition:{kind:s.RouteKind.APP_PAGE,page:"/assessments/page",pathname:"/assessments",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},77391:(e,t,r)=>{"use strict";r.d(t,{A:()=>u});var a=r(60687),s=r(23641),i=r(61939),n=r(43210),l=r(41930),o=r(75018),d=r(30474),c=r(87748);function u(e,t){return function(r){let[o,d]=(0,n.useState)(!1),{navigateTo:u}=(0,i.cq)(),x=(0,l.R)(t,(0,c.O)());return o?x?(0,a.jsx)(e,{...r}):(0,a.jsx)(p,{}):(0,a.jsx)(s.OverlayLoader,{open:!o})}}let p=()=>(0,a.jsx)(o.jD,{sx:{width:"100%",height:"100vh",display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"#fff"},children:(0,a.jsx)(d.default,{src:"/403.jpg",height:500,width:500,alt:"403"})})},79428:e=>{"use strict";e.exports=require("buffer")},79551:e=>{"use strict";e.exports=require("url")},81630:e=>{"use strict";e.exports=require("http")},82373:(e,t,r)=>{"use strict";r.d(t,{WL:()=>b,Yc:()=>h,k2:()=>C,jx:()=>m});var a=r(60687),s=r(75018),i=r(50727),n=r(43210),l=r(69587),o=r(80222),d=r(12040),c=r(58706),u=r(12755),p=r(42503),x=r(92592);let h=({firstName:e,lastName:t,identifiers:r,addresses:d})=>{let[c,p]=(0,n.useState)("http://localhost:3000"),[x,h]=(0,n.useState)(()=>{}),{data:m,isLoading:g}=(0,u.Ay)();return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(i.Nt,{printer:c,setTriggerFunc:e=>h(e),value:(0,o.lA)(r),children:[(0,a.jsx)(s.Th,{fontWeight:"600",variant:"h4",children:`${e} ${t} ~ ${(0,o.lA)(r)}`}),(0,a.jsx)(s.Th,{fontSize:30,children:d&&d[0]?`${d[0]?.address1}, ${d[0]?.address2}, ${d[0]?.address3}`:""})]}),(0,a.jsx)("br",{}),(0,a.jsx)(l.x,{getValue:e=>{p(e)},label:"Select Printer",options:m?m?.map(e=>({value:e.ip_address,label:e.name})):[]}),(0,a.jsx)("br",{}),(0,a.jsx)(s.O6,{sx:{color:"#000"},title:"Print Barcode",variant:"text",onClick:()=>{let e=x();"function"==typeof e&&e()}})]})},m=({uuid:e,sx:t,onClose:r,variant:i="secondary",title:l="Print",icon:o})=>{let[u,m]=(0,n.useState)(!1),[g,f]=(0,n.useState)(null),j=async()=>{if(e){let t=await (0,x.kb)(e);f(t?.data)}};return(0,n.useEffect)(()=>{u&&j()},[u]),(0,a.jsxs)(a.Fragment,{children:[o&&(0,a.jsx)(d.A,{title:"Print",arrow:!0,children:(0,a.jsx)(c.default,{onClick:()=>m(!0),"aria-label":"Print",sx:{color:"#015E85"},children:(0,a.jsx)(p.ebz,{})})}),!o&&(0,a.jsx)(s.O6,{size:"small",variant:i,sx:{fontSize:"12px",ml:"1px",...t},title:l,icon:o,onClick:()=>m(!0)}),(0,a.jsx)(s.eV,{open:u,onClose:()=>{m(!1),r&&r()},title:"Print Patient Barcode",children:g&&(0,a.jsx)(h,{firstName:g.given_name,lastName:g.family_name,addresses:g.addresses,identifiers:g.identifiers})})]})};var g=r(35127),f=r(62116),j=r(50772),v=r(42938),y=r(37322),A=r(88794);let C=e=>(0,a.jsx)(g.GenericDialog,{maxWidth:"sm",open:e.open,onClose:e.onClose,title:"Print Triage details",children:(0,a.jsx)(i.Wd,{presentingComplaints:e.presentingComplaints,triageCategory:e.triageCategory,date:e.date,arrivalTime:e.arrivalTime,referredFrom:e.referredFrom,triagedBy:e.triagedBy,vitals:e.vitals})}),b=({patientId:e,activeVisitId:t,arrivalDateTime:r})=>{let{data:s,isLoading:i}=(0,f.$O)(e,`encounter_type=${v.fA.REFERRAL}`),{data:l,isLoading:d}=(0,f.$O)(e,`encounter_type=${v.fA.VITALS}`),{data:c,isLoading:u}=(0,f.$O)(e,`encounter_type=${v.fA.PRESENTING_COMPLAINTS}`),{data:p,isLoading:x}=(0,f.$O)(e,`encounter_type=${v.fA.TRIAGE_RESULT}`),[h,m]=(0,n.useState)([]),[g,b]=(0,n.useState)(""),[S,_]=(0,n.useState)(""),[w,D]=(0,n.useState)(""),[P,T]=(0,n.useState)(""),[k,E]=(0,n.useState)(""),[$,q]=(0,n.useState)(!1);(0,n.useEffect)(()=>{I()},[s,c,p,l]);let I=()=>{let e=B(s);_(e?(0,o.m)(e?.obs,v.W.REFERRED_FROM):"");let t=B(c);console.log({presentingComplaints:t}),b(t?.obs.reduce((e,t)=>""==e?t.value:e+","+t.value,""));let r=B(p);D(r?.obs[0].value),T((0,A.rX)(r?.encounter_datetime)),E(r?.created_by);let a=B(l)?.obs??[];m([{name:y.D.saturationRate.short,value:(0,o.m)(a,y.D.saturationRate.name)},{name:y.D.heartRate.short,value:(0,o.m)(a,y.D.heartRate.name)},{name:y.D.bloodPressure.short,value:`${(0,o.m)(a,y.D.bloodPressure.name)}/${(0,o.m)(a,y.D.bloodPressureDiastolic.name)}`},{name:y.D.respiratoryRate.short,value:(0,o.m)(a,y.D.respiratoryRate.name)},{name:y.D.temperature.short,value:(0,o.m)(a,y.D.temperature.name)},{name:y.D.avpu.label,value:(0,o.m)(a,y.D.avpu.name)},{name:`${y.D.glucose.label}(${(0,o.m)(a,y.D.units.name)}`,value:(0,o.m)(a,y.D.glucose.name)}])},B=e=>e?.find(e=>e.visit.uuid==t);return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(j.A,{variant:"text",sx:{fontSize:"12px",color:"ButtonText",textTransform:"capitalize",textAlign:"left"},onClick:()=>q(!0),children:"Triage"}),(0,a.jsx)(C,{arrivalTime:(0,A.rX)(r),open:$,onClose:()=>q(!1),triageCategory:w,triagedBy:k,referredFrom:S,date:P,presentingComplaints:g,vitals:h})]})}},83997:e=>{"use strict";e.exports=require("tty")},85121:(e,t,r)=>{"use strict";r.d(t,{V:()=>l});var a=r(60687),s=r(61939),i=r(75018),n=r(89061);let l=({title:e,link:t})=>{let{navigateTo:r}=(0,s.cq)(),l={fontFamily:"Inter",fontSize:"14px",fontWeight:400,lineHeight:"21px",letterSpacing:"0em",textAlign:"center",mx:"1ch"};return(0,a.jsxs)(i.jD,{sx:{display:"flex",justifyContent:"space-evenly",py:"1ch",borderBottom:"solid 1px #E6E6E6"},children:[(0,a.jsxs)(i.jD,{onClick:()=>r(t),sx:{display:"flex",cursor:"pointer"},children:[(0,a.jsx)(i.Th,{children:(0,a.jsx)(n.oWm,{})}),(0,a.jsx)(i.Th,{sx:l,children:"Go back"})]}),(0,a.jsx)(i.Th,{sx:l,children:e}),(0,a.jsxs)(i.jD,{sx:{display:"flex",alignItems:"center"},children:[(0,a.jsx)(n.M4e,{}),(0,a.jsx)(i.Th,{sx:l,children:"Need any help?"})]})]})}},89057:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>a});let a=(0,r(12907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/Users/pk/App/hwis/aetc/app/assessments/page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/pk/App/hwis/aetc/app/assessments/page.tsx","default")},91645:e=>{"use strict";e.exports=require("net")},94735:e=>{"use strict";e.exports=require("events")},98948:(e,t,r)=>{Promise.resolve().then(r.bind(r,3627))}};var t=require("../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),a=t.X(0,[4447,6724,346,1658,485,7567,8142,7549,2503,1146,4431,8431,6318,5806],()=>r(76602));module.exports=a})();