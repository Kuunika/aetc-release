(()=>{var e={};e.id=2150,e.ids=[2150],e.modules={3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},10486:(e,r,t)=>{"use strict";t.r(r),t.d(r,{GlobalError:()=>o.a,__next_app__:()=>u,pages:()=>p,routeModule:()=>c,tree:()=>l});var s=t(65239),a=t(48088),n=t(88170),o=t.n(n),i=t(30893),d={};for(let e in i)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>i[e]);t.d(r,d);let l={children:["",{children:["changePassword",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,20893)),"/Users/pk/App/hwis/aetc/app/changePassword/page.tsx"]}]},{metadata:{icon:[async e=>(await Promise.resolve().then(t.bind(t,46055))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(t.bind(t,20800)),"/Users/pk/App/hwis/aetc/app/layout.tsx"],error:[()=>Promise.resolve().then(t.bind(t,52608)),"/Users/pk/App/hwis/aetc/app/error.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,57398,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(t.t.bind(t,89999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(t.t.bind(t,65284,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(t.bind(t,46055))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]}.children,p=["/Users/pk/App/hwis/aetc/app/changePassword/page.tsx"],u={require:t,loadChunk:()=>Promise.resolve()},c=new s.AppPageRouteModule({definition:{kind:a.RouteKind.APP_PAGE,page:"/changePassword/page",pathname:"/changePassword",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:l}})},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},12412:e=>{"use strict";e.exports=require("assert")},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},20893:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>n});var s=t(37413),a=t(99698);function n(){return(0,s.jsx)(a.default,{})}},21820:e=>{"use strict";e.exports=require("os")},27910:e=>{"use strict";e.exports=require("stream")},28354:e=>{"use strict";e.exports=require("util")},29021:e=>{"use strict";e.exports=require("fs")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},33873:e=>{"use strict";e.exports=require("path")},41312:(e,r,t)=>{"use strict";t.d(r,{default:()=>c});var s=t(60687),a=t(43210),n=t(75018),o=t(30485),i=t(53117),d=t(63843),l=t(60931),p=t(23641);let u=o.Ik({currentPassword:o.Yj().label("Current password").required().min(4),newPassword:o.Yj().label("New password").required().min(4),confirmPassword:o.Yj().label("Confirm password").required().min(4).oneOf([o.KR("newPassword")],"Password not matching ")}),c=()=>{let{mutateAsync:e,isPending:r,isSuccess:t,error:o}=(0,d.ec)(),[c,h]=(0,a.useState)("");return(0,s.jsx)(l.h,{loading:!1,children:(0,s.jsxs)(n.jD,{sx:{display:"flex",justifyContent:"center",flexDirection:"column",alignItems:"center",borderRadius:"1ch",marginTop:"100px",position:"relative"},children:[(0,s.jsx)(p.OverlayLoader,{open:r}),c&&(0,s.jsx)("div",{style:{color:"green",marginBottom:"1rem"},children:c}),(0,s.jsx)(n.PD,{initialValues:{currentPassword:"",newPassword:"",confirmPassword:""},validationSchema:u,submitButton:!1,onSubmit:async(r,{setFieldError:t})=>{let s=localStorage.getItem("accessToken"),a=localStorage.getItem("userName");if(localStorage.getItem("roles"),s){let n=(0,i.s)(s);try{let s=await e({password:r.currentPassword,newPassword:r.newPassword,userId:n?.user_id,userName:a});if(s?.status===422){let e=s?.response?.data?.error||"Current password incorrect";t("currentPassword",e)}else s?.message&&h(s.message)}catch(e){t("currentPassword",e?.response?.data?.error||"Current password incorrect")}}},children:(0,s.jsxs)(n.jD,{sx:{display:"flex",flexDirection:"column"},children:[(0,s.jsx)("h1",{children:"CHANGE PASSWORD "}),(0,s.jsx)(n.A8,{id:"currentPassword",name:"currentPassword",label:"Current password",type:"password"}),(0,s.jsx)(n.A8,{id:"newPassword",name:"newPassword",label:"New password",type:"password"}),(0,s.jsx)(n.A8,{id:"confirmPassword",name:"confirmPassword",label:"Confirm password",type:"password"}),(0,s.jsx)(n.O6,{type:"submit",title:"Change",onClick:()=>{}})]})})]})})}},46055:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>a});var s=t(31658);let a=async e=>[{type:"image/x-icon",sizes:"305x298",url:(0,s.fillMetadataSegment)(".",await e.params,"favicon.ico")+""}]},53117:(e,r,t)=>{"use strict";t.d(r,{s:()=>a});class s extends Error{}function a(e,r){let t;if("string"!=typeof e)throw new s("Invalid token specified: must be a string");r||(r={});let a=+(!0!==r.header),n=e.split(".")[a];if("string"!=typeof n)throw new s(`Invalid token specified: missing part #${a+1}`);try{t=function(e){let r=e.replace(/-/g,"+").replace(/_/g,"/");switch(r.length%4){case 0:break;case 2:r+="==";break;case 3:r+="=";break;default:throw Error("base64 string is not of the correct length")}try{var t;return t=r,decodeURIComponent(atob(t).replace(/(.)/g,(e,r)=>{let t=r.charCodeAt(0).toString(16).toUpperCase();return t.length<2&&(t="0"+t),"%"+t}))}catch(e){return atob(r)}}(n)}catch(e){throw new s(`Invalid token specified: invalid base64 for part #${a+1} (${e.message})`)}try{return JSON.parse(t)}catch(e){throw new s(`Invalid token specified: invalid json for part #${a+1} (${e.message})`)}}s.prototype.name="InvalidTokenError"},55511:e=>{"use strict";e.exports=require("crypto")},55591:e=>{"use strict";e.exports=require("https")},60931:(e,r,t)=>{"use strict";t.d(r,{h:()=>o});var s=t(60687),a=t(28274),n=t(71953);let o=({loading:e,children:r,height:t="100%"})=>(0,s.jsxs)(a.default,{sx:{position:"relative",width:"100%",height:t},children:[e&&(0,s.jsx)(a.default,{sx:{position:"absolute",top:0,left:0,width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"rgba(255, 255, 255, 0.8)",zIndex:1},children:(0,s.jsx)(n.A,{})}),(0,s.jsx)(a.default,{sx:{opacity:e?.5:1,pointerEvents:e?"none":"auto"},children:r})]})},61842:(e,r,t)=>{Promise.resolve().then(t.bind(t,41312))},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},63843:(e,r,t)=>{"use strict";t.d(r,{CF:()=>i,J$:()=>d,ec:()=>p,gw:()=>l,nu:()=>o});var s=t(86745),a=t(54050),n=t(29494);let o=()=>(0,a.n)({mutationFn:e=>{let r=e.role.map(e=>({name:e.id})),t={username:e.userName,password:e.password,person:{gender:"Male",age:47,birthdate:"1970-01-01T00:00:00.000+0100",birthdateEstimated:!1,dead:!1,deathDate:null,causeOfDeath:null,names:[{givenName:e.firstName,familyName:e.lastName}]},roles:r};return(0,s.kg)(t).then(e=>e.data)}}),i=()=>{let e=()=>(0,s.lo)().then(e=>e.data);return(0,n.I)({queryKey:["users"],queryFn:()=>e(),refetchOnWindowFocus:!1,refetchOnMount:!1,refetchOnReconnect:!1})},d=e=>{let r=()=>(0,s.OV)(e).then(e=>e.data);return(0,n.I)({queryKey:["search",e],queryFn:()=>r(),enabled:!1})},l=()=>(0,a.n)({mutationFn:e=>{let r={username:e.userName,roles:e.role.map(e=>({name:e.label})),password:e.password};return(0,s.TK)(e.userId,r).then(e=>e.data)}}),p=()=>(0,a.n)({mutationFn:e=>{let r={user:{current_password:e.password,password:e.newPassword}};return(0,s.f3)(e.userId,r).then(e=>e.data)}})},74075:e=>{"use strict";e.exports=require("zlib")},79551:e=>{"use strict";e.exports=require("url")},81630:e=>{"use strict";e.exports=require("http")},83997:e=>{"use strict";e.exports=require("tty")},86745:(e,r,t)=>{"use strict";t.d(r,{OV:()=>i,TK:()=>l,f3:()=>p,kg:()=>n,kl:()=>d,lo:()=>o});var s=t(60579);let a="/users",n=e=>(0,s.vt)(e,a),o=()=>(0,s.UK)(`${a}?paginate=false`),i=e=>(0,s.UK)(a+"?paginate=false&username="+e),d=e=>(0,s.HD)(e,a),l=(e,r)=>(0,s.hc)(e,r,a),p=(e,r)=>(0,s.yo)(e,a,r)},94735:e=>{"use strict";e.exports=require("events")},98794:(e,r,t)=>{Promise.resolve().then(t.bind(t,99698))},99698:(e,r,t)=>{"use strict";t.d(r,{default:()=>s});let s=(0,t(12907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/Users/pk/App/hwis/aetc/app/changePassword/components/changePassword.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/pk/App/hwis/aetc/app/changePassword/components/changePassword.tsx","default")}};var r=require("../../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),s=r.X(0,[4447,6724,346,1658,485,1146],()=>t(10486));module.exports=s})();