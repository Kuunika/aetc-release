(()=>{var a={};a.id=9257,a.ids=[9257],a.modules={261:a=>{"use strict";a.exports=require("next/dist/shared/lib/router/utils/app-paths")},3295:a=>{"use strict";a.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},10846:a=>{"use strict";a.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},11723:a=>{"use strict";a.exports=require("querystring")},11997:a=>{"use strict";a.exports=require("punycode")},12412:a=>{"use strict";a.exports=require("assert")},19121:a=>{"use strict";a.exports=require("next/dist/server/app-render/action-async-storage.external.js")},21820:a=>{"use strict";a.exports=require("os")},22566:(a,b,c)=>{"use strict";c.d(b,{A:()=>l});var d=c(21124),e=c(41640),f=c(82283),g=c(38301),h=c(65689),i=c(80350),j=c(24515),k=c(47721);function l(a,b){return function(c){let[i,j]=(0,g.useState)(!1),{navigateTo:l}=(0,f.cq)(),n=(0,h.R)(b,(0,k.O)());return i?n?(0,d.jsx)(a,{...c}):(0,d.jsx)(m,{}):(0,d.jsx)(e.OverlayLoader,{open:!i})}}let m=()=>(0,d.jsx)(i.jD,{sx:{width:"100%",height:"100vh",display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"#fff"},children:(0,d.jsx)(j.default,{src:"/403.jpg",height:500,width:500,alt:"403"})})},26545:(a,b,c)=>{"use strict";c.r(b),c.d(b,{GlobalError:()=>D.a,__next_app__:()=>J,handler:()=>L,pages:()=>I,routeModule:()=>K,tree:()=>H});var d=c(49754),e=c(9117),f=c(46595),g=c(32324),h=c(39326),i=c(38928),j=c(20175),k=c(12),l=c(54290),m=c(12696),n=c(82802),o=c(77533),p=c(45229),q=c(32822),r=c(261),s=c(26453),t=c(52474),u=c(26713),v=c(51356),w=c(62685),x=c(36225),y=c(63446),z=c(2762),A=c(45742),B=c(86439),C=c(81170),D=c.n(C),E=c(62506),F=c(91203),G={};for(let a in E)0>["default","tree","pages","GlobalError","__next_app__","routeModule","handler"].indexOf(a)&&(G[a]=()=>E[a]);c.d(b,G);let H={children:["",{children:["initial-registration",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(c.bind(c,64811)),"/home/runner/work/hwis/hwis/aetc/app/initial-registration/page.tsx"]}]},{metadata:{icon:[async a=>(await Promise.resolve().then(c.bind(c,46055))).default(a)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(c.bind(c,40570)),"/home/runner/work/hwis/hwis/aetc/app/layout.tsx"],error:[()=>Promise.resolve().then(c.bind(c,41697)),"/home/runner/work/hwis/hwis/aetc/app/error.tsx"],"global-error":[()=>Promise.resolve().then(c.t.bind(c,81170,23)),"next/dist/client/components/builtin/global-error.js"],"not-found":[()=>Promise.resolve().then(c.t.bind(c,87028,23)),"next/dist/client/components/builtin/not-found.js"],forbidden:[()=>Promise.resolve().then(c.t.bind(c,90461,23)),"next/dist/client/components/builtin/forbidden.js"],unauthorized:[()=>Promise.resolve().then(c.t.bind(c,32768,23)),"next/dist/client/components/builtin/unauthorized.js"],metadata:{icon:[async a=>(await Promise.resolve().then(c.bind(c,46055))).default(a)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]}.children,I=["/home/runner/work/hwis/hwis/aetc/app/initial-registration/page.tsx"],J={require:c,loadChunk:()=>Promise.resolve()},K=new d.AppPageRouteModule({definition:{kind:e.RouteKind.APP_PAGE,page:"/initial-registration/page",pathname:"/initial-registration",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:H},distDir:".next",relativeProjectDir:""});async function L(a,b,d){var C;let G="/initial-registration/page";"/index"===G&&(G="/");let M=(0,h.getRequestMeta)(a,"postponed"),N=(0,h.getRequestMeta)(a,"minimalMode"),O=await K.prepare(a,b,{srcPage:G,multiZoneDraftMode:!1});if(!O)return b.statusCode=400,b.end("Bad Request"),null==d.waitUntil||d.waitUntil.call(d,Promise.resolve()),null;let{buildId:P,query:Q,params:R,parsedUrl:S,pageIsDynamic:T,buildManifest:U,nextFontManifest:V,reactLoadableManifest:W,serverActionsManifest:X,clientReferenceManifest:Y,subresourceIntegrityManifest:Z,prerenderManifest:$,isDraftMode:_,resolvedPathname:aa,revalidateOnlyGenerated:ab,routerServerContext:ac,nextConfig:ad,interceptionRoutePatterns:ae}=O,af=S.pathname||"/",ag=(0,r.normalizeAppPath)(G),{isOnDemandRevalidate:ah}=O,ai=K.match(af,$),aj=!!$.routes[aa],ak=!!(ai||aj||$.routes[ag]),al=a.headers["user-agent"]||"",am=(0,u.getBotType)(al),an=(0,p.isHtmlBotRequest)(a),ao=(0,h.getRequestMeta)(a,"isPrefetchRSCRequest")??"1"===a.headers[t.NEXT_ROUTER_PREFETCH_HEADER],ap=(0,h.getRequestMeta)(a,"isRSCRequest")??!!a.headers[t.RSC_HEADER],aq=(0,s.getIsPossibleServerAction)(a),ar=(0,m.checkIsAppPPREnabled)(ad.experimental.ppr)&&(null==(C=$.routes[ag]??$.dynamicRoutes[ag])?void 0:C.renderingMode)==="PARTIALLY_STATIC",as=!1,at=!1,au=ar?M:void 0,av=ar&&ap&&!ao,aw=(0,h.getRequestMeta)(a,"segmentPrefetchRSCRequest"),ax=!al||(0,p.shouldServeStreamingMetadata)(al,ad.htmlLimitedBots);an&&ar&&(ak=!1,ax=!1);let ay=!0===K.isDev||!ak||"string"==typeof M||av,az=an&&ar,aA=null;_||!ak||ay||aq||au||av||(aA=aa);let aB=aA;!aB&&K.isDev&&(aB=aa),K.isDev||_||!ak||!ap||av||(0,k.d)(a.headers);let aC={...E,tree:H,pages:I,GlobalError:D(),handler:L,routeModule:K,__next_app__:J};X&&Y&&(0,o.setReferenceManifestsSingleton)({page:G,clientReferenceManifest:Y,serverActionsManifest:X,serverModuleMap:(0,q.createServerModuleMap)({serverActionsManifest:X})});let aD=a.method||"GET",aE=(0,g.getTracer)(),aF=aE.getActiveScopeSpan();try{let f=K.getVaryHeader(aa,ae);b.setHeader("Vary",f);let k=async(c,d)=>{let e=new l.NodeNextRequest(a),f=new l.NodeNextResponse(b);return K.render(e,f,d).finally(()=>{if(!c)return;c.setAttributes({"http.status_code":b.statusCode,"next.rsc":!1});let d=aE.getRootSpanAttributes();if(!d)return;if(d.get("next.span_type")!==i.BaseServerSpan.handleRequest)return void console.warn(`Unexpected root span type '${d.get("next.span_type")}'. Please report this Next.js issue https://github.com/vercel/next.js`);let e=d.get("next.route");if(e){let a=`${aD} ${e}`;c.setAttributes({"next.route":e,"http.route":e,"next.span_name":a}),c.updateName(a)}else c.updateName(`${aD} ${a.url}`)})},m=async({span:e,postponed:f,fallbackRouteParams:g})=>{let i={query:Q,params:R,page:ag,sharedContext:{buildId:P},serverComponentsHmrCache:(0,h.getRequestMeta)(a,"serverComponentsHmrCache"),fallbackRouteParams:g,renderOpts:{App:()=>null,Document:()=>null,pageConfig:{},ComponentMod:aC,Component:(0,j.T)(aC),params:R,routeModule:K,page:G,postponed:f,shouldWaitOnAllReady:az,serveStreamingMetadata:ax,supportsDynamicResponse:"string"==typeof f||ay,buildManifest:U,nextFontManifest:V,reactLoadableManifest:W,subresourceIntegrityManifest:Z,serverActionsManifest:X,clientReferenceManifest:Y,setIsrStatus:null==ac?void 0:ac.setIsrStatus,dir:c(33873).join(process.cwd(),K.relativeProjectDir),isDraftMode:_,isRevalidate:ak&&!f&&!av,botType:am,isOnDemandRevalidate:ah,isPossibleServerAction:aq,assetPrefix:ad.assetPrefix,nextConfigOutput:ad.output,crossOrigin:ad.crossOrigin,trailingSlash:ad.trailingSlash,previewProps:$.preview,deploymentId:ad.deploymentId,enableTainting:ad.experimental.taint,htmlLimitedBots:ad.htmlLimitedBots,devtoolSegmentExplorer:ad.experimental.devtoolSegmentExplorer,reactMaxHeadersLength:ad.reactMaxHeadersLength,multiZoneDraftMode:!1,incrementalCache:(0,h.getRequestMeta)(a,"incrementalCache"),cacheLifeProfiles:ad.experimental.cacheLife,basePath:ad.basePath,serverActions:ad.experimental.serverActions,...as?{nextExport:!0,supportsDynamicResponse:!1,isStaticGeneration:!0,isRevalidate:!0,isDebugDynamicAccesses:as}:{},experimental:{isRoutePPREnabled:ar,expireTime:ad.expireTime,staleTimes:ad.experimental.staleTimes,cacheComponents:!!ad.experimental.cacheComponents,clientSegmentCache:!!ad.experimental.clientSegmentCache,clientParamParsing:!!ad.experimental.clientParamParsing,dynamicOnHover:!!ad.experimental.dynamicOnHover,inlineCss:!!ad.experimental.inlineCss,authInterrupts:!!ad.experimental.authInterrupts,clientTraceMetadata:ad.experimental.clientTraceMetadata||[]},waitUntil:d.waitUntil,onClose:a=>{b.on("close",a)},onAfterTaskError:()=>{},onInstrumentationRequestError:(b,c,d)=>K.onRequestError(a,b,d,ac),err:(0,h.getRequestMeta)(a,"invokeError"),dev:K.isDev}},l=await k(e,i),{metadata:m}=l,{cacheControl:n,headers:o={},fetchTags:p}=m;if(p&&(o[y.NEXT_CACHE_TAGS_HEADER]=p),a.fetchMetrics=m.fetchMetrics,ak&&(null==n?void 0:n.revalidate)===0&&!K.isDev&&!ar){let a=m.staticBailoutInfo,b=Object.defineProperty(Error(`Page changed from static to dynamic at runtime ${aa}${(null==a?void 0:a.description)?`, reason: ${a.description}`:""}
see more here https://nextjs.org/docs/messages/app-static-to-dynamic-error`),"__NEXT_ERROR_CODE",{value:"E132",enumerable:!1,configurable:!0});if(null==a?void 0:a.stack){let c=a.stack;b.stack=b.message+c.substring(c.indexOf("\n"))}throw b}return{value:{kind:v.CachedRouteKind.APP_PAGE,html:l,headers:o,rscData:m.flightData,postponed:m.postponed,status:m.statusCode,segmentData:m.segmentData},cacheControl:n}},o=async({hasResolved:c,previousCacheEntry:f,isRevalidating:g,span:i})=>{let j,k=!1===K.isDev,l=c||b.writableEnded;if(ah&&ab&&!f&&!N)return(null==ac?void 0:ac.render404)?await ac.render404(a,b):(b.statusCode=404,b.end("This page could not be found")),null;if(ai&&(j=(0,w.parseFallbackField)(ai.fallback)),j===w.FallbackMode.PRERENDER&&(0,u.isBot)(al)&&(!ar||an)&&(j=w.FallbackMode.BLOCKING_STATIC_RENDER),(null==f?void 0:f.isStale)===-1&&(ah=!0),ah&&(j!==w.FallbackMode.NOT_FOUND||f)&&(j=w.FallbackMode.BLOCKING_STATIC_RENDER),!N&&j!==w.FallbackMode.BLOCKING_STATIC_RENDER&&aB&&!l&&!_&&T&&(k||!aj)){let b;if((k||ai)&&j===w.FallbackMode.NOT_FOUND)throw new B.NoFallbackError;if(ar&&!ap){let c="string"==typeof(null==ai?void 0:ai.fallback)?ai.fallback:k?ag:null;if(b=await K.handleResponse({cacheKey:c,req:a,nextConfig:ad,routeKind:e.RouteKind.APP_PAGE,isFallback:!0,prerenderManifest:$,isRoutePPREnabled:ar,responseGenerator:async()=>m({span:i,postponed:void 0,fallbackRouteParams:k||at?(0,n.u)(ag):null}),waitUntil:d.waitUntil}),null===b)return null;if(b)return delete b.cacheControl,b}}let o=ah||g||!au?void 0:au;if(as&&void 0!==o)return{cacheControl:{revalidate:1,expire:void 0},value:{kind:v.CachedRouteKind.PAGES,html:x.default.EMPTY,pageData:{},headers:void 0,status:void 0}};let p=T&&ar&&((0,h.getRequestMeta)(a,"renderFallbackShell")||at)?(0,n.u)(af):null;return m({span:i,postponed:o,fallbackRouteParams:p})},p=async c=>{var f,g,i,j,k;let l,n=await K.handleResponse({cacheKey:aA,responseGenerator:a=>o({span:c,...a}),routeKind:e.RouteKind.APP_PAGE,isOnDemandRevalidate:ah,isRoutePPREnabled:ar,req:a,nextConfig:ad,prerenderManifest:$,waitUntil:d.waitUntil});if(_&&b.setHeader("Cache-Control","private, no-cache, no-store, max-age=0, must-revalidate"),K.isDev&&b.setHeader("Cache-Control","no-store, must-revalidate"),!n){if(aA)throw Object.defineProperty(Error("invariant: cache entry required but not generated"),"__NEXT_ERROR_CODE",{value:"E62",enumerable:!1,configurable:!0});return null}if((null==(f=n.value)?void 0:f.kind)!==v.CachedRouteKind.APP_PAGE)throw Object.defineProperty(Error(`Invariant app-page handler received invalid cache entry ${null==(i=n.value)?void 0:i.kind}`),"__NEXT_ERROR_CODE",{value:"E707",enumerable:!1,configurable:!0});let p="string"==typeof n.value.postponed;ak&&!av&&(!p||ao)&&(N||b.setHeader("x-nextjs-cache",ah?"REVALIDATED":n.isMiss?"MISS":n.isStale?"STALE":"HIT"),b.setHeader(t.NEXT_IS_PRERENDER_HEADER,"1"));let{value:q}=n;if(au)l={revalidate:0,expire:void 0};else if(N&&ap&&!ao&&ar)l={revalidate:0,expire:void 0};else if(!K.isDev)if(_)l={revalidate:0,expire:void 0};else if(ak){if(n.cacheControl)if("number"==typeof n.cacheControl.revalidate){if(n.cacheControl.revalidate<1)throw Object.defineProperty(Error(`Invalid revalidate configuration provided: ${n.cacheControl.revalidate} < 1`),"__NEXT_ERROR_CODE",{value:"E22",enumerable:!1,configurable:!0});l={revalidate:n.cacheControl.revalidate,expire:(null==(j=n.cacheControl)?void 0:j.expire)??ad.expireTime}}else l={revalidate:y.CACHE_ONE_YEAR,expire:void 0}}else b.getHeader("Cache-Control")||(l={revalidate:0,expire:void 0});if(n.cacheControl=l,"string"==typeof aw&&(null==q?void 0:q.kind)===v.CachedRouteKind.APP_PAGE&&q.segmentData){b.setHeader(t.NEXT_DID_POSTPONE_HEADER,"2");let c=null==(k=q.headers)?void 0:k[y.NEXT_CACHE_TAGS_HEADER];N&&ak&&c&&"string"==typeof c&&b.setHeader(y.NEXT_CACHE_TAGS_HEADER,c);let d=q.segmentData.get(aw);return void 0!==d?(0,A.sendRenderResult)({req:a,res:b,generateEtags:ad.generateEtags,poweredByHeader:ad.poweredByHeader,result:x.default.fromStatic(d,t.RSC_CONTENT_TYPE_HEADER),cacheControl:n.cacheControl}):(b.statusCode=204,(0,A.sendRenderResult)({req:a,res:b,generateEtags:ad.generateEtags,poweredByHeader:ad.poweredByHeader,result:x.default.EMPTY,cacheControl:n.cacheControl}))}let r=(0,h.getRequestMeta)(a,"onCacheEntry");if(r&&await r({...n,value:{...n.value,kind:"PAGE"}},{url:(0,h.getRequestMeta)(a,"initURL")}))return null;if(p&&au)throw Object.defineProperty(Error("Invariant: postponed state should not be present on a resume request"),"__NEXT_ERROR_CODE",{value:"E396",enumerable:!1,configurable:!0});if(q.headers){let a={...q.headers};for(let[c,d]of(N&&ak||delete a[y.NEXT_CACHE_TAGS_HEADER],Object.entries(a)))if(void 0!==d)if(Array.isArray(d))for(let a of d)b.appendHeader(c,a);else"number"==typeof d&&(d=d.toString()),b.appendHeader(c,d)}let s=null==(g=q.headers)?void 0:g[y.NEXT_CACHE_TAGS_HEADER];if(N&&ak&&s&&"string"==typeof s&&b.setHeader(y.NEXT_CACHE_TAGS_HEADER,s),!q.status||ap&&ar||(b.statusCode=q.status),!N&&q.status&&F.RedirectStatusCode[q.status]&&ap&&(b.statusCode=200),p&&b.setHeader(t.NEXT_DID_POSTPONE_HEADER,"1"),ap&&!_){if(void 0===q.rscData){if(q.postponed)throw Object.defineProperty(Error("Invariant: Expected postponed to be undefined"),"__NEXT_ERROR_CODE",{value:"E372",enumerable:!1,configurable:!0});return(0,A.sendRenderResult)({req:a,res:b,generateEtags:ad.generateEtags,poweredByHeader:ad.poweredByHeader,result:q.html,cacheControl:av?{revalidate:0,expire:void 0}:n.cacheControl})}return(0,A.sendRenderResult)({req:a,res:b,generateEtags:ad.generateEtags,poweredByHeader:ad.poweredByHeader,result:x.default.fromStatic(q.rscData,t.RSC_CONTENT_TYPE_HEADER),cacheControl:n.cacheControl})}let u=q.html;if(!p||N||ap)return(0,A.sendRenderResult)({req:a,res:b,generateEtags:ad.generateEtags,poweredByHeader:ad.poweredByHeader,result:u,cacheControl:n.cacheControl});if(as)return u.push(new ReadableStream({start(a){a.enqueue(z.ENCODED_TAGS.CLOSED.BODY_AND_HTML),a.close()}})),(0,A.sendRenderResult)({req:a,res:b,generateEtags:ad.generateEtags,poweredByHeader:ad.poweredByHeader,result:u,cacheControl:{revalidate:0,expire:void 0}});let w=new TransformStream;return u.push(w.readable),m({span:c,postponed:q.postponed,fallbackRouteParams:null}).then(async a=>{var b,c;if(!a)throw Object.defineProperty(Error("Invariant: expected a result to be returned"),"__NEXT_ERROR_CODE",{value:"E463",enumerable:!1,configurable:!0});if((null==(b=a.value)?void 0:b.kind)!==v.CachedRouteKind.APP_PAGE)throw Object.defineProperty(Error(`Invariant: expected a page response, got ${null==(c=a.value)?void 0:c.kind}`),"__NEXT_ERROR_CODE",{value:"E305",enumerable:!1,configurable:!0});await a.value.html.pipeTo(w.writable)}).catch(a=>{w.writable.abort(a).catch(a=>{console.error("couldn't abort transformer",a)})}),(0,A.sendRenderResult)({req:a,res:b,generateEtags:ad.generateEtags,poweredByHeader:ad.poweredByHeader,result:u,cacheControl:{revalidate:0,expire:void 0}})};if(!aF)return await aE.withPropagatedContext(a.headers,()=>aE.trace(i.BaseServerSpan.handleRequest,{spanName:`${aD} ${a.url}`,kind:g.SpanKind.SERVER,attributes:{"http.method":aD,"http.target":a.url}},p));await p(aF)}catch(b){throw b instanceof B.NoFallbackError||await K.onRequestError(a,b,{routerKind:"App Router",routePath:G,routeType:"render",revalidateReason:(0,f.c)({isRevalidate:ak,isOnDemandRevalidate:ah})},ac),b}}},26713:a=>{"use strict";a.exports=require("next/dist/shared/lib/router/utils/is-bot")},27910:a=>{"use strict";a.exports=require("stream")},28354:a=>{"use strict";a.exports=require("util")},29021:a=>{"use strict";a.exports=require("fs")},29294:a=>{"use strict";a.exports=require("next/dist/server/app-render/work-async-storage.external.js")},33873:a=>{"use strict";a.exports=require("path")},34631:a=>{"use strict";a.exports=require("tls")},41025:a=>{"use strict";a.exports=require("next/dist/server/app-render/dynamic-access-async-storage.external.js")},43520:(a,b,c)=>{"use strict";c.d(b,{l:()=>m});var d=c(21124),e=c(38301),f=c(80350),g=c(89724),h=c(6822),i=c(49840),j=c(95745),k=c(66951),l=c(41640);let m=({patient:a,disabled:b})=>{let[c,g]=(0,e.useState)(!1),[h,i]=(0,e.useState)(!1),[m,s]=(0,e.useState)(!1),{mutate:t,isPending:u,isSuccess:v,data:w}=(0,k.Wv)(),[x,y]=(0,e.useState)({firstName:"",lastName:"",birthDate:"",gender:"",birthDateEstimated:""}),[z,A]=(0,e.useState)({nationality:"",district:"",village:"",traditionalAuthority:""}),[B,C]=(0,e.useState)({district:"",traditionalAuthority:"",village:"",closeLandMark:""});(0,e.useEffect)(()=>{D(a),F(a),E(a)},[a]),(0,e.useEffect)(()=>{v&&w&&(D(w),E(w),F(w))},[w,v]);let D=a=>{a&&y({firstName:a?.given_name,lastName:a?.family_name,birthDate:a?.birthdate,gender:a?.gender,birthDateEstimated:!!a?.birthdateEstimated})},E=a=>{a&&A({nationality:a?.addresses[0]?.country??"",district:a?.addresses[0]?.address1??"",village:a?.addresses[0]?.address2??"",traditionalAuthority:a?.addresses[0]?.county_district??""})},F=a=>{a&&C({district:a?.addresses[0]?.current_district??"",traditionalAuthority:a?.addresses[0]?.current_traditional_authority??"",village:a?.addresses[1]?.address1??"",closeLandMark:a?.addresses[1]?.address2??""})};return(0,d.jsx)(f.jD,{sx:{display:"flex",mt:"1ch"},children:(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(l.OverlayLoader,{open:u}),(0,d.jsx)(p,{onSubmit:b=>{let c={identifiers:[{identifier:b.identificationNumber,identifierType:j.W.NATIONAL_ID_IDENTIFIER_TYPE,preferred:!0}],names:[{givenName:b.firstName,familyName:b.lastName}],gender:b.gender,birthdateEstimated:b.birthdateEstimated,birthdate:b.birthDate};t({id:a.uuid,data:c}),g(!1)},initialValues:{...x},onClose:()=>g(!1),open:c}),(0,d.jsxs)(n,{children:[(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(f.Th,{variant:"h5",children:"Demographics"}),(0,d.jsx)(o,{label:"First Name",value:x.firstName}),(0,d.jsx)(o,{label:"Last Name",value:x.lastName}),(0,d.jsx)(o,{label:"Gender",value:x.gender}),(0,d.jsx)(o,{label:"Date of birth",value:x.birthDate})]}),(0,d.jsx)(f.O6,{disabled:b,variant:"secondary",sx:{width:"10%"},title:"Edit",onClick:()=>g(!0)})]}),(0,d.jsxs)(n,{children:[(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(f.Th,{variant:"h5",children:"Home Location"}),(0,d.jsx)(o,{label:"Country",value:z.nationality}),(0,d.jsx)(o,{label:"Home District",value:z.district}),(0,d.jsx)(o,{label:"Home Traditional Authority",value:z.traditionalAuthority}),(0,d.jsx)(o,{label:"Home Village",value:z.village})]}),(0,d.jsx)(q,{onSubmit:b=>{let c=[{address1:b.district,address2:b.village,address3:B.district,stateProvince:B.traditionalAuthority,countyDistrict:b.traditionalAuthority,cityVillage:b.traditionalAuthority,country:b.nationality,preferred:!0},{address1:B.village,address2:B.closeLandMark,countryDistrict:B.district,cityVillage:B.traditionalAuthority,preferred:!1}];t({id:a.uuid,data:{addresses:c}}),i(!1)},initialValues:z,open:h,onClose:()=>i(!1)}),(0,d.jsx)(f.O6,{disabled:b,variant:"secondary",sx:{width:"10%"},title:"Edit",onClick:()=>i(!0)})]}),(0,d.jsxs)(n,{children:[(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(f.Th,{variant:"h5",children:"Current Location"}),(0,d.jsx)(o,{label:"Current District",value:B.district}),(0,d.jsx)(o,{label:"Current Traditional Authority",value:B.traditionalAuthority}),(0,d.jsx)(o,{label:"Current Village",value:B.village}),(0,d.jsx)(o,{label:"Close Land Mark",value:B.closeLandMark})]}),(0,d.jsx)(r,{onSubmit:b=>{let c=[{address1:z.district,address2:z.village,address3:b.district,stateProvince:b.traditionalAuthority,countyDistrict:z.traditionalAuthority,cityVillage:z.traditionalAuthority,country:z.nationality,preferred:!0},{address1:b.village,address2:a?.addresses[1]?.address2,countryDistrict:b.district,cityVillage:b.traditionalAuthority,preferred:!1}];t({id:a.uuid,data:{addresses:c}}),s(!1)},onClose:()=>s(!1),initialValues:B,open:m}),(0,d.jsx)(f.O6,{variant:"secondary",sx:{width:"10%"},title:"Edit",onClick:()=>s(!0)})]})]})})},n=({children:a})=>(0,d.jsx)(f.sc,{sx:{display:"flex",flexDirection:"column",justifyContent:"space-between",p:"1ch",flex:1,mx:"0.5ch"},children:a}),o=({label:a,value:b})=>(0,d.jsxs)(f.jD,{sx:{display:"flex",alignItems:"flex-start",py:"0.5ch",mb:"0.5ch",borderBottom:"#D8D8D8 solid 1px"},children:[(0,d.jsx)(f.Th,{width:"20ch",sx:{fontSize:"0.8rem"},children:a}),(0,d.jsx)(f.Th,{fontWeight:"900",sx:{fontSize:"0.8rem",textTransform:"capitalize"},children:b})]}),p=({open:a,onClose:b,initialValues:c,onSubmit:e})=>(0,d.jsx)(h.GenericDialog,{maxWidth:"sm",title:"Edit Demographics",open:a,onClose:b,children:(0,d.jsx)(g.H,{onSubmit:e,initialValues:c})}),q=({open:a,onClose:b,initialValues:c,onSubmit:e})=>(0,d.jsx)(h.GenericDialog,{maxWidth:"sm",title:"Edit Home Location",open:a,onClose:b,children:(0,d.jsx)(i.CB,{initialValues:c,onSubmit:e})}),r=({open:a,onClose:b,initialValues:c,onSubmit:e})=>(0,d.jsx)(h.GenericDialog,{maxWidth:"sm",title:"Edit Current Location",open:a,onClose:b,children:(0,d.jsx)(i.CB,{currentLocation:!0,initialValues:c,onSubmit:e})})},53862:(a,b,c)=>{"use strict";c.d(b,{g:()=>e});var d=c(38301);let e=()=>{let[a,b]=(0,d.useState)(!1),[c,e]=(0,d.useState)(0),[f,g]=(0,d.useState)(!0),[h,i]=(0,d.useState)(""),[j,k]=(0,d.useState)(!1);return{loading:a,setLoading:b,completed:c,setCompleted:e,showForm:f,setShowForm:g,message:h,setMessage:i,error:j,setError:k}}},55511:a=>{"use strict";a.exports=require("crypto")},55591:a=>{"use strict";a.exports=require("https")},62983:(a,b,c)=>{"use strict";c.r(b),c.d(b,{default:()=>F});var d=c(21124),e=c(74964),f=c(66951),g=c(80350),h=c(81299),i=c(57549),j=c(38301),k=c(95745),l=c(50852),m=c(82283),n=c(70553),o=c(21393);let p=()=>(0,o.I)({queryKey:["visitNumber"],queryFn:()=>(0,n.Jt)("generate_visit_number").then(a=>a.data),enabled:!1});var q=c(99535),r=c(81498),s=c(53862),t=c(55204),u=c(63436),v=c(22566),w=c(41640),x=c(67851),y=c.n(x);let z=({onScan:a})=>((0,j.useEffect)(()=>{y().init({inputStream:{name:"Live",type:"LiveStream",constraints:{facingMode:"environment"},target:document.querySelector("#barcode-scanner")??""},decoder:{readers:["code_128_reader"]}},b=>b?void console.log(b):(y().start(),y().onDetected(b=>{a(b.codeResult.code)}),()=>{y().stop()}))},[]),(0,d.jsx)(g.jD,{sx:{width:"100%"},id:"barcode-scanner"})),A=({open:a,onClose:b,onBarcodeScan:c,isLoading:e})=>{let[f,h]=(0,j.useState)("");return(0,j.useEffect)(()=>{f&&c(f)},[f]),(0,d.jsxs)(g.eV,{maxWidth:"sm",title:"Scan Barcode",open:a,onClose:b,children:[(0,d.jsx)(z,{onScan:h}),(0,d.jsx)(w.OverlayLoader,{open:!!e})]})};var B=c(68096),C=c(43520),D=c(90675);let E=({open:a,onClose:b,isLoading:c,patientResults:e})=>{let{navigateTo:f}=(0,m.cq)(),[h,n]=(0,j.useState)(),o=[...e.locals,...e.remotes].map(a=>({id:a?.patient_id,...a})),{loading:u,setLoading:v,completed:x,setCompleted:y,message:z,setMessage:A,showForm:B,setShowForm:E,error:F,setError:G}=(0,s.g)(),{mutate:H,isPending:I,isSuccess:J,data:K,isError:L}=(0,i.b2)(),{mutate:M,isPending:N,isSuccess:O,isError:P}=(0,l.Fs)(),{data:Q,isSuccess:R,isPending:S,refetch:T,isFetching:U,isError:V}=p();(0,j.useEffect)(()=>{J&&(y(1),A("generating visit number..."),T())},[I]),(0,j.useEffect)(()=>{if(!K||!R)return;y(2),A("creating an encounter...");let{ServerTime:a}=(0,D.useServerTime)(),b=a.getServerTimeString();M({encounterType:k.fA.INITIAL_REGISTRATION,visit:K?.uuid,patient:h?.uuid,encounterDatetime:b,obs:[{concept:k.W.VISIT_NUMBER,value:Q?.next_visit_number,obsDatetime:b}],includeAll:!0})},[U]),(0,j.useEffect)(()=>{O&&(y(3),v(!1),A("done"))},[O]),(0,j.useEffect)(()=>{G(L||V||P)},[L,V,P]);let W=[{field:"given_name",headerName:"First Name"},{field:"family_name",headerName:"Last Name"},{field:"gender",headerName:"Gender"},{field:"birthdate",headerName:"Birthdate",flex:1},{field:"currentDistrict",headerName:"Current District",flex:1,renderCell:a=>a.row.addresses[0].current_district},{field:"currentTraditionalAuthority",headerName:"Current TA",flex:1,renderCell:a=>a.row.addresses[0].current_traditional_authority},{field:"currentVillage",headerName:"Current Location",flex:1,renderCell:a=>a.row.addresses[0].current_village},{field:"action",flex:1,headerName:"Action",renderCell:a=>(0,d.jsx)(d.Fragment,{children:(0,d.jsx)(g.O6,{sx:{fontSize:"12px"},title:"view",onClick:()=>n(a.row)})})}];return(0,d.jsxs)(g.eV,{maxWidth:"lg",title:"Patient Search Results",open:a,onClose:b,children:[B&&(0,d.jsxs)(d.Fragment,{children:[!h&&(0,d.jsx)(g.WE,{columns:W,rows:o}),h&&(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(C.l,{disabled:!1,patient:h}),(0,d.jsx)("br",{}),(0,d.jsx)(g.O6,{title:"Continue",sx:{mr:"0.5ch"},onClick:()=>{v(!0),E(!1),A("creating visit"),H({patient:h?.uuid,visitType:k.FD,startDatetime:new Date().toISOString()})}}),(0,d.jsx)(g.O6,{variant:"secondary",title:"Cancel",onClick:()=>n(void 0)})]})]}),F&&(0,d.jsx)(t.j,{error:z,onPrimaryAction:()=>{G(!1),y(0),v(!1),E(!0)},onSecondaryAction:()=>{y(0),E(!0),v(!1),G(!1)}}),u&&!F&&(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("br",{}),(0,d.jsx)("br",{}),(0,d.jsx)(q.n,{message:z,progress:x/3*100})]}),3==x&&(0,d.jsx)(r.n,{title:`Patient Created With Visit Number ${Q?.next_visit_number}`,primaryActionText:"Register More Patient",secondaryActionText:"Go Home",onPrimaryAction:()=>{E(!0),y(0),b()},onSecondaryAction:()=>{f("/dashboard")}}),(0,d.jsx)(w.OverlayLoader,{open:!!c})]})},F=(0,v.A)(function(){let{init:a,ServerTime:b}=(0,D.useServerTime)(),[c,k]=(0,j.useState)(!1),[n,o]=(0,j.useState)(""),{refresh:v,navigateTo:w}=(0,m.cq)(),[x,y]=(0,j.useState)({firstName:"",lastName:""}),{loading:z,setLoading:C,completed:F,setCompleted:G,message:H,setMessage:I,showForm:J,setShowForm:K,error:L,setError:M}=(0,s.g)(),{mutate:N,isPending:O,data:P,isSuccess:Q,isError:R}=(0,f.b9)(),{mutate:S,isPending:T,isSuccess:U,data:V,isError:W}=(0,i.b2)(),{mutate:X,isPending:Y,isSuccess:Z,isError:$}=(0,l.jM)(),{data:_,isSuccess:aa,isPending:ab,refetch:ac,isFetching:ad,isError:ae}=p(),{refetch:af,isRefetching:ag,data:ah,isSuccess:ai}=(0,f.RF)(n),[aj,ak]=(0,j.useState)(!1),al="https:"===window.location.protocol||"localhost"===window.location.hostname,am=async(a,b)=>{I("creating patient"),K(!1),C(!0),await N({identifiers:[{identifier:"103VWY7",identifierType:"ba2f7018-8d80-11d8-abbb-0024217bb78e",preferred:!0}],person:{gender:"N/A",birthdate:"1970-01-01T00:00:00.000+01000",names:[{givenName:a.firstName,familyName:a.lastName}],addresses:[]}})};return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(u.V,{title:"Patient Arrival",link:"/dashboard"}),(0,d.jsxs)(g.Yr,{container:!0,children:[(0,d.jsx)(g.Yr,{xs:2,md:3,lg:4,item:!0}),(0,d.jsxs)(g.Yr,{md:6,lg:4,sx:{display:"flex",flexDirection:"column"},item:!0,children:[(0,d.jsx)("br",{}),(0,d.jsx)("br",{}),(0,d.jsx)(h.sL,{children:"Patient Arrival"}),(0,d.jsx)(h.VQ,{children:"The demographics form has been thoughtfully crafted to collect patient information, including personal details, contact information"}),4==F&&(0,d.jsx)(r.n,{title:`Patient Created With Visit Number ${_?.next_visit_number}`,primaryActionText:"Register More Patient",secondaryActionText:"Go Home",onPrimaryAction:()=>{K(!0),G(0),v()},onSecondaryAction:()=>{w("/dashboard")}}),J&&(0,d.jsx)(d.Fragment,{children:(0,d.jsxs)(h.kC,{children:[(0,d.jsx)("br",{}),(0,d.jsx)(E,{open:aj,onClose:()=>ak(!1),patientResults:ah||{locals:[],remotes:[]}}),(0,d.jsx)(A,{isLoading:ag,onBarcodeScan:a=>o(a),open:c,onClose:()=>k(!1)}),(0,d.jsx)(g.jD,{onClick:()=>al&&k(!0),sx:{display:"flex",py:"1ch",alignItems:"center",justifyContent:"center",cursor:"pointer",backgroundColor:"#F5F5F5"},children:al?(0,d.jsxs)(d.Fragment,{children:[" ",(0,d.jsx)(B.SCC,{}),(0,d.jsx)(g.Th,{variant:"body1",sx:{ml:"1ch"},children:"Scan Barcode"})]}):(0,d.jsx)(g.Th,{variant:"subtitle2",children:"Barcode scanning not available."})}),(0,d.jsx)("br",{}),(0,d.jsx)(e.S,{initialValues:x,onSubmit:am})]})}),L&&(0,d.jsx)(t.j,{error:H,onPrimaryAction:()=>{M(!1),G(0),C(!1),K(!0)},onSecondaryAction:()=>{G(0),K(!0),C(!1),M(!1)}}),z&&!L&&(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("br",{}),(0,d.jsx)("br",{}),(0,d.jsx)(q.n,{message:H,progress:F/4*100})]})]}),(0,d.jsx)(g.Yr,{xs:2,md:3,lg:4,item:!0})]})]})},[k.Ot.ADMIN,k.Ot.INITIAL_REGISTRATION_CLERK,k.Ot.CLINICIAN])},63033:a=>{"use strict";a.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},63436:(a,b,c)=>{"use strict";c.d(b,{V:()=>h});var d=c(21124),e=c(82283),f=c(80350),g=c(68096);let h=({title:a,link:b})=>{let{navigateTo:c}=(0,e.cq)(),h={fontFamily:"Inter",fontSize:"14px",fontWeight:400,lineHeight:"21px",letterSpacing:"0em",textAlign:"center",mx:"1ch"};return(0,d.jsxs)(f.jD,{sx:{display:"flex",justifyContent:"space-evenly",py:"1ch",borderBottom:"solid 1px #E6E6E6"},children:[(0,d.jsxs)(f.jD,{onClick:()=>c(b),sx:{display:"flex",cursor:"pointer"},children:[(0,d.jsx)(f.Th,{children:(0,d.jsx)(g.oWm,{})}),(0,d.jsx)(f.Th,{sx:h,children:"Go back"})]}),(0,d.jsx)(f.Th,{sx:h,children:a}),(0,d.jsxs)(f.jD,{sx:{display:"flex",alignItems:"center"},children:[(0,d.jsx)(g.M4e,{}),(0,d.jsx)(f.Th,{sx:h,children:"Need any help?"})]})]})}},64811:(a,b,c)=>{"use strict";c.r(b),c.d(b,{default:()=>d});let d=(0,c(97954).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/home/runner/work/hwis/hwis/aetc/app/initial-registration/page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/home/runner/work/hwis/hwis/aetc/app/initial-registration/page.tsx","default")},67851:(a,b,c)=>{!function(a,b){for(var c in b)a[c]=b[c]}(b,function(a){var b={};function c(d){if(b[d])return b[d].exports;var e=b[d]={i:d,l:!1,exports:{}};return a[d].call(e.exports,e,e.exports,c),e.l=!0,e.exports}return c.m=a,c.c=b,c.d=function(a,b,d){c.o(a,b)||Object.defineProperty(a,b,{enumerable:!0,get:d})},c.r=function(a){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(a,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(a,"__esModule",{value:!0})},c.t=function(a,b){if(1&b&&(a=c(a)),8&b||4&b&&"object"==typeof a&&a&&a.__esModule)return a;var d=Object.create(null);if(c.r(d),Object.defineProperty(d,"default",{enumerable:!0,value:a}),2&b&&"string"!=typeof a)for(var e in a)c.d(d,e,(function(b){return a[b]}).bind(null,e));return d},c.n=function(a){var b=a&&a.__esModule?function(){return a.default}:function(){return a};return c.d(b,"a",b),b},c.o=function(a,b){return Object.prototype.hasOwnProperty.call(a,b)},c.p="/",c(c.s=69)}([function(a,b,c){var d=c(62);a.exports=function(a,b,c){return(b=d(b))in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a},a.exports.__esModule=!0,a.exports.default=a.exports},function(a,b){a.exports=function(a){if(void 0===a)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return a},a.exports.__esModule=!0,a.exports.default=a.exports},function(a,b){function c(b){return a.exports=c=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(a){return a.__proto__||Object.getPrototypeOf(a)},a.exports.__esModule=!0,a.exports.default=a.exports,c(b)}a.exports=c,a.exports.__esModule=!0,a.exports.default=a.exports},function(a,b){a.exports=function(a,b){if(!(a instanceof b))throw TypeError("Cannot call a class as a function")},a.exports.__esModule=!0,a.exports.default=a.exports},function(a,b,c){var d=c(62);function e(a,b){for(var c=0;c<b.length;c++){var e=b[c];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(a,d(e.key),e)}}a.exports=function(a,b,c){return b&&e(a.prototype,b),c&&e(a,c),Object.defineProperty(a,"prototype",{writable:!1}),a},a.exports.__esModule=!0,a.exports.default=a.exports},function(a,b){a.exports=c(92510)},function(a,b,c){var d=c(13).default,e=c(1);a.exports=function(a,b){if(b&&("object"===d(b)||"function"==typeof b))return b;if(void 0!==b)throw TypeError("Derived constructors may only return object or undefined");return e(a)},a.exports.__esModule=!0,a.exports.default=a.exports},function(a,b,c){var d=c(41);a.exports=function(a,b){if("function"!=typeof b&&null!==b)throw TypeError("Super expression must either be null or a function");a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,writable:!0,configurable:!0}}),Object.defineProperty(a,"prototype",{writable:!1}),b&&d(a,b)},a.exports.__esModule=!0,a.exports.default=a.exports},function(a,b,c){var d=c(137)();a.exports=d;try{regeneratorRuntime=d}catch(a){"object"==typeof globalThis?globalThis.regeneratorRuntime=d:Function("r","regeneratorRuntime = r")(d)}},function(a,b,c){"use strict";b.a={init:function(a,b){a.fill(b)},shuffle:function(a){for(var b=a.length-1;b>0;b--){var c=Math.floor(Math.random()*(b+1)),d=[a[c],a[b]];a[b]=d[0],a[c]=d[1]}return a},toPointList:function(a){var b=a.reduce(function(a,b){var c="[".concat(b.join(","),"]");return a.push(c),a},[]);return"[".concat(b.join(",\r\n"),"]")},threshold:function(a,b,c){return a.reduce(function(d,e){return c.apply(a,[e])>=b&&d.push(e),d},[])},maxIndex:function(a){for(var b=0,c=0;c<a.length;c++)a[c]>a[b]&&(b=c);return b},max:function(a){for(var b=0,c=0;c<a.length;c++)a[c]>b&&(b=a[c]);return b},sum:function(a){for(var b=a.length,c=0;b--;)c+=a[b];return c}}},function(a,b,c){"use strict";var d=c(33),e=c.n(d),f=c(3),g=c.n(f),h=c(4),i=c.n(h),j=c(0),k=c.n(j),l=c(5),m=c(9),n=c(12);function o(a){if(a<0)throw Error("expected positive number, received ".concat(a))}l.glMatrix.setMatrixArrayType(Array),b.a=function(){function a(b,c){var d=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Uint8Array,e=arguments.length>3?arguments[3]:void 0;g()(this,a),k()(this,"data",void 0),k()(this,"size",void 0),k()(this,"indexMapping",void 0),c?this.data=c:(this.data=new d(b.x*b.y),e&&m.a.init(this.data,0)),this.size=b}return i()(a,[{key:"inImageWithBorder",value:function(a){var b=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return o(b),a.x>=0&&a.y>=0&&a.x<this.size.x+2*b&&a.y<this.size.y+2*b}},{key:"subImageAsCopy",value:function(a,b){o(b.x),o(b.y);for(var c=a.size,d=c.x,e=c.y,f=0;f<d;f++)for(var g=0;g<e;g++)a.data[g*d+f]=this.data[(b.y+g)*this.size.x+b.x+f];return a}},{key:"get",value:function(a,b){return this.data[b*this.size.x+a]}},{key:"getSafe",value:function(a,b){if(!this.indexMapping){this.indexMapping={x:[],y:[]};for(var c=0;c<this.size.x;c++)this.indexMapping.x[c]=c,this.indexMapping.x[c+this.size.x]=c;for(var d=0;d<this.size.y;d++)this.indexMapping.y[d]=d,this.indexMapping.y[d+this.size.y]=d}return this.data[this.indexMapping.y[b+this.size.y]*this.size.x+this.indexMapping.x[a+this.size.x]]}},{key:"set",value:function(a,b,c){return this.data[b*this.size.x+a]=c,delete this.indexMapping,this}},{key:"zeroBorder",value:function(){for(var a=this.size,b=a.x,c=a.y,d=0;d<b;d++)this.data[d]=this.data[(c-1)*b+d]=0;for(var e=1;e<c-1;e++)this.data[e*b]=this.data[e*b+(b-1)]=0;return delete this.indexMapping,this}},{key:"moments",value:function(a){var b,c,d,e,f,g,h,i,j,k,m=this.data,n=this.size.y,o=this.size.x,p=[],q=[],r=Math.PI,s=r/4;if(a<=0)return q;for(f=0;f<a;f++)p[f]={m00:0,m01:0,m10:0,m11:0,m02:0,m20:0,theta:0,rad:0};for(c=0;c<n;c++)for(b=0,e=c*c;b<o;b++)(d=m[c*o+b])>0&&(g=p[d-1],g.m00+=1,g.m01+=c,g.m10+=b,g.m11+=b*c,g.m02+=e,g.m20+=b*b);for(f=0;f<a;f++)isNaN((g=p[f]).m00)||0===g.m00||(i=g.m10/g.m00,j=g.m01/g.m00,h=g.m11/g.m00-i*j,k=.5*Math.atan(k=(g.m02/g.m00-j*j-(g.m20/g.m00-i*i))/(2*h))+(h>=0?s:-s)+r,g.theta=(180*k/r+90)%180-90,g.theta<0&&(g.theta+=180),g.rad=k>r?k-r:k,g.vec=l.vec2.clone([Math.cos(k),Math.sin(k)]),q.push(g));return q}},{key:"getAsRGBA",value:function(){for(var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,b=new Uint8ClampedArray(4*this.size.x*this.size.y),c=0;c<this.size.y;c++)for(var d=0;d<this.size.x;d++){var e=c*this.size.x+d,f=this.get(d,c)*a;b[4*e+0]=f,b[4*e+1]=f,b[4*e+2]=f,b[4*e+3]=255}return b}},{key:"show",value:function(a){var b=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;console.warn("* imagewrapper show getcontext 2d");var c=a.getContext("2d");if(!c)throw Error("Unable to get canvas context");var d=c.getImageData(0,0,a.width,a.height),e=this.getAsRGBA(b);a.width=this.size.x,a.height=this.size.y;var f=new ImageData(e,d.width,d.height);c.putImageData(f,0,0)}},{key:"overlay",value:function(a,b,c){var d=b<0||b>360?360:b,f=[0,1,1],g=[0,0,0],h=[255,255,255],i=[0,0,0],j=[];console.warn("* imagewrapper overlay getcontext 2d");var k=a.getContext("2d");if(!k)throw Error("Unable to get canvas context");for(var l=k.getImageData(c.x,c.y,this.size.x,this.size.y),m=l.data,o=this.data.length;o--;){f[0]=this.data[o]*d,j=f[0]<=0?h:f[0]>=360?i:Object(n.hsv2rgb)(f,g);var p=4*o,q=j,r=e()(q,3);m[p]=r[0],m[p+1]=r[1],m[p+2]=r[2],m[p+3]=255}k.putImageData(l,c.x,c.y)}}]),a}()},function(a,b){function c(a,b,c,d,e,f,g){try{var h=a[f](g),i=h.value}catch(a){c(a);return}h.done?b(i):Promise.resolve(i).then(d,e)}a.exports=function(a){return function(){var b=this,d=arguments;return new Promise(function(e,f){var g=a.apply(b,d);function h(a){c(g,e,f,h,i,"next",a)}function i(a){c(g,e,f,h,i,"throw",a)}h(void 0)})}},a.exports.__esModule=!0,a.exports.default=a.exports},function(a,b,c){"use strict";c.r(b),c.d(b,"imageRef",function(){return g}),c.d(b,"computeIntegralImage2",function(){return h}),c.d(b,"computeIntegralImage",function(){return i}),c.d(b,"thresholdImage",function(){return j}),c.d(b,"computeHistogram",function(){return k}),c.d(b,"sharpenLine",function(){return l}),c.d(b,"determineOtsuThreshold",function(){return m}),c.d(b,"otsuThreshold",function(){return n}),c.d(b,"computeBinaryImage",function(){return o}),c.d(b,"cluster",function(){return p}),c.d(b,"Tracer",function(){return q}),c.d(b,"DILATE",function(){return r}),c.d(b,"ERODE",function(){return s}),c.d(b,"dilate",function(){return t}),c.d(b,"erode",function(){return u}),c.d(b,"subtract",function(){return v}),c.d(b,"bitwiseOr",function(){return w}),c.d(b,"countNonZero",function(){return x}),c.d(b,"topGeneric",function(){return y}),c.d(b,"grayArrayFromImage",function(){return z}),c.d(b,"grayArrayFromContext",function(){return A}),c.d(b,"grayAndHalfSampleFromCanvasData",function(){return B}),c.d(b,"computeGray",function(){return C}),c.d(b,"loadImageArray",function(){return D}),c.d(b,"halfSample",function(){return E}),c.d(b,"hsv2rgb",function(){return F}),c.d(b,"_computeDivisors",function(){return G}),c.d(b,"calculatePatchSize",function(){return H}),c.d(b,"_parseCSSDimensionValues",function(){return I}),c.d(b,"_dimensionsConverters",function(){return J}),c.d(b,"computeImageArea",function(){return K});var d=c(5),e=c(9);d.glMatrix.setMatrixArrayType(Array);var f=function(a,b){var c=[],e={rad:0,vec:d.vec2.clone([0,0])},f={};function g(a){f[a.id]=a,c.push(a)}function h(){var a,b=0;for(a=0;a<c.length;a++)b+=c[a].rad;e.rad=b/c.length,e.vec=d.vec2.clone([Math.cos(e.rad),Math.sin(e.rad)])}return g(a),h(),{add:function(a){f[a.id]||(g(a),h())},fits:function(a){return Math.abs(d.vec2.dot(a.point.vec,e.vec))>b},getPoints:function(){return c},getCenter:function(){return e}}};function g(a,b){return{x:a,y:b,toVec2:function(){return d.vec2.clone([this.x,this.y])},toVec3:function(){return d.vec3.clone([this.x,this.y,1])},round:function(){return this.x=this.x>0?Math.floor(this.x+.5):Math.floor(this.x-.5),this.y=this.y>0?Math.floor(this.y+.5):Math.floor(this.y-.5),this}}}function h(a,b){var c,d,e=a.data,f=a.size.x,g=a.size.y,h=b.data,i=0,j=0,k=0,l=0,m=0;for(d=1,k=f,i=0;d<g;d++)i+=e[j],h[k]+=i,j+=f,k+=f;for(c=1,j=0,k=1,i=0;c<f;c++)i+=e[j],h[k]+=i,j++,k++;for(d=1;d<g;d++)for(c=1,j=d*f+1,k=(d-1)*f+1,l=d*f,m=(d-1)*f;c<f;c++)h[j]+=e[j]+h[k]+h[l]-h[m],j++,k++,l++,m++}function i(a,b){for(var c=a.data,d=a.size.x,e=a.size.y,f=b.data,g=0,h=0;h<d;h++)g+=c[h],f[h]=g;for(var i=1;i<e;i++){g=0;for(var j=0;j<d;j++)g+=c[i*d+j],f[i*d+j]=g+f[(i-1)*d+j]}}function j(a,b,c){c||(c=a);for(var d=a.data,e=d.length,f=c.data;e--;)f[e]=+(d[e]<b)}function k(a,b){b||(b=8);for(var c=a.data,d=c.length,e=8-b,f=new Int32Array(1<<b);d--;)f[c[d]>>e]++;return f}function l(a){var b,c,d=a.length,e=a[0],f=a[1];for(b=1;b<d-1;b++)c=a[b+1],a[b-1]=2*f-e-c&255,e=f,f=c;return a}function m(a){var b,c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:8,d=8-c;function f(a,c){for(var d=0,e=a;e<=c;e++)d+=b[e];return d}function g(a,c){for(var d=0,e=a;e<=c;e++)d+=e*b[e];return d}return function(){var d,h,i,j,l=[0],m=(1<<c)-1;b=k(a,c);for(var n=1;n<m;n++)0==(i=(d=f(0,n))*(h=f(n+1,m)))&&(i=1),j=g(0,n)*h-g(n+1,m)*d,l[n]=j*j/i;return e.a.maxIndex(l)}()<<d}function n(a,b){var c=m(a);return j(a,c,b),c}function o(a,b,c){i(a,b),c||(c=a);var d,e,f,g,h,j,k=a.data,l=c.data,m=a.size.x,n=a.size.y,o=b.data;for(d=0;d<=3;d++)for(e=0;e<m;e++)l[d*m+e]=0,l[(n-1-d)*m+e]=0;for(d=3;d<n-3;d++)for(e=0;e<=3;e++)l[d*m+e]=0,l[d*m+(m-1-e)]=0;for(d=4;d<n-3-1;d++)for(e=4;e<m-3;e++)f=o[(d-3-1)*m+(e-3-1)],g=o[(d-3-1)*m+(e+3)],h=o[(d+3)*m+(e-3-1)],j=(o[(d+3)*m+(e+3)]-h-g+f)/49,l[d*m+e]=k[d*m+e]>j+5?0:1}function p(a,b,c){var d,e,g,h,i,j,k=[];for(c||(c="rad"),g=0;g<a.length;g++){!function(a){var b=!1;for(h=0;h<k.length;h++)(i=k[h]).fits(a)&&(i.add(a),b=!0);return b}((d=a[g],e=g,j={rad:d[c],point:d,id:e}))&&k.push(f(j,b))}return k}d.glMatrix.setMatrixArrayType(Array);var q={trace:function(a,b){var c,d=[],e=[],f=0,g=0;function h(c,d){var e,f,g,h,i=Math.abs(b[1]/10),j=!1,k=a[c];for(g=d?{x:k.x+b[0],y:k.y+b[1]}:{x:k.x-b[0],y:k.y-b[1]},e=a[f=d?c+1:c-1];e&&!0!=(j=!!((h=e).x>g.x-1)&&!!(h.x<g.x+1)&&!!(h.y>g.y-i)&&!!(h.y<g.y+i))&&Math.abs(e.y-k.y)<b[1];)e=a[f=d?f+1:f-1];return j?f:null}for(c=0;c<10;c++){for(f=Math.floor(Math.random()*a.length),d=[],g=f,d.push(a[g]);null!==(g=h(g,!0));)d.push(a[g]);if(f>0)for(g=f;null!==(g=h(g,!1));)d.push(a[g]);d.length>e.length&&(e=d)}return e}},r=1,s=2;function t(a,b){var c,d,e,f,g,h,i,j=a.data,k=b.data,l=a.size.y,m=a.size.x;for(c=1;c<l-1;c++)for(d=1;d<m-1;d++)f=c-1,g=c+1,h=d-1,i=d+1,e=j[f*m+h]+j[f*m+i]+j[c*m+d]+j[g*m+h]+j[g*m+i],k[c*m+d]=+(e>0)}function u(a,b){var c,d,e,f,g,h,i,j=a.data,k=b.data,l=a.size.y,m=a.size.x;for(c=1;c<l-1;c++)for(d=1;d<m-1;d++)f=c-1,g=c+1,h=d-1,i=d+1,e=j[f*m+h]+j[f*m+i]+j[c*m+d]+j[g*m+h]+j[g*m+i],k[c*m+d]=+(5===e)}function v(a,b,c){c||(c=a);for(var d=a.data.length,e=a.data,f=b.data,g=c.data;d--;)g[d]=e[d]-f[d]}function w(a,b,c){c||(c=a);for(var d=a.data.length,e=a.data,f=b.data,g=c.data;d--;)g[d]=e[d]||f[d]}function x(a){for(var b=a.data.length,c=a.data,d=0;b--;)d+=c[b];return d}function y(a,b,c){var d,e,f,g,h=0,i=0,j=[];for(d=0;d<b;d++)j[d]={score:0,item:null};for(d=0;d<a.length;d++)if((e=c.apply(this,[a[d]]))>i)for(g=0,(f=j[h]).score=e,f.item=a[d],i=Number.MAX_VALUE;g<b;g++)j[g].score<i&&(i=j[g].score,h=g);return j}function z(a,b,c,d){c.drawImage(a,b,0,a.width,a.height),C(c.getImageData(b,0,a.width,a.height).data,d)}function A(a,b,c,d){C(a.getImageData(c.x,c.y,b.x,b.y).data,d)}function B(a,b,c){for(var d,e=0,f=b.x,g=Math.floor(a.length/4),h=b.x/2,i=0,j=b.x;f<g;){for(d=0;d<h;d++)c[i]=(.299*a[4*e+0]+.587*a[4*e+1]+.114*a[4*e+2]+(.299*a[(e+1)*4+0]+.587*a[(e+1)*4+1]+.114*a[(e+1)*4+2])+(.299*a[4*f+0]+.587*a[4*f+1]+.114*a[4*f+2])+(.299*a[(f+1)*4+0]+.587*a[(f+1)*4+1]+.114*a[(f+1)*4+2]))/4,i++,e+=2,f+=2;e+=j,f+=j}}function C(a,b,c){var d=a.length/4|0;if(c&&!0===c.singleChannel)for(var e=0;e<d;e++)b[e]=a[4*e+0];else for(var f=0;f<d;f++)b[f]=.299*a[4*f+0]+.587*a[4*f+1]+.114*a[4*f+2]}function D(a,b){var c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:document&&document.createElement("canvas"),d=new Image;d.callback=b,d.onload=function(){c.width=this.width,c.height=this.height,console.warn("* loadImageArray getContext 2d");var a=c.getContext("2d");a.drawImage(this,0,0);var b=new Uint8Array(this.width*this.height);a.drawImage(this,0,0),C(a.getImageData(0,0,this.width,this.height).data,b),this.callback(b,{x:this.width,y:this.height},this)},d.src=a}function E(a,b){for(var c=a.data,d=a.size.x,e=b.data,f=0,g=d,h=c.length,i=d/2,j=0;g<h;){for(var k=0;k<i;k++)e[j]=Math.floor((c[f]+c[f+1]+c[g]+c[g+1])/4),j++,f+=2,g+=2;f+=d,g+=d}}function F(a){var b=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[0,0,0],c=a[0],d=a[1],e=a[2],f=e*d,g=f*(1-Math.abs(c/60%2-1)),h=e-f,i=0,j=0,k=0;return c<60?(i=f,j=g):c<120?(i=g,j=f):c<180?(j=f,k=g):c<240?(j=g,k=f):c<300?(i=g,k=f):c<360&&(i=f,k=g),b[0]=(i+h)*255|0,b[1]=(j+h)*255|0,b[2]=(k+h)*255|0,b}function G(a){for(var b=[],c=[],d=1;d<Math.sqrt(a)+1;d++)a%d==0&&(c.push(d),d!==a/d&&b.unshift(Math.floor(a/d)));return c.concat(b)}function H(a,b){var c,d=G(b.x),e=G(b.y),f=Math.max(b.x,b.y),g=function(a,b){for(var c=0,d=0,e=[];c<a.length&&d<b.length;)a[c]===b[d]?(e.push(a[c]),c++,d++):a[c]>b[d]?d++:c++;return e}(d,e),h=[8,10,15,20,32,60,80],i={"x-small":5,small:4,medium:3,large:2,"x-large":1},j=i[a]||i.medium,k=h[j],l=Math.floor(f/k);function m(a){for(var b=0,c=a[Math.floor(a.length/2)];b<a.length-1&&a[b]<l;)b++;return(b>0&&(c=Math.abs(a[b]-l)>Math.abs(a[b-1]-l)?a[b-1]:a[b]),l/c<h[j+1]/h[j]&&l/c>h[j-1]/h[j])?{x:c,y:c}:null}return!(c=m(g))&&((c=m(G(f)))||(c=m(G(l*k)))),c}function I(a){return{value:parseFloat(a),unit:(a.indexOf("%")===a.length,"%")}}var J={top:function(a,b){return"%"===a.unit?Math.floor(b.height*(a.value/100)):null},right:function(a,b){return"%"===a.unit?Math.floor(b.width-b.width*(a.value/100)):null},bottom:function(a,b){return"%"===a.unit?Math.floor(b.height-b.height*(a.value/100)):null},left:function(a,b){return"%"===a.unit?Math.floor(b.width*(a.value/100)):null}};function K(a,b,c){var d={width:a,height:b},e=Object.keys(c).reduce(function(a,b){var e=I(c[b]),f=J[b](e,d);return a[b]=f,a},{});return{sx:e.left,sy:e.top,sw:e.right-e.left,sh:e.bottom-e.top}}},function(a,b){function c(b){return a.exports=c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},a.exports.__esModule=!0,a.exports.default=a.exports,c(b)}a.exports=c,a.exports.__esModule=!0,a.exports.default=a.exports},function(a,b,c){var d=c(138);function e(){return"undefined"!=typeof Reflect&&Reflect.get?a.exports=e=Reflect.get.bind():a.exports=e=function(a,b,c){var e=d(a,b);if(e){var f=Object.getOwnPropertyDescriptor(e,b);return f.get?f.get.call(arguments.length<3?a:c):f.value}},a.exports.__esModule=!0,a.exports.default=a.exports,e.apply(this,arguments)}a.exports=e,a.exports.__esModule=!0,a.exports.default=a.exports},function(a,b){a.exports=function(a){var b=typeof a;return null!=a&&("object"==b||"function"==b)}},function(a,b){a.exports=Array.isArray},function(a,b,c){"use strict";b.a={drawRect:function(a,b,c,d){c.strokeStyle=d.color,c.fillStyle=d.color,c.lineWidth=d.lineWidth||1,c.beginPath(),c.strokeRect(a.x,a.y,b.x,b.y)},drawPath:function(a,b,c,d){c.strokeStyle=d.color,c.fillStyle=d.color,c.lineWidth=d.lineWidth,c.beginPath(),c.moveTo(a[0][b.x],a[0][b.y]);for(var e=1;e<a.length;e++)c.lineTo(a[e][b.x],a[e][b.y]);c.closePath(),c.stroke()},drawImage:function(a,b,c){var d=c.getImageData(0,0,b.x,b.y),e=d.data,f=e.length,g=a.length;if(f/g!=4)return!1;for(;g--;){var h=a[g];e[--f]=255,e[--f]=h,e[--f]=h,e[--f]=h}return c.putImageData(d,0,0),!0}}},function(a,b,c){var d=c(70);a.exports=c(125)(function(a,b,c){d(a,b,c)})},function(a,b,c){var d=c(45),e="object"==typeof self&&self&&self.Object===Object&&self;a.exports=d||e||Function("return this")()},function(a,b){a.exports=function(a){return null!=a&&"object"==typeof a}},function(a,b,c){"use strict";b.a={searchDirections:[[0,1],[1,1],[1,0],[1,-1],[0,-1],[-1,-1],[-1,0],[-1,1]],create:function(a,b){var c,d=a.data,e=b.data,f=this.searchDirections,g=a.size.x;function h(a,b,h,i){var j,k,l;for(j=0;j<f.length;j++){if(d[c=(k=a.cy+f[a.dir][0])*g+(l=a.cx+f[a.dir][1])]===b&&(0===e[c]||e[c]===h))return e[c]=h,a.cy=k,a.cx=l,!0;0===e[c]&&(e[c]=i),a.dir=(a.dir+1)%8}return!1}function i(a,b,c){return{dir:c,x:a,y:b,next:null,prev:null}}return{trace:function(a,b,c,d){return h(a,b,c,d)},contourTracing:function(b,c,d,e,f){return function(b,c,d,e,f){var g,j,k,l=null,m={cx:c,cy:b,dir:0};if(h(m,e,d,f)){g=l=i(c,b,m.dir),k=m.dir,(j=i(m.cx,m.cy,0)).prev=g,g.next=j,j.next=null,g=j;var n=a.size.x*a.size.y,o=0;do m.dir=(m.dir+6)%8,h(m,e,d,f),k!==m.dir?(g.dir=m.dir,(j=i(m.cx,m.cy,0)).prev=g,g.next=j,j.next=null,g=j):(g.dir=k,g.x=m.cx,g.y=m.cy),k=m.dir;while((m.cx!==c||m.cy!==b)&&++o<n);l.prev=g.prev,g.prev.next=l}return l}(b,c,d,e,f)}}}}},function(a,b,c){var d=c(27),e=c(83),f=c(84),g=d?d.toStringTag:void 0;a.exports=function(a){return null==a?void 0===a?"[object Undefined]":"[object Null]":g&&g in Object(a)?e(a):f(a)}},function(a,b,c){"use strict";(function(a){var d,e,f,g,h,i,j,k,l,m,n,o,p=c(5),q=c(10),r=c(12),s=c(9);c(17);var t=c(67),u=c(21),v=c(68);p.glMatrix.setMatrixArrayType(Array);var w={binary:null},x={binary:null},y={x:0,y:0};b.a={init:function(b,c){var p;if(d=c,n=b,e=d.halfSample?new q.a({x:n.size.x/2|0,y:n.size.y/2|0}):n,m=Object(r.calculatePatchSize)(d.patchSize,e.size),y.x=e.size.x/m.x|0,y.y=e.size.y/m.y|0,l=new q.a(e.size,void 0,Uint8Array,!1),h=new q.a(m,void 0,Array,!0),p=new ArrayBuffer(65536),g=new q.a(m,new Uint8Array(p,0,m.x*m.y)),f=new q.a(m,new Uint8Array(p,m.x*m.y*3,m.x*m.y),void 0,!0),o=Object(v.a)("undefined"!=typeof window?window:"undefined"!=typeof self?self:a,{size:m.x},p),k=new q.a({x:e.size.x/g.size.x|0,y:e.size.y/g.size.y|0},void 0,Array,!0),i=new q.a(k.size,void 0,void 0,!0),j=new q.a(k.size,void 0,Int32Array,!0),!d.useWorker&&"undefined"!=typeof document){x.binary=document.createElement("canvas"),x.binary.className="binaryBuffer";var s=!!d.willReadFrequently;console.warn("* initCanvas willReadFrequently",s,d),w.binary=x.binary.getContext("2d",{willReadFrequently:s}),x.binary.width=l.size.x,x.binary.height=l.size.y}},locate:function(){d.halfSample&&Object(r.halfSample)(n,e),Object(r.otsuThreshold)(e,l),l.zeroBorder();var a=function(){var a,b,c,d,e,i,j,k,n=[];for(c=0;c<y.x;c++)for(d=0;d<y.y;d++){a=e=g.size.x*c,b=i=g.size.y*d,l.subImageAsCopy(g,Object(r.imageRef)(a,b)),o.skeletonize(),f.zeroBorder(),s.a.init(h.data,0),k=t.a.create(f,h).rasterize(0),j=h.moments(k.count),n=n.concat(function(a,b,c,d){var e,f,h,i,j,k,l=[],n=[],o=Math.ceil(m.x/3);if(a.length>=2){for(e=0;e<a.length;e++)a[e].m00>o&&l.push(a[e]);if(l.length>=2){for(e=0,h=function(a){var b=Object(r.cluster)(a,.9),c=Object(r.topGeneric)(b,1,function(a){return a.getPoints().length}),d=[],e=[];if(1===c.length){d=c[0].item.getPoints();for(var f=0;f<d.length;f++)e.push(d[f].point)}return e}(l),f=0;e<h.length;e++)f+=null!=(j=null==(k=h[e])?void 0:k.rad)?j:0;h.length>1&&h.length>=l.length/4*3&&h.length>a.length/4&&(f/=h.length,i={index:b[1]*y.x+b[0],pos:{x:c,y:d},box:[p.vec2.clone([c,d]),p.vec2.clone([c+g.size.x,d]),p.vec2.clone([c+g.size.x,d+g.size.y]),p.vec2.clone([c,d+g.size.y])],moments:h,rad:f,vec:p.vec2.clone([Math.cos(f),Math.sin(f)])},n.push(i))}}return n}(j,[c,d],e,i))}return n}();if(a.length<y.x*y.y*.05)return null;var b=function(a){var b,c,d=0,e=0;for(s.a.init(i.data,0),s.a.init(j.data,0),s.a.init(k.data,null),b=0;b<a.length;b++)c=a[b],k.data[c.index]=c,i.data[c.index]=1;for(i.zeroBorder();(e=function(){var a;for(a=0;a<j.data.length;a++)if(0===j.data[a]&&1===i.data[a])return a;return j.data.length}())<j.data.length;)d++,function a(b){var c,e,f,g,h,l={x:b%j.size.x,y:b/j.size.x|0};if(b<j.data.length)for(h=0,f=k.data[b],j.data[b]=d;h<u.a.searchDirections.length;h++){if(e=l.y+u.a.searchDirections[h][0],c=l.x+u.a.searchDirections[h][1],g=e*j.size.x+c,0===i.data[g]){j.data[g]=Number.MAX_VALUE;continue}0===j.data[g]&&Math.abs(p.vec2.dot(k.data[g].vec,f.vec))>.95&&a(g)}}(e);return d}(a);if(b<1)return null;var c=function(a){var b,c,d=[];for(b=0;b<a;b++)d.push(0);for(c=j.data.length;c--;)j.data[c]>0&&d[j.data[c]-1]++;return(d=d.map(function(a,b){return{val:a,label:b+1}})).sort(function(a,b){return b.val-a.val}),d.filter(function(a){return a.val>=5})}(b);return 0===c.length?null:function(a,b){var c,e,f,g,h=[],i=[];for(c=0;c<a.length;c++){for(e=j.data.length,h.length=0;e--;)j.data[e]===a[c].label&&(f=k.data[e],h.push(f));(g=function(a){var b,c,e,f,g,h,i,j=l.size.x,k=l.size.y,m=-l.size.x,n=-l.size.y;for(c=0,b=0;c<a.length;c++)b+=(f=a[c]).rad;for(b/=a.length,(b=(180*b/Math.PI+90)%180-90)<0&&(b+=180),b=(180-b)*Math.PI/180,g=p.mat2.copy(p.mat2.create(),[Math.cos(b),Math.sin(b),-Math.sin(b),Math.cos(b)]),c=0;c<a.length;c++)for(e=0,f=a[c];e<4;e++)p.vec2.transformMat2(f.box[e],f.box[e],g);for(c=0;c<a.length;c++)for(e=0,f=a[c];e<4;e++)f.box[e][0]<j&&(j=f.box[e][0]),f.box[e][0]>m&&(m=f.box[e][0]),f.box[e][1]<k&&(k=f.box[e][1]),f.box[e][1]>n&&(n=f.box[e][1]);for(e=0,h=[[j,k],[m,k],[m,n],[j,n]],i=d.halfSample?2:1,g=p.mat2.invert(g,g);e<4;e++)p.vec2.transformMat2(h[e],h[e],g);for(e=0;e<4;e++)p.vec2.scale(h[e],h[e],i);return h}(h))&&i.push(g)}return i}(c,0)},checkImageConstraints:function(a,b){var c,d,e=a.getWidth(),f=a.getHeight(),g=b.halfSample?.5:1;a.getConfig().area&&(d=Object(r.computeImageArea)(e,f,a.getConfig().area),a.setTopRight({x:d.sx,y:d.sy}),a.setCanvasSize({x:e,y:f}),e=d.sw,f=d.sh);var h={x:Math.floor(e*g),y:Math.floor(f*g)};if(c=Object(r.calculatePatchSize)(b.patchSize,h),a.setWidth(Math.max(Math.floor(Math.floor(h.x/c.x)*(1/g)*c.x),c.x)),a.setHeight(Math.max(Math.floor(Math.floor(h.y/c.y)*(1/g)*c.y),c.y)),a.getWidth()%c.x==0&&a.getHeight()%c.y==0)return!0;throw Error("Image dimensions do not comply with the current settings: Width (".concat(e," )and height (").concat(f,") must a multiple of ").concat(c.x))}}}).call(this,c(46))},function(a,b,c){var d=c(72),e=c(73),f=c(74),g=c(75),h=c(76);function i(a){var b=-1,c=null==a?0:a.length;for(this.clear();++b<c;){var d=a[b];this.set(d[0],d[1])}}i.prototype.clear=d,i.prototype.delete=e,i.prototype.get=f,i.prototype.has=g,i.prototype.set=h,a.exports=i},function(a,b,c){var d=c(26);a.exports=function(a,b){for(var c=a.length;c--;)if(d(a[c][0],b))return c;return -1}},function(a,b){a.exports=function(a,b){return a===b||a!=a&&b!=b}},function(a,b,c){a.exports=c(19).Symbol},function(a,b,c){a.exports=c(35)(Object,"create")},function(a,b,c){var d=c(97);a.exports=function(a,b){var c=a.__data__;return d(b)?c["string"==typeof b?"string":"hash"]:c.map}},function(a,b,c){var d=c(112),e=c(20),f=Object.prototype,g=f.hasOwnProperty,h=f.propertyIsEnumerable;a.exports=d(function(){return arguments}())?d:function(a){return e(a)&&g.call(a,"callee")&&!h.call(a,"callee")}},function(a,b){var c=/^(?:0|[1-9]\d*)$/;a.exports=function(a,b){var d=typeof a;return!!(b=null==b?0x1fffffffffffff:b)&&("number"==d||"symbol"!=d&&c.test(a))&&a>-1&&a%1==0&&a<b}},function(a,b,c){var d=c(16),e=c(145),f=c(146),g=c(149);a.exports=function(a,b){return d(a)?a:e(a,b)?[a]:f(g(a))}},function(a,b,c){var d=c(133),e=c(134),f=c(60),g=c(135);a.exports=function(a,b){return d(a)||e(a,b)||f(a,b)||g()},a.exports.__esModule=!0,a.exports.default=a.exports},function(a,b,c){var d=c(139),e=c(140),f=c(60),g=c(141);a.exports=function(a){return d(a)||e(a)||f(a)||g()},a.exports.__esModule=!0,a.exports.default=a.exports},function(a,b,c){var d=c(82),e=c(88);a.exports=function(a,b){var c=e(a,b);return d(c)?c:void 0}},function(a,b,c){var d=c(22),e=c(15);a.exports=function(a){if(!e(a))return!1;var b=d(a);return"[object Function]"==b||"[object GeneratorFunction]"==b||"[object AsyncFunction]"==b||"[object Proxy]"==b}},function(a,b,c){var d=c(49);a.exports=function(a,b,c){"__proto__"==b&&d?d(a,b,{configurable:!0,enumerable:!0,value:c,writable:!0}):a[b]=c}},function(a,b){a.exports=function(a){return a.webpackPolyfill||(a.deprecate=function(){},a.paths=[],a.children||(a.children=[]),Object.defineProperty(a,"loaded",{enumerable:!0,get:function(){return a.l}}),Object.defineProperty(a,"id",{enumerable:!0,get:function(){return a.i}}),a.webpackPolyfill=1),a}},function(a,b,c){var d=c(36),e=c(40);a.exports=function(a){return null!=a&&e(a.length)&&!d(a)}},function(a,b){a.exports=function(a){return"number"==typeof a&&a>-1&&a%1==0&&a<=0x1fffffffffffff}},function(a,b){function c(b,d){return a.exports=c=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,b){return a.__proto__=b,a},a.exports.__esModule=!0,a.exports.default=a.exports,c(b,d)}a.exports=c,a.exports.__esModule=!0,a.exports.default=a.exports},function(a,b,c){var d=c(22),e=c(20);a.exports=function(a){return"symbol"==typeof a||e(a)&&"[object Symbol]"==d(a)}},function(a,b,c){var d=c(42),e=1/0;a.exports=function(a){if("string"==typeof a||d(a))return a;var b=a+"";return"0"==b&&1/a==-e?"-0":b}},function(a,b,c){a.exports=c(35)(c(19),"Map")},function(a,b,c){(function(b){a.exports="object"==typeof b&&b&&b.Object===Object&&b}).call(this,c(46))},function(a,b){var c;c=function(){return this}();try{c=c||Function("return this")()}catch(a){"object"==typeof window&&(c=window)}a.exports=c},function(a,b,c){var d=c(89),e=c(96),f=c(98),g=c(99),h=c(100);function i(a){var b=-1,c=null==a?0:a.length;for(this.clear();++b<c;){var d=a[b];this.set(d[0],d[1])}}i.prototype.clear=d,i.prototype.delete=e,i.prototype.get=f,i.prototype.has=g,i.prototype.set=h,a.exports=i},function(a,b,c){var d=c(37),e=c(26);a.exports=function(a,b,c){(void 0===c||e(a[b],c))&&(void 0!==c||b in a)||d(a,b,c)}},function(a,b,c){var d=c(35);a.exports=function(){try{var a=d(Object,"defineProperty");return a({},"",{}),a}catch(a){}}()},function(a,b,c){a.exports=c(111)(Object.getPrototypeOf,Object)},function(a,b){var c=Object.prototype;a.exports=function(a){var b=a&&a.constructor;return a===("function"==typeof b&&b.prototype||c)}},function(a,b,c){(function(a){var d=c(19),e=c(114),f=b&&!b.nodeType&&b,g=f&&"object"==typeof a&&a&&!a.nodeType&&a,h=g&&g.exports===f?d.Buffer:void 0;a.exports=(h?h.isBuffer:void 0)||e}).call(this,c(38)(a))},function(a,b,c){var d=c(116),e=c(117),f=c(118),g=f&&f.isTypedArray;a.exports=g?e(g):d},function(a,b){a.exports=function(a,b){if(("constructor"!==b||"function"!=typeof a[b])&&"__proto__"!=b)return a[b]}},function(a,b,c){var d=c(37),e=c(26),f=Object.prototype.hasOwnProperty;a.exports=function(a,b,c){var g=a[b];f.call(a,b)&&e(g,c)&&(void 0!==c||b in a)||d(a,b,c)}},function(a,b,c){var d=c(121),e=c(123),f=c(39);a.exports=function(a){return f(a)?d(a,!0):e(a)}},function(a,b){a.exports=function(a){return a}},function(a,b,c){var d=c(127),e=Math.max;a.exports=function(a,b,c){return b=e(void 0===b?a.length-1:b,0),function(){for(var f=arguments,g=-1,h=e(f.length-b,0),i=Array(h);++g<h;)i[g]=f[b+g];g=-1;for(var j=Array(b+1);++g<b;)j[g]=f[g];return j[b]=c(i),d(a,this,j)}}},function(a,b,c){var d=c(128);a.exports=c(130)(d)},function(a,b,c){var d=c(61);a.exports=function(a,b){if(a){if("string"==typeof a)return d(a,b);var c=Object.prototype.toString.call(a).slice(8,-1);if("Object"===c&&a.constructor&&(c=a.constructor.name),"Map"===c||"Set"===c)return Array.from(a);if("Arguments"===c||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c))return d(a,b)}},a.exports.__esModule=!0,a.exports.default=a.exports},function(a,b){a.exports=function(a,b){(null==b||b>a.length)&&(b=a.length);for(var c=0,d=Array(b);c<b;c++)d[c]=a[c];return d},a.exports.__esModule=!0,a.exports.default=a.exports},function(a,b,c){var d=c(13).default,e=c(136);a.exports=function(a){var b=e(a,"string");return"symbol"===d(b)?b:String(b)},a.exports.__esModule=!0,a.exports.default=a.exports},function(a,b,c){var d=c(142);a.exports=c(156)(function(a,b){return null==a?{}:d(a,b)})},function(a,b,c){var d=c(2),e=c(41),f=c(161),g=c(162);function h(b){var c="function"==typeof Map?new Map:void 0;return a.exports=h=function(a){if(null===a||!f(a))return a;if("function"!=typeof a)throw TypeError("Super expression must either be null or a function");if(void 0!==c){if(c.has(a))return c.get(a);c.set(a,b)}function b(){return g(a,arguments,d(this).constructor)}return b.prototype=Object.create(a.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),e(b,a)},a.exports.__esModule=!0,a.exports.default=a.exports,h(b)}a.exports=h,a.exports.__esModule=!0,a.exports.default=a.exports},function(a,b,c){var d=c(12),e=c(164),f=c(165).d2,g={};g.create=function(a,b){var c={},g=d.imageRef(a.getRealWidth(),a.getRealHeight()),h=a.getCanvasSize(),i=d.imageRef(a.getWidth(),a.getHeight()),j=a.getTopRight(),k=new Uint8Array(i.x*i.y),l=new Uint8Array(g.x*g.y),m=new Uint8Array(h.x*h.y),n=e(l,[g.y,g.x]).transpose(1,0),o=e(m,[h.y,h.x]).transpose(1,0),p=o.hi(j.x+i.x,j.y+i.y).lo(j.x,j.y),q=g.x/h.x,r=g.y/h.y;return c.attachData=function(a){k=a},c.getData=function(){return k},c.grab=function(){var b=a.getFrame();return!!b&&(this.scaleAndCrop(b),!0)},c.scaleAndCrop=function(a){d.computeGray(a.data,l);for(var b=0;b<h.y;b++)for(var c=0;c<h.x;c++)o.set(c,b,0|f(n,c*q,b*r));if(p.shape[0]!==i.x||p.shape[1]!==i.y)throw Error("Shapes do not match!");for(var e=0;e<i.y;e++)for(var g=0;g<i.x;g++)k[e*i.x+g]=p.get(g,e)},c.getSize=function(){return i},c},a.exports=g},function(a,b){a.exports=c(6445)},function(a,b,c){"use strict";var d=c(21),e={createContour2D:function(){return{dir:null,index:null,firstVertex:null,insideContours:null,nextpeer:null,prevpeer:null}},CONTOUR_DIR:{CW_DIR:0,CCW_DIR:1,UNKNOWN_DIR:2},DIR:{OUTSIDE_EDGE:-32767,INSIDE_EDGE:-32766},create:function(a,b){var c=a.data,f=b.data,g=a.size.x,h=a.size.y,i=d.a.create(a,b);return{rasterize:function(a){var b,d,j,k,l,m,n,o,p,q,r,s,t=[],u=0;for(s=0;s<400;s++)t[s]=0;for(m=1,t[0]=c[0],p=null;m<h-1;m++)for(l=1,k=0,d=t[0];l<g-1;l++)if(0===f[r=m*g+l])if((b=c[r])!==d){if(0===k)t[j=u+1]=b,d=b,null!==(n=i.contourTracing(m,l,j,b,e.DIR.OUTSIDE_EDGE))&&(u++,k=j,(o=e.createContour2D()).dir=e.CONTOUR_DIR.CW_DIR,o.index=k,o.firstVertex=n,o.nextpeer=p,o.insideContours=null,null!==p&&(p.prevpeer=o),p=o);else if(null!==(n=i.contourTracing(m,l,e.DIR.INSIDE_EDGE,b,k))){for((o=e.createContour2D()).firstVertex=n,o.insideContours=null,0===a?o.dir=e.CONTOUR_DIR.CCW_DIR:o.dir=e.CONTOUR_DIR.CW_DIR,o.index=a,q=p;null!==q&&q.index!==k;)q=q.nextpeer;null!==q&&(o.nextpeer=q.insideContours,null!==q.insideContours&&(q.insideContours.prevpeer=o),q.insideContours=o)}}else f[r]=k;else f[r]===e.DIR.OUTSIDE_EDGE||f[r]===e.DIR.INSIDE_EDGE?(k=0,d=f[r]===e.DIR.INSIDE_EDGE?c[r]:t[0]):d=t[k=f[r]];for(q=p;null!==q;)q.index=a,q=q.nextpeer;return{cc:p,count:u}},debug:{drawContour:function(a,b){var c,d,f,g=a.getContext("2d"),h=b;for(g.strokeStyle="red",g.fillStyle="red",g.lineWidth=1,c=null!==h?h.insideContours:null;null!==h;){switch(null!==c?(d=c,c=c.nextpeer):(d=h,c=null!==(h=h.nextpeer)?h.insideContours:null),d.dir){case e.CONTOUR_DIR.CW_DIR:g.strokeStyle="red";break;case e.CONTOUR_DIR.CCW_DIR:g.strokeStyle="blue";break;case e.CONTOUR_DIR.UNKNOWN_DIR:g.strokeStyle="green"}f=d.firstVertex,g.beginPath(),g.moveTo(f.x,f.y);do f=f.next,g.lineTo(f.x,f.y);while(f!==d.firstVertex);g.stroke()}}}}}};b.a=e},function(a,b,c){"use strict";b.a=function(a,b,c){"use asm";var d=new a.Uint8Array(c);var e=b.size|0;var f=a.Math.imul;function g(a,b){a|=0;b|=0;var c=0;var f=0;var g=0;var h=0;var i=0;var j=0;var k=0;var l=0;for(c=1;(c|0)<(e-1|0);c=c+1|0){l=l+e|0;for(f=1;(f|0)<(e-1|0);f=f+1|0){h=l-e|0;i=l+e|0;j=f-1|0;k=f+1|0;g=(d[a+h+j|0]|0)+(d[a+h+k|0]|0)+(d[a+l+f|0]|0)+(d[a+i+j|0]|0)+(d[a+i+k|0]|0)|0;if((g|0)==(5|0)){d[b+l+f|0]=1}else{d[b+l+f|0]=0}}}}function h(a,b,c){a|=0;b|=0;c|=0;var g=0;g=f(e,e)|0;while((g|0)>0){g=g-1|0;d[c+g|0]=(d[a+g|0]|0)-(d[b+g|0]|0)|0}}function i(a,b,c){a|=0;b|=0;c|=0;var g=0;g=f(e,e)|0;while((g|0)>0){g=g-1|0;d[c+g|0]=d[a+g|0]|0|(d[b+g|0]|0)|0}}function j(a){a|=0;var b=0;var c=0;c=f(e,e)|0;while((c|0)>0){c=c-1|0;b=(b|0)+(d[a+c|0]|0)|0}return b|0}function k(a,b){a|=0;b|=0;var c=0;c=f(e,e)|0;while((c|0)>0){c=c-1|0;d[a+c|0]=b}}function l(a,b){a|=0;b|=0;var c=0;var f=0;var g=0;var h=0;var i=0;var j=0;var k=0;var l=0;for(c=1;(c|0)<(e-1|0);c=c+1|0){l=l+e|0;for(f=1;(f|0)<(e-1|0);f=f+1|0){h=l-e|0;i=l+e|0;j=f-1|0;k=f+1|0;g=(d[a+h+j|0]|0)+(d[a+h+k|0]|0)+(d[a+l+f|0]|0)+(d[a+i+j|0]|0)+(d[a+i+k|0]|0)|0;if((g|0)>(0|0)){d[b+l+f|0]=1}else{d[b+l+f|0]=0}}}}function m(a,b){a|=0;b|=0;var c=0;c=f(e,e)|0;while((c|0)>0){c=c-1|0;d[b+c|0]=d[a+c|0]|0}}function n(a){a|=0;var b=0;var c=0;for(b=0;(b|0)<(e-1|0);b=b+1|0){d[a+b|0]=0;d[a+c|0]=0;c=c+e-1|0;d[a+c|0]=0;c=c+1|0}for(b=0;(b|0)<(e|0);b=b+1|0){d[a+c|0]=0;c=c+1|0}}function o(){var a=0;var b=0;var c=0;var d=0;var o=0;var p=0;b=f(e,e)|0;c=b+b|0;d=c+b|0;k(d,0);n(a);do{g(a,b);l(b,c);h(a,c,c);i(d,c,d);m(b,a);o=j(a)|0;p=(o|0)==0|0}while(!p)}return{skeletonize:o}}},function(a,b,c){a.exports=c(166)},function(a,b,c){var d=c(71),e=c(48),f=c(101),g=c(103),h=c(15),i=c(56),j=c(54);a.exports=function a(b,c,k,l,m){b!==c&&f(c,function(f,i){if(m||(m=new d),h(f))g(b,c,i,k,a,l,m);else{var n=l?l(j(b,i),f,i+"",b,c,m):void 0;void 0===n&&(n=f),e(b,i,n)}},i)}},function(a,b,c){var d=c(24),e=c(77),f=c(78),g=c(79),h=c(80),i=c(81);function j(a){var b=this.__data__=new d(a);this.size=b.size}j.prototype.clear=e,j.prototype.delete=f,j.prototype.get=g,j.prototype.has=h,j.prototype.set=i,a.exports=j},function(a,b){a.exports=function(){this.__data__=[],this.size=0}},function(a,b,c){var d=c(25),e=Array.prototype.splice;a.exports=function(a){var b=this.__data__,c=d(b,a);return!(c<0)&&(c==b.length-1?b.pop():e.call(b,c,1),--this.size,!0)}},function(a,b,c){var d=c(25);a.exports=function(a){var b=this.__data__,c=d(b,a);return c<0?void 0:b[c][1]}},function(a,b,c){var d=c(25);a.exports=function(a){return d(this.__data__,a)>-1}},function(a,b,c){var d=c(25);a.exports=function(a,b){var c=this.__data__,e=d(c,a);return e<0?(++this.size,c.push([a,b])):c[e][1]=b,this}},function(a,b,c){var d=c(24);a.exports=function(){this.__data__=new d,this.size=0}},function(a,b){a.exports=function(a){var b=this.__data__,c=b.delete(a);return this.size=b.size,c}},function(a,b){a.exports=function(a){return this.__data__.get(a)}},function(a,b){a.exports=function(a){return this.__data__.has(a)}},function(a,b,c){var d=c(24),e=c(44),f=c(47);a.exports=function(a,b){var c=this.__data__;if(c instanceof d){var g=c.__data__;if(!e||g.length<199)return g.push([a,b]),this.size=++c.size,this;c=this.__data__=new f(g)}return c.set(a,b),this.size=c.size,this}},function(a,b,c){var d=c(36),e=c(85),f=c(15),g=c(87),h=/^\[object .+?Constructor\]$/,i=Object.prototype,j=Function.prototype.toString,k=i.hasOwnProperty,l=RegExp("^"+j.call(k).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");a.exports=function(a){return!(!f(a)||e(a))&&(d(a)?l:h).test(g(a))}},function(a,b,c){var d=c(27),e=Object.prototype,f=e.hasOwnProperty,g=e.toString,h=d?d.toStringTag:void 0;a.exports=function(a){var b=f.call(a,h),c=a[h];try{a[h]=void 0;var d=!0}catch(a){}var e=g.call(a);return d&&(b?a[h]=c:delete a[h]),e}},function(a,b){var c=Object.prototype.toString;a.exports=function(a){return c.call(a)}},function(a,b,c){var d,e=c(86),f=(d=/[^.]+$/.exec(e&&e.keys&&e.keys.IE_PROTO||""))?"Symbol(src)_1."+d:"";a.exports=function(a){return!!f&&f in a}},function(a,b,c){a.exports=c(19)["__core-js_shared__"]},function(a,b){var c=Function.prototype.toString;a.exports=function(a){if(null!=a){try{return c.call(a)}catch(a){}try{return a+""}catch(a){}}return""}},function(a,b){a.exports=function(a,b){return null==a?void 0:a[b]}},function(a,b,c){var d=c(90),e=c(24),f=c(44);a.exports=function(){this.size=0,this.__data__={hash:new d,map:new(f||e),string:new d}}},function(a,b,c){var d=c(91),e=c(92),f=c(93),g=c(94),h=c(95);function i(a){var b=-1,c=null==a?0:a.length;for(this.clear();++b<c;){var d=a[b];this.set(d[0],d[1])}}i.prototype.clear=d,i.prototype.delete=e,i.prototype.get=f,i.prototype.has=g,i.prototype.set=h,a.exports=i},function(a,b,c){var d=c(28);a.exports=function(){this.__data__=d?d(null):{},this.size=0}},function(a,b){a.exports=function(a){var b=this.has(a)&&delete this.__data__[a];return this.size-=!!b,b}},function(a,b,c){var d=c(28),e=Object.prototype.hasOwnProperty;a.exports=function(a){var b=this.__data__;if(d){var c=b[a];return"__lodash_hash_undefined__"===c?void 0:c}return e.call(b,a)?b[a]:void 0}},function(a,b,c){var d=c(28),e=Object.prototype.hasOwnProperty;a.exports=function(a){var b=this.__data__;return d?void 0!==b[a]:e.call(b,a)}},function(a,b,c){var d=c(28);a.exports=function(a,b){var c=this.__data__;return this.size+=+!this.has(a),c[a]=d&&void 0===b?"__lodash_hash_undefined__":b,this}},function(a,b,c){var d=c(29);a.exports=function(a){var b=d(this,a).delete(a);return this.size-=!!b,b}},function(a,b){a.exports=function(a){var b=typeof a;return"string"==b||"number"==b||"symbol"==b||"boolean"==b?"__proto__"!==a:null===a}},function(a,b,c){var d=c(29);a.exports=function(a){return d(this,a).get(a)}},function(a,b,c){var d=c(29);a.exports=function(a){return d(this,a).has(a)}},function(a,b,c){var d=c(29);a.exports=function(a,b){var c=d(this,a),e=c.size;return c.set(a,b),this.size+=+(c.size!=e),this}},function(a,b,c){a.exports=c(102)()},function(a,b){a.exports=function(a){return function(b,c,d){for(var e=-1,f=Object(b),g=d(b),h=g.length;h--;){var i=g[a?h:++e];if(!1===c(f[i],i,f))break}return b}}},function(a,b,c){var d=c(48),e=c(104),f=c(105),g=c(108),h=c(109),i=c(30),j=c(16),k=c(113),l=c(52),m=c(36),n=c(15),o=c(115),p=c(53),q=c(54),r=c(119);a.exports=function(a,b,c,s,t,u,v){var w=q(a,c),x=q(b,c),y=v.get(x);if(y)return void d(a,c,y);var z=u?u(w,x,c+"",a,b,v):void 0,A=void 0===z;if(A){var B=j(x),C=!B&&l(x),D=!B&&!C&&p(x);z=x,B||C||D?j(w)?z=w:k(w)?z=g(w):C?(A=!1,z=e(x,!0)):D?(A=!1,z=f(x,!0)):z=[]:o(x)||i(x)?(z=w,i(w)?z=r(w):(!n(w)||m(w))&&(z=h(x))):A=!1}A&&(v.set(x,z),t(z,x,s,u,v),v.delete(x)),d(a,c,z)}},function(a,b,c){(function(a){var d=c(19),e=b&&!b.nodeType&&b,f=e&&"object"==typeof a&&a&&!a.nodeType&&a,g=f&&f.exports===e?d.Buffer:void 0,h=g?g.allocUnsafe:void 0;a.exports=function(a,b){if(b)return a.slice();var c=a.length,d=h?h(c):new a.constructor(c);return a.copy(d),d}}).call(this,c(38)(a))},function(a,b,c){var d=c(106);a.exports=function(a,b){var c=b?d(a.buffer):a.buffer;return new a.constructor(c,a.byteOffset,a.length)}},function(a,b,c){var d=c(107);a.exports=function(a){var b=new a.constructor(a.byteLength);return new d(b).set(new d(a)),b}},function(a,b,c){a.exports=c(19).Uint8Array},function(a,b){a.exports=function(a,b){var c=-1,d=a.length;for(b||(b=Array(d));++c<d;)b[c]=a[c];return b}},function(a,b,c){var d=c(110),e=c(50),f=c(51);a.exports=function(a){return"function"!=typeof a.constructor||f(a)?{}:d(e(a))}},function(a,b,c){var d=c(15),e=Object.create;a.exports=function(){function a(){}return function(b){if(!d(b))return{};if(e)return e(b);a.prototype=b;var c=new a;return a.prototype=void 0,c}}()},function(a,b){a.exports=function(a,b){return function(c){return a(b(c))}}},function(a,b,c){var d=c(22),e=c(20);a.exports=function(a){return e(a)&&"[object Arguments]"==d(a)}},function(a,b,c){var d=c(39),e=c(20);a.exports=function(a){return e(a)&&d(a)}},function(a,b){a.exports=function(){return!1}},function(a,b,c){var d=c(22),e=c(50),f=c(20),g=Object.prototype,h=Function.prototype.toString,i=g.hasOwnProperty,j=h.call(Object);a.exports=function(a){if(!f(a)||"[object Object]"!=d(a))return!1;var b=e(a);if(null===b)return!0;var c=i.call(b,"constructor")&&b.constructor;return"function"==typeof c&&c instanceof c&&h.call(c)==j}},function(a,b,c){var d=c(22),e=c(40),f=c(20),g={};g["[object Float32Array]"]=g["[object Float64Array]"]=g["[object Int8Array]"]=g["[object Int16Array]"]=g["[object Int32Array]"]=g["[object Uint8Array]"]=g["[object Uint8ClampedArray]"]=g["[object Uint16Array]"]=g["[object Uint32Array]"]=!0,g["[object Arguments]"]=g["[object Array]"]=g["[object ArrayBuffer]"]=g["[object Boolean]"]=g["[object DataView]"]=g["[object Date]"]=g["[object Error]"]=g["[object Function]"]=g["[object Map]"]=g["[object Number]"]=g["[object Object]"]=g["[object RegExp]"]=g["[object Set]"]=g["[object String]"]=g["[object WeakMap]"]=!1,a.exports=function(a){return f(a)&&e(a.length)&&!!g[d(a)]}},function(a,b){a.exports=function(a){return function(b){return a(b)}}},function(a,b,c){(function(a){var d=c(45),e=b&&!b.nodeType&&b,f=e&&"object"==typeof a&&a&&!a.nodeType&&a,g=f&&f.exports===e&&d.process;a.exports=function(){try{var a=f&&f.require&&f.require("util").types;if(a)return a;return g&&g.binding&&g.binding("util")}catch(a){}}()}).call(this,c(38)(a))},function(a,b,c){var d=c(120),e=c(56);a.exports=function(a){return d(a,e(a))}},function(a,b,c){var d=c(55),e=c(37);a.exports=function(a,b,c,f){var g=!c;c||(c={});for(var h=-1,i=b.length;++h<i;){var j=b[h],k=f?f(c[j],a[j],j,c,a):void 0;void 0===k&&(k=a[j]),g?e(c,j,k):d(c,j,k)}return c}},function(a,b,c){var d=c(122),e=c(30),f=c(16),g=c(52),h=c(31),i=c(53),j=Object.prototype.hasOwnProperty;a.exports=function(a,b){var c=f(a),k=!c&&e(a),l=!c&&!k&&g(a),m=!c&&!k&&!l&&i(a),n=c||k||l||m,o=n?d(a.length,String):[],p=o.length;for(var q in a)(b||j.call(a,q))&&!(n&&("length"==q||l&&("offset"==q||"parent"==q)||m&&("buffer"==q||"byteLength"==q||"byteOffset"==q)||h(q,p)))&&o.push(q);return o}},function(a,b){a.exports=function(a,b){for(var c=-1,d=Array(a);++c<a;)d[c]=b(c);return d}},function(a,b,c){var d=c(15),e=c(51),f=c(124),g=Object.prototype.hasOwnProperty;a.exports=function(a){if(!d(a))return f(a);var b=e(a),c=[];for(var h in a)"constructor"==h&&(b||!g.call(a,h))||c.push(h);return c}},function(a,b){a.exports=function(a){var b=[];if(null!=a)for(var c in Object(a))b.push(c);return b}},function(a,b,c){var d=c(126),e=c(131);a.exports=function(a){return d(function(b,c){var d=-1,f=c.length,g=f>1?c[f-1]:void 0,h=f>2?c[2]:void 0;for(g=a.length>3&&"function"==typeof g?(f--,g):void 0,h&&e(c[0],c[1],h)&&(g=f<3?void 0:g,f=1),b=Object(b);++d<f;){var i=c[d];i&&a(b,i,d,g)}return b})}},function(a,b,c){var d=c(57),e=c(58),f=c(59);a.exports=function(a,b){return f(e(a,b,d),a+"")}},function(a,b){a.exports=function(a,b,c){switch(c.length){case 0:return a.call(b);case 1:return a.call(b,c[0]);case 2:return a.call(b,c[0],c[1]);case 3:return a.call(b,c[0],c[1],c[2])}return a.apply(b,c)}},function(a,b,c){var d=c(129),e=c(49),f=c(57);a.exports=e?function(a,b){return e(a,"toString",{configurable:!0,enumerable:!1,value:d(b),writable:!0})}:f},function(a,b){a.exports=function(a){return function(){return a}}},function(a,b){var c=Date.now;a.exports=function(a){var b=0,d=0;return function(){var e=c(),f=16-(e-d);if(d=e,f>0){if(++b>=800)return arguments[0]}else b=0;return a.apply(void 0,arguments)}}},function(a,b,c){var d=c(26),e=c(39),f=c(31),g=c(15);a.exports=function(a,b,c){if(!g(c))return!1;var h=typeof b;return("number"==h?!!(e(c)&&f(b,c.length)):"string"==h&&b in c)&&d(c[b],a)}},function(a,b){"undefined"==typeof window||window.requestAnimationFrame||(window.requestAnimationFrame=window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(a){window.setTimeout(a,1e3/60)}),"function"!=typeof Math.imul&&(Math.imul=function(a,b){var c=65535&a,d=65535&b;return c*d+((a>>>16&65535)*d+c*(b>>>16&65535)<<16>>>0)|0}),"function"!=typeof Object.assign&&(Object.assign=function(a){"use strict";if(null===a)throw TypeError("Cannot convert undefined or null to object");for(var b=Object(a),c=1;c<arguments.length;c++){var d=arguments[c];if(null!==d)for(var e in d)Object.prototype.hasOwnProperty.call(d,e)&&(b[e]=d[e])}return b})},function(a,b){a.exports=function(a){if(Array.isArray(a))return a},a.exports.__esModule=!0,a.exports.default=a.exports},function(a,b){a.exports=function(a,b){var c=null==a?null:"undefined"!=typeof Symbol&&a[Symbol.iterator]||a["@@iterator"];if(null!=c){var d,e,f,g,h=[],i=!0,j=!1;try{if(f=(c=c.call(a)).next,0===b){if(Object(c)!==c)return;i=!1}else for(;!(i=(d=f.call(c)).done)&&(h.push(d.value),h.length!==b);i=!0);}catch(a){j=!0,e=a}finally{try{if(!i&&null!=c.return&&(g=c.return(),Object(g)!==g))return}finally{if(j)throw e}}return h}},a.exports.__esModule=!0,a.exports.default=a.exports},function(a,b){a.exports=function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},a.exports.__esModule=!0,a.exports.default=a.exports},function(a,b,c){var d=c(13).default;a.exports=function(a,b){if("object"!==d(a)||null===a)return a;var c=a[Symbol.toPrimitive];if(void 0!==c){var e=c.call(a,b||"default");if("object"!==d(e))return e;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===b?String:Number)(a)},a.exports.__esModule=!0,a.exports.default=a.exports},function(a,b,c){var d=c(13).default;function e(){"use strict";a.exports=e=function(){return c},a.exports.__esModule=!0,a.exports.default=a.exports;var b,c={},f=Object.prototype,g=f.hasOwnProperty,h=Object.defineProperty||function(a,b,c){a[b]=c.value},i="function"==typeof Symbol?Symbol:{},j=i.iterator||"@@iterator",k=i.asyncIterator||"@@asyncIterator",l=i.toStringTag||"@@toStringTag";function m(a,b,c){return Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}),a[b]}try{m({},"")}catch(a){m=function(a,b,c){return a[b]=c}}function n(a,c,d,e){var f,g,i,j,k=Object.create((c&&c.prototype instanceof t?c:t).prototype);return h(k,"_invoke",{value:(f=a,g=d,i=new E(e||[]),j=p,function(a,c){if(j===q)throw Error("Generator is already running");if(j===r){if("throw"===a)throw c;return{value:b,done:!0}}for(i.method=a,i.arg=c;;){var d=i.delegate;if(d){var e=function a(c,d){var e=d.method,f=c.iterator[e];if(f===b)return d.delegate=null,"throw"===e&&c.iterator.return&&(d.method="return",d.arg=b,a(c,d),"throw"===d.method)||"return"!==e&&(d.method="throw",d.arg=TypeError("The iterator does not provide a '"+e+"' method")),s;var g=o(f,c.iterator,d.arg);if("throw"===g.type)return d.method="throw",d.arg=g.arg,d.delegate=null,s;var h=g.arg;return h?h.done?(d[c.resultName]=h.value,d.next=c.nextLoc,"return"!==d.method&&(d.method="next",d.arg=b),d.delegate=null,s):h:(d.method="throw",d.arg=TypeError("iterator result is not an object"),d.delegate=null,s)}(d,i);if(e){if(e===s)continue;return e}}if("next"===i.method)i.sent=i._sent=i.arg;else if("throw"===i.method){if(j===p)throw j=r,i.arg;i.dispatchException(i.arg)}else"return"===i.method&&i.abrupt("return",i.arg);j=q;var h=o(f,g,i);if("normal"===h.type){if(j=i.done?r:"suspendedYield",h.arg===s)continue;return{value:h.arg,done:i.done}}"throw"===h.type&&(j=r,i.method="throw",i.arg=h.arg)}})}),k}function o(a,b,c){try{return{type:"normal",arg:a.call(b,c)}}catch(a){return{type:"throw",arg:a}}}c.wrap=n;var p="suspendedStart",q="executing",r="completed",s={};function t(){}function u(){}function v(){}var w={};m(w,j,function(){return this});var x=Object.getPrototypeOf,y=x&&x(x(F([])));y&&y!==f&&g.call(y,j)&&(w=y);var z=v.prototype=t.prototype=Object.create(w);function A(a){["next","throw","return"].forEach(function(b){m(a,b,function(a){return this._invoke(b,a)})})}function B(a,b){var c;h(this,"_invoke",{value:function(e,f){function h(){return new b(function(c,h){!function c(e,f,h,i){var j=o(a[e],a,f);if("throw"!==j.type){var k=j.arg,l=k.value;return l&&"object"==d(l)&&g.call(l,"__await")?b.resolve(l.__await).then(function(a){c("next",a,h,i)},function(a){c("throw",a,h,i)}):b.resolve(l).then(function(a){k.value=a,h(k)},function(a){return c("throw",a,h,i)})}i(j.arg)}(e,f,c,h)})}return c=c?c.then(h,h):h()}})}function C(a){var b={tryLoc:a[0]};1 in a&&(b.catchLoc=a[1]),2 in a&&(b.finallyLoc=a[2],b.afterLoc=a[3]),this.tryEntries.push(b)}function D(a){var b=a.completion||{};b.type="normal",delete b.arg,a.completion=b}function E(a){this.tryEntries=[{tryLoc:"root"}],a.forEach(C,this),this.reset(!0)}function F(a){if(a||""===a){var c=a[j];if(c)return c.call(a);if("function"==typeof a.next)return a;if(!isNaN(a.length)){var e=-1,f=function c(){for(;++e<a.length;)if(g.call(a,e))return c.value=a[e],c.done=!1,c;return c.value=b,c.done=!0,c};return f.next=f}}throw TypeError(d(a)+" is not iterable")}return u.prototype=v,h(z,"constructor",{value:v,configurable:!0}),h(v,"constructor",{value:u,configurable:!0}),u.displayName=m(v,l,"GeneratorFunction"),c.isGeneratorFunction=function(a){var b="function"==typeof a&&a.constructor;return!!b&&(b===u||"GeneratorFunction"===(b.displayName||b.name))},c.mark=function(a){return Object.setPrototypeOf?Object.setPrototypeOf(a,v):(a.__proto__=v,m(a,l,"GeneratorFunction")),a.prototype=Object.create(z),a},c.awrap=function(a){return{__await:a}},A(B.prototype),m(B.prototype,k,function(){return this}),c.AsyncIterator=B,c.async=function(a,b,d,e,f){void 0===f&&(f=Promise);var g=new B(n(a,b,d,e),f);return c.isGeneratorFunction(b)?g:g.next().then(function(a){return a.done?a.value:g.next()})},A(z),m(z,l,"Generator"),m(z,j,function(){return this}),m(z,"toString",function(){return"[object Generator]"}),c.keys=function(a){var b=Object(a),c=[];for(var d in b)c.push(d);return c.reverse(),function a(){for(;c.length;){var d=c.pop();if(d in b)return a.value=d,a.done=!1,a}return a.done=!0,a}},c.values=F,E.prototype={constructor:E,reset:function(a){if(this.prev=0,this.next=0,this.sent=this._sent=b,this.done=!1,this.delegate=null,this.method="next",this.arg=b,this.tryEntries.forEach(D),!a)for(var c in this)"t"===c.charAt(0)&&g.call(this,c)&&!isNaN(+c.slice(1))&&(this[c]=b)},stop:function(){this.done=!0;var a=this.tryEntries[0].completion;if("throw"===a.type)throw a.arg;return this.rval},dispatchException:function(a){if(this.done)throw a;var c=this;function d(d,e){return h.type="throw",h.arg=a,c.next=d,e&&(c.method="next",c.arg=b),!!e}for(var e=this.tryEntries.length-1;e>=0;--e){var f=this.tryEntries[e],h=f.completion;if("root"===f.tryLoc)return d("end");if(f.tryLoc<=this.prev){var i=g.call(f,"catchLoc"),j=g.call(f,"finallyLoc");if(i&&j){if(this.prev<f.catchLoc)return d(f.catchLoc,!0);if(this.prev<f.finallyLoc)return d(f.finallyLoc)}else if(i){if(this.prev<f.catchLoc)return d(f.catchLoc,!0)}else{if(!j)throw Error("try statement without catch or finally");if(this.prev<f.finallyLoc)return d(f.finallyLoc)}}}},abrupt:function(a,b){for(var c=this.tryEntries.length-1;c>=0;--c){var d=this.tryEntries[c];if(d.tryLoc<=this.prev&&g.call(d,"finallyLoc")&&this.prev<d.finallyLoc){var e=d;break}}e&&("break"===a||"continue"===a)&&e.tryLoc<=b&&b<=e.finallyLoc&&(e=null);var f=e?e.completion:{};return f.type=a,f.arg=b,e?(this.method="next",this.next=e.finallyLoc,s):this.complete(f)},complete:function(a,b){if("throw"===a.type)throw a.arg;return"break"===a.type||"continue"===a.type?this.next=a.arg:"return"===a.type?(this.rval=this.arg=a.arg,this.method="return",this.next="end"):"normal"===a.type&&b&&(this.next=b),s},finish:function(a){for(var b=this.tryEntries.length-1;b>=0;--b){var c=this.tryEntries[b];if(c.finallyLoc===a)return this.complete(c.completion,c.afterLoc),D(c),s}},catch:function(a){for(var b=this.tryEntries.length-1;b>=0;--b){var c=this.tryEntries[b];if(c.tryLoc===a){var d=c.completion;if("throw"===d.type){var e=d.arg;D(c)}return e}}throw Error("illegal catch attempt")},delegateYield:function(a,c,d){return this.delegate={iterator:F(a),resultName:c,nextLoc:d},"next"===this.method&&(this.arg=b),s}},c}a.exports=e,a.exports.__esModule=!0,a.exports.default=a.exports},function(a,b,c){var d=c(2);a.exports=function(a,b){for(;!Object.prototype.hasOwnProperty.call(a,b)&&null!==(a=d(a)););return a},a.exports.__esModule=!0,a.exports.default=a.exports},function(a,b,c){var d=c(61);a.exports=function(a){if(Array.isArray(a))return d(a)},a.exports.__esModule=!0,a.exports.default=a.exports},function(a,b){a.exports=function(a){if("undefined"!=typeof Symbol&&null!=a[Symbol.iterator]||null!=a["@@iterator"])return Array.from(a)},a.exports.__esModule=!0,a.exports.default=a.exports},function(a,b){a.exports=function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},a.exports.__esModule=!0,a.exports.default=a.exports},function(a,b,c){var d=c(143),e=c(153);a.exports=function(a,b){return d(a,b,function(b,c){return e(a,c)})}},function(a,b,c){var d=c(144),e=c(152),f=c(32);a.exports=function(a,b,c){for(var g=-1,h=b.length,i={};++g<h;){var j=b[g],k=d(a,j);c(k,j)&&e(i,f(j,a),k)}return i}},function(a,b,c){var d=c(32),e=c(43);a.exports=function(a,b){b=d(b,a);for(var c=0,f=b.length;null!=a&&c<f;)a=a[e(b[c++])];return c&&c==f?a:void 0}},function(a,b,c){var d=c(16),e=c(42),f=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,g=/^\w*$/;a.exports=function(a,b){if(d(a))return!1;var c=typeof a;return!!("number"==c||"symbol"==c||"boolean"==c||null==a||e(a))||g.test(a)||!f.test(a)||null!=b&&a in Object(b)}},function(a,b,c){var d=c(147),e=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,f=/\\(\\)?/g;a.exports=d(function(a){var b=[];return 46===a.charCodeAt(0)&&b.push(""),a.replace(e,function(a,c,d,e){b.push(d?e.replace(f,"$1"):c||a)}),b})},function(a,b,c){var d=c(148);a.exports=function(a){var b=d(a,function(a){return 500===c.size&&c.clear(),a}),c=b.cache;return b}},function(a,b,c){var d=c(47);function e(a,b){if("function"!=typeof a||null!=b&&"function"!=typeof b)throw TypeError("Expected a function");var c=function(){var d=arguments,e=b?b.apply(this,d):d[0],f=c.cache;if(f.has(e))return f.get(e);var g=a.apply(this,d);return c.cache=f.set(e,g)||f,g};return c.cache=new(e.Cache||d),c}e.Cache=d,a.exports=e},function(a,b,c){var d=c(150);a.exports=function(a){return null==a?"":d(a)}},function(a,b,c){var d=c(27),e=c(151),f=c(16),g=c(42),h=1/0,i=d?d.prototype:void 0,j=i?i.toString:void 0;a.exports=function a(b){if("string"==typeof b)return b;if(f(b))return e(b,a)+"";if(g(b))return j?j.call(b):"";var c=b+"";return"0"==c&&1/b==-h?"-0":c}},function(a,b){a.exports=function(a,b){for(var c=-1,d=null==a?0:a.length,e=Array(d);++c<d;)e[c]=b(a[c],c,a);return e}},function(a,b,c){var d=c(55),e=c(32),f=c(31),g=c(15),h=c(43);a.exports=function(a,b,c,i){if(!g(a))return a;b=e(b,a);for(var j=-1,k=b.length,l=k-1,m=a;null!=m&&++j<k;){var n=h(b[j]),o=c;if("__proto__"===n||"constructor"===n||"prototype"===n)break;if(j!=l){var p=m[n];void 0===(o=i?i(p,n,m):void 0)&&(o=g(p)?p:f(b[j+1])?[]:{})}d(m,n,o),m=m[n]}return a}},function(a,b,c){var d=c(154),e=c(155);a.exports=function(a,b){return null!=a&&e(a,b,d)}},function(a,b){a.exports=function(a,b){return null!=a&&b in Object(a)}},function(a,b,c){var d=c(32),e=c(30),f=c(16),g=c(31),h=c(40),i=c(43);a.exports=function(a,b,c){b=d(b,a);for(var j=-1,k=b.length,l=!1;++j<k;){var m=i(b[j]);if(!(l=null!=a&&c(a,m)))break;a=a[m]}return l||++j!=k?l:!!(k=null==a?0:a.length)&&h(k)&&g(m,k)&&(f(a)||e(a))}},function(a,b,c){var d=c(157),e=c(58),f=c(59);a.exports=function(a){return f(e(a,void 0,d),a+"")}},function(a,b,c){var d=c(158);a.exports=function(a){return(null==a?0:a.length)?d(a,1):[]}},function(a,b,c){var d=c(159),e=c(160);a.exports=function a(b,c,f,g,h){var i=-1,j=b.length;for(f||(f=e),h||(h=[]);++i<j;){var k=b[i];c>0&&f(k)?c>1?a(k,c-1,f,g,h):d(h,k):g||(h[h.length]=k)}return h}},function(a,b){a.exports=function(a,b){for(var c=-1,d=b.length,e=a.length;++c<d;)a[e+c]=b[c];return a}},function(a,b,c){var d=c(27),e=c(30),f=c(16),g=d?d.isConcatSpreadable:void 0;a.exports=function(a){return f(a)||e(a)||!!(g&&a&&a[g])}},function(a,b){a.exports=function(a){try{return -1!==Function.toString.call(a).indexOf("[native code]")}catch(b){return"function"==typeof a}},a.exports.__esModule=!0,a.exports.default=a.exports},function(a,b,c){var d=c(41),e=c(163);function f(b,c,g){return e()?a.exports=f=Reflect.construct.bind():a.exports=f=function(a,b,c){var e=[null];e.push.apply(e,b);var f=new(Function.bind.apply(a,e));return c&&d(f,c.prototype),f},a.exports.__esModule=!0,a.exports.default=a.exports,f.apply(null,arguments)}a.exports=f,a.exports.__esModule=!0,a.exports.default=a.exports},function(a,b){a.exports=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(a){return!1}},a.exports.__esModule=!0,a.exports.default=a.exports},function(a,b){a.exports=c(4587)},function(a,b){a.exports=c(67972)},function(a,b,c){"use strict";c.r(b),c.d(b,"BarcodeDecoder",function(){return az}),c.d(b,"Readers",function(){return f}),c.d(b,"CameraAccess",function(){return aK}),c.d(b,"ImageDebug",function(){return p.a}),c.d(b,"ImageWrapper",function(){return k.a}),c.d(b,"ResultCollector",function(){return aL});var d,e,f={};c.r(f),c.d(f,"BarcodeReader",function(){return G}),c.d(f,"TwoOfFiveReader",function(){return L}),c.d(f,"NewCodabarReader",function(){return P}),c.d(f,"Code128Reader",function(){return Q}),c.d(f,"Code32Reader",function(){return Z}),c.d(f,"Code39Reader",function(){return X}),c.d(f,"Code39VINReader",function(){return aa}),c.d(f,"Code93Reader",function(){return ad}),c.d(f,"EAN2Reader",function(){return am}),c.d(f,"EAN5Reader",function(){return ao}),c.d(f,"EAN8Reader",function(){return ap}),c.d(f,"EANReader",function(){return al}),c.d(f,"I2of5Reader",function(){return aq}),c.d(f,"UPCEReader",function(){return as}),c.d(f,"UPCReader",function(){return at});var g=c(13),h=c.n(g),i=c(18),j=c.n(i);c(132);var k=c(10),l=c(11),m=c.n(l),n=c(8),o=c.n(n),p=c(17),q=c(3),r=c.n(q),s=c(4),t=c.n(s),u=c(1),v=c.n(u),w=c(7),x=c.n(w),y=c(6),z=c.n(y),A=c(2),B=c.n(A),C=c(0),D=c.n(C),E=c(9),F=((d={})[d.Forward=1]="Forward",d[d.Reverse=-1]="Reverse",d),G=function(){function a(b,c){r()(this,a),D()(this,"_row",[]),D()(this,"config",{}),D()(this,"supplements",[]),D()(this,"SINGLE_CODE_ERROR",0),D()(this,"FORMAT","unknown"),D()(this,"CONFIG_KEYS",{}),this._row=[],this.config=b||{},c&&(this.supplements=c)}return t()(a,[{key:"_nextUnset",value:function(a){for(var b=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,c=b;c<a.length;c++)if(!a[c])return c;return a.length}},{key:"_matchPattern",value:function(a,b){for(var c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.SINGLE_CODE_ERROR||1,d=0,e=0,f=0,g=0,h=0,i=0,j=0,k=0;k<a.length;k++)f+=a[k],g+=b[k];if(f<g)return Number.MAX_VALUE;c*=h=f/g;for(var l=0;l<a.length;l++){if((e=Math.abs((i=a[l])-(j=b[l]*h))/j)>c)return Number.MAX_VALUE;d+=e}return d/g}},{key:"_nextSet",value:function(a){for(var b=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,c=b;c<a.length;c++)if(a[c])return c;return a.length}},{key:"_correctBars",value:function(a,b,c){for(var d=c.length,e=0;d--;)(e=a[c[d]]*(1-(1-b)/2))>1&&(a[c[d]]=e)}},{key:"decodePattern",value:function(a){this._row=a;var b=this.decode();return null===b?(this._row.reverse(),(b=this.decode())&&(b.direction=F.Reverse,b.start=this._row.length-b.start,b.end=this._row.length-b.end)):b.direction=F.Forward,b&&(b.format=this.FORMAT),b}},{key:"_matchRange",value:function(a,b,c){var d;for(d=a=a<0?0:a;d<b;d++)if(this._row[d]!==c)return!1;return!0}},{key:"_fillCounters",value:function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this._nextUnset(this._row),b=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._row.length,c=!(arguments.length>2)||void 0===arguments[2]||arguments[2],d=[],e=0;d[0]=0;for(var f=a;f<b;f++)!!c^this._row[f]?d[e]++:(d[++e]=1,c=!c);return d}},{key:"_toCounters",value:function(a,b){var c=b.length,d=this._row.length,e=!this._row[a],f=0;E.a.init(b,0);for(var g=a;g<d;g++)if(!!e^this._row[g])b[f]++;else{if(++f===c)break;b[f]=1,e=!e}return b}},{key:"decodeImage",value:function(a){return null}}],[{key:"Exception",get:function(){return{StartNotFoundException:"Start-Info was not found!",CodeNotFoundException:"Code could not be found!",PatternNotFoundException:"Pattern could not be found!"}}}]),a}(),H=[3,1,3,1,1,1],I=[3,1,1,1,3],J=[[1,1,3,3,1],[3,1,1,1,3],[1,3,1,1,3],[3,3,1,1,1],[1,1,3,1,3],[3,1,3,1,1],[1,3,3,1,1],[1,1,1,3,3],[3,1,1,3,1],[1,3,1,3,1]],K=H.reduce(function(a,b){return a+b},0),L=function(a){x()(d,a);var b,c=(b=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(a){return!1}}(),function(){var a,c=B()(d);return a=b?Reflect.construct(c,arguments,B()(this).constructor):c.apply(this,arguments),z()(this,a)});function d(){var a;r()(this,d);for(var b=arguments.length,e=Array(b),f=0;f<b;f++)e[f]=arguments[f];return a=c.call.apply(c,[this].concat(e)),D()(v()(a),"barSpaceRatio",[1,1]),D()(v()(a),"FORMAT","2of5"),D()(v()(a),"SINGLE_CODE_ERROR",.78),D()(v()(a),"AVG_CODE_ERROR",.3),a}return t()(d,[{key:"_findPattern",value:function(a,b){var c=arguments.length>2&&void 0!==arguments[2]&&arguments[2],d=arguments.length>3&&void 0!==arguments[3]&&arguments[3],e=[],f=0,g={error:Number.MAX_VALUE,code:-1,start:0,end:0},h=0,i=0,j=this.AVG_CODE_ERROR;b||(b=this._nextSet(this._row));for(var k=0;k<a.length;k++)e[k]=0;for(var l=b;l<this._row.length;l++)if(!!c^this._row[l])e[f]++;else{if(f===e.length-1){h=0;for(var m=0;m<e.length;m++)h+=e[m];if((i=this._matchPattern(e,a))<j)return g.error=i,g.start=l-h,g.end=l,g;if(!d)return null;for(var n=0;n<e.length-2;n++)e[n]=e[n+2];e[e.length-2]=0,e[e.length-1]=0,f--}else f++;e[f]=1,c=!c}return null}},{key:"_findStart",value:function(){for(var a=null,b=this._nextSet(this._row),c=1,d=0;!a;){if(!(a=this._findPattern(H,b,!1,!0)))return null;if(c=Math.floor((a.end-a.start)/K),(d=a.start-5*c)>=0&&this._matchRange(d,a.start,0))break;b=a.end,a=null}return a}},{key:"_verifyTrailingWhitespace",value:function(a){var b=a.end+(a.end-a.start)/2;return b<this._row.length&&this._matchRange(a.end,b,0)?a:null}},{key:"_findEnd",value:function(){this._row.reverse();var a=this._nextSet(this._row),b=this._findPattern(I,a,!1,!0);if(this._row.reverse(),null===b)return null;var c=b.start;return b.start=this._row.length-b.end,b.end=this._row.length-c,null!==b?this._verifyTrailingWhitespace(b):null}},{key:"_verifyCounterLength",value:function(a){return a.length%10==0}},{key:"_decodeCode",value:function(a){for(var b=this.AVG_CODE_ERROR,c={error:Number.MAX_VALUE,code:-1,start:0,end:0},d=0;d<J.length;d++){var e=this._matchPattern(a,J[d]);e<c.error&&(c.code=d,c.error=e)}return c.error<b?c:null}},{key:"_decodePayload",value:function(a,b,c){for(var d=0,e=a.length,f=[0,0,0,0,0],g=null;d<e;){for(var h=0;h<5;h++)f[h]=a[d]*this.barSpaceRatio[0],d+=2;if(!(g=this._decodeCode(f)))return null;b.push("".concat(g.code)),c.push(g)}return g}},{key:"decode",value:function(a,b){var c=this._findStart();if(!c)return null;var d=this._findEnd();if(!d)return null;var e=this._fillCounters(c.end,d.start,!1);if(!this._verifyCounterLength(e))return null;var f=[];f.push(c);var g=[];return!this._decodePayload(e,g,f)||g.length<5?null:(f.push(d),{code:g.join(""),start:c.start,end:d.end,startInfo:c,decodedCodes:f,format:this.FORMAT})}}]),d}(G),M=[48,49,50,51,52,53,54,55,56,57,45,36,58,47,46,43,65,66,67,68],N=[3,6,9,96,18,66,33,36,48,72,12,24,69,81,84,21,26,41,11,14],O=[26,41,11,14],P=function(a){x()(d,a);var b,c=(b=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(a){return!1}}(),function(){var a,c=B()(d);return a=b?Reflect.construct(c,arguments,B()(this).constructor):c.apply(this,arguments),z()(this,a)});function d(){var a;r()(this,d);for(var b=arguments.length,e=Array(b),f=0;f<b;f++)e[f]=arguments[f];return a=c.call.apply(c,[this].concat(e)),D()(v()(a),"_counters",[]),D()(v()(a),"FORMAT","codabar"),a}return t()(d,[{key:"_computeAlternatingThreshold",value:function(a,b){for(var c=Number.MAX_VALUE,d=0,e=0,f=a;f<b;f+=2)(e=this._counters[f])>d&&(d=e),e<c&&(c=e);return(c+d)/2|0}},{key:"_toPattern",value:function(a){var b=a+7;if(b>this._counters.length)return -1;for(var c=this._computeAlternatingThreshold(a,b),d=this._computeAlternatingThreshold(a+1,b),e=64,f=0,g=0,h=0;h<7;h++)f=(1&h)==0?c:d,this._counters[a+h]>f&&(g|=e),e>>=1;return g}},{key:"_isStartEnd",value:function(a){for(var b=0;b<O.length;b++)if(O[b]===a)return!0;return!1}},{key:"_sumCounters",value:function(a,b){for(var c=0,d=a;d<b;d++)c+=this._counters[d];return c}},{key:"_findStart",value:function(){for(var a=this._nextUnset(this._row),b=a,c=1;c<this._counters.length;c++){var d=this._toPattern(c);if(-1!==d&&this._isStartEnd(d))return a+=this._sumCounters(0,c),b=a+this._sumCounters(c,c+8),{start:a,end:b,startCounter:c,endCounter:c+8}}return null}},{key:"_patternToChar",value:function(a){for(var b=0;b<N.length;b++)if(N[b]===a)return String.fromCharCode(M[b]);return null}},{key:"_calculatePatternLength",value:function(a){for(var b=0,c=a;c<a+7;c++)b+=this._counters[c];return b}},{key:"_verifyWhitespace",value:function(a,b){return!!((a-1<=0||this._counters[a-1]>=this._calculatePatternLength(a)/2)&&(b+8>=this._counters.length||this._counters[b+7]>=this._calculatePatternLength(b)/2))}},{key:"_charToPattern",value:function(a){for(var b=a.charCodeAt(0),c=0;c<M.length;c++)if(M[c]===b)return N[c];return 0}},{key:"_thresholdResultPattern",value:function(a,b){for(var c,d={space:{narrow:{size:0,counts:0,min:0,max:Number.MAX_VALUE},wide:{size:0,counts:0,min:0,max:Number.MAX_VALUE}},bar:{narrow:{size:0,counts:0,min:0,max:Number.MAX_VALUE},wide:{size:0,counts:0,min:0,max:Number.MAX_VALUE}}},e=b,f=0;f<a.length;f++){c=this._charToPattern(a[f]);for(var g=6;g>=0;g--){var h=(1&g)==2?d.bar:d.space,i=(1&c)==1?h.wide:h.narrow;i.size+=this._counters[e+g],i.counts++,c>>=1}e+=8}return["space","bar"].forEach(function(a){var b=d[a];b.wide.min=Math.floor((b.narrow.size/b.narrow.counts+b.wide.size/b.wide.counts)/2),b.narrow.max=Math.ceil(b.wide.min),b.wide.max=Math.ceil((2*b.wide.size+1.5)/b.wide.counts)}),d}},{key:"_validateResult",value:function(a,b){for(var c,d=this._thresholdResultPattern(a,b),e=b,f=0;f<a.length;f++){c=this._charToPattern(a[f]);for(var g=6;g>=0;g--){var h=(1&g)==0?d.bar:d.space,i=(1&c)==1?h.wide:h.narrow,j=this._counters[e+g];if(j<i.min||j>i.max)return!1;c>>=1}e+=8}return!0}},{key:"decode",value:function(a,b){if(this._counters=this._fillCounters(),!(b=this._findStart()))return null;var c,d=b.startCounter,e=[];do{if((c=this._toPattern(d))<0)return null;var f=this._patternToChar(c);if(null===f)return null;if(e.push(f),d+=8,e.length>1&&this._isStartEnd(c))break}while(d<this._counters.length);if(e.length-2<4||!this._isStartEnd(c)||!this._verifyWhitespace(b.startCounter,d-8)||!this._validateResult(e,b.startCounter))return null;d=d>this._counters.length?this._counters.length:d;var g=b.start+this._sumCounters(b.startCounter,d-8);return{code:e.join(""),start:b.start,end:g,startInfo:b,decodedCodes:e,format:this.FORMAT}}}]),d}(G),Q=function(a){x()(d,a);var b,c=(b=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(a){return!1}}(),function(){var a,c=B()(d);return a=b?Reflect.construct(c,arguments,B()(this).constructor):c.apply(this,arguments),z()(this,a)});function d(){var a;r()(this,d);for(var b=arguments.length,e=Array(b),f=0;f<b;f++)e[f]=arguments[f];return a=c.call.apply(c,[this].concat(e)),D()(v()(a),"CODE_SHIFT",98),D()(v()(a),"CODE_C",99),D()(v()(a),"CODE_B",100),D()(v()(a),"CODE_A",101),D()(v()(a),"START_CODE_A",103),D()(v()(a),"START_CODE_B",104),D()(v()(a),"START_CODE_C",105),D()(v()(a),"STOP_CODE",106),D()(v()(a),"CODE_PATTERN",[[2,1,2,2,2,2],[2,2,2,1,2,2],[2,2,2,2,2,1],[1,2,1,2,2,3],[1,2,1,3,2,2],[1,3,1,2,2,2],[1,2,2,2,1,3],[1,2,2,3,1,2],[1,3,2,2,1,2],[2,2,1,2,1,3],[2,2,1,3,1,2],[2,3,1,2,1,2],[1,1,2,2,3,2],[1,2,2,1,3,2],[1,2,2,2,3,1],[1,1,3,2,2,2],[1,2,3,1,2,2],[1,2,3,2,2,1],[2,2,3,2,1,1],[2,2,1,1,3,2],[2,2,1,2,3,1],[2,1,3,2,1,2],[2,2,3,1,1,2],[3,1,2,1,3,1],[3,1,1,2,2,2],[3,2,1,1,2,2],[3,2,1,2,2,1],[3,1,2,2,1,2],[3,2,2,1,1,2],[3,2,2,2,1,1],[2,1,2,1,2,3],[2,1,2,3,2,1],[2,3,2,1,2,1],[1,1,1,3,2,3],[1,3,1,1,2,3],[1,3,1,3,2,1],[1,1,2,3,1,3],[1,3,2,1,1,3],[1,3,2,3,1,1],[2,1,1,3,1,3],[2,3,1,1,1,3],[2,3,1,3,1,1],[1,1,2,1,3,3],[1,1,2,3,3,1],[1,3,2,1,3,1],[1,1,3,1,2,3],[1,1,3,3,2,1],[1,3,3,1,2,1],[3,1,3,1,2,1],[2,1,1,3,3,1],[2,3,1,1,3,1],[2,1,3,1,1,3],[2,1,3,3,1,1],[2,1,3,1,3,1],[3,1,1,1,2,3],[3,1,1,3,2,1],[3,3,1,1,2,1],[3,1,2,1,1,3],[3,1,2,3,1,1],[3,3,2,1,1,1],[3,1,4,1,1,1],[2,2,1,4,1,1],[4,3,1,1,1,1],[1,1,1,2,2,4],[1,1,1,4,2,2],[1,2,1,1,2,4],[1,2,1,4,2,1],[1,4,1,1,2,2],[1,4,1,2,2,1],[1,1,2,2,1,4],[1,1,2,4,1,2],[1,2,2,1,1,4],[1,2,2,4,1,1],[1,4,2,1,1,2],[1,4,2,2,1,1],[2,4,1,2,1,1],[2,2,1,1,1,4],[4,1,3,1,1,1],[2,4,1,1,1,2],[1,3,4,1,1,1],[1,1,1,2,4,2],[1,2,1,1,4,2],[1,2,1,2,4,1],[1,1,4,2,1,2],[1,2,4,1,1,2],[1,2,4,2,1,1],[4,1,1,2,1,2],[4,2,1,1,1,2],[4,2,1,2,1,1],[2,1,2,1,4,1],[2,1,4,1,2,1],[4,1,2,1,2,1],[1,1,1,1,4,3],[1,1,1,3,4,1],[1,3,1,1,4,1],[1,1,4,1,1,3],[1,1,4,3,1,1],[4,1,1,1,1,3],[4,1,1,3,1,1],[1,1,3,1,4,1],[1,1,4,1,3,1],[3,1,1,1,4,1],[4,1,1,1,3,1],[2,1,1,4,1,2],[2,1,1,2,1,4],[2,1,1,2,3,2],[2,3,3,1,1,1,2]]),D()(v()(a),"SINGLE_CODE_ERROR",.64),D()(v()(a),"AVG_CODE_ERROR",.3),D()(v()(a),"FORMAT","code_128"),D()(v()(a),"MODULE_INDICES",{bar:[0,2,4],space:[1,3,5]}),a}return t()(d,[{key:"_decodeCode",value:function(a,b){for(var c={error:Number.MAX_VALUE,code:-1,start:a,end:a,correction:{bar:1,space:1}},d=[0,0,0,0,0,0],e=!this._row[a],f=0,g=a;g<this._row.length;g++)if(!!e^this._row[g])d[f]++;else{if(f===d.length-1){b&&this._correct(d,b);for(var h=0;h<this.CODE_PATTERN.length;h++){var i=this._matchPattern(d,this.CODE_PATTERN[h]);i<c.error&&(c.code=h,c.error=i)}if(c.end=g,-1===c.code||c.error>this.AVG_CODE_ERROR)return null;return this.CODE_PATTERN[c.code]&&(c.correction.bar=this.calculateCorrection(this.CODE_PATTERN[c.code],d,this.MODULE_INDICES.bar),c.correction.space=this.calculateCorrection(this.CODE_PATTERN[c.code],d,this.MODULE_INDICES.space)),c}d[++f]=1,e=!e}return null}},{key:"_correct",value:function(a,b){this._correctBars(a,b.bar,this.MODULE_INDICES.bar),this._correctBars(a,b.space,this.MODULE_INDICES.space)}},{key:"_findStart",value:function(){for(var a=[0,0,0,0,0,0],b=this._nextSet(this._row),c={error:Number.MAX_VALUE,code:-1,start:0,end:0,correction:{bar:1,space:1}},d=!1,e=0,f=b;f<this._row.length;f++)if(!!d^this._row[f])a[e]++;else{if(e===a.length-1){for(var g=a.reduce(function(a,b){return a+b},0),h=this.START_CODE_A;h<=this.START_CODE_C;h++){var i=this._matchPattern(a,this.CODE_PATTERN[h]);i<c.error&&(c.code=h,c.error=i)}if(c.error<this.AVG_CODE_ERROR)return c.start=f-g,c.end=f,c.correction.bar=this.calculateCorrection(this.CODE_PATTERN[c.code],a,this.MODULE_INDICES.bar),c.correction.space=this.calculateCorrection(this.CODE_PATTERN[c.code],a,this.MODULE_INDICES.space),c;for(var j=0;j<4;j++)a[j]=a[j+2];a[4]=0,a[5]=0,e--}else e++;a[e]=1,d=!d}return null}},{key:"decode",value:function(a,b){var c=this,d=this._findStart();if(null===d)return null;var e={code:d.code,start:d.start,end:d.end,correction:{bar:d.correction.bar,space:d.correction.space}},f=[];f.push(e);for(var g=e.code,h=function(a){switch(a){case c.START_CODE_A:return c.CODE_A;case c.START_CODE_B:return c.CODE_B;case c.START_CODE_C:return c.CODE_C;default:return null}}(e.code),i=!1,j=!1,k=!1,l=!0,m=0,n=[],o=[];!i;){if(k=j,j=!1,null!==(e=this._decodeCode(e.end,e.correction)))switch(e.code!==this.STOP_CODE&&(l=!0),e.code!==this.STOP_CODE&&(n.push(e.code),g+=++m*e.code),f.push(e),h){case this.CODE_A:if(e.code<64)o.push(String.fromCharCode(32+e.code));else if(e.code<96)o.push(String.fromCharCode(e.code-64));else switch(e.code!==this.STOP_CODE&&(l=!1),e.code){case this.CODE_SHIFT:j=!0,h=this.CODE_B;break;case this.CODE_B:h=this.CODE_B;break;case this.CODE_C:h=this.CODE_C;break;case this.STOP_CODE:i=!0}break;case this.CODE_B:if(e.code<96)o.push(String.fromCharCode(32+e.code));else switch(e.code!==this.STOP_CODE&&(l=!1),e.code){case this.CODE_SHIFT:j=!0,h=this.CODE_A;break;case this.CODE_A:h=this.CODE_A;break;case this.CODE_C:h=this.CODE_C;break;case this.STOP_CODE:i=!0}break;case this.CODE_C:if(e.code<100)o.push(e.code<10?"0"+e.code:e.code);else switch(e.code!==this.STOP_CODE&&(l=!1),e.code){case this.CODE_A:h=this.CODE_A;break;case this.CODE_B:h=this.CODE_B;break;case this.STOP_CODE:i=!0}}else i=!0;k&&(h=h===this.CODE_A?this.CODE_B:this.CODE_A)}return null===e?null:(e.end=this._nextUnset(this._row,e.end),this._verifyTrailingWhitespace(e)&&(g-=m*n[n.length-1])%103===n[n.length-1]&&o.length)?(l&&o.splice(o.length-1,1),{code:o.join(""),start:d.start,end:e.end,codeset:h,startInfo:d,decodedCodes:f,endInfo:e,format:this.FORMAT}):null}},{key:"_verifyTrailingWhitespace",value:function(a){var b;return(b=a.end+(a.end-a.start)/2)<this._row.length&&this._matchRange(a.end,b,0)?a:null}},{key:"calculateCorrection",value:function(a,b,c){for(var d=c.length,e=0,f=0;d--;)f+=a[c[d]],e+=b[c[d]];return f/e}}]),d}(G),R=c(14),S=c.n(R),T=c(34),U=c.n(T),V=new Uint16Array(U()("0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. *$/+%").map(function(a){return a.charCodeAt(0)})),W=new Uint16Array([52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,148,168,162,138,42]),X=function(a){x()(d,a);var b,c=(b=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(a){return!1}}(),function(){var a,c=B()(d);return a=b?Reflect.construct(c,arguments,B()(this).constructor):c.apply(this,arguments),z()(this,a)});function d(){var a;r()(this,d);for(var b=arguments.length,e=Array(b),f=0;f<b;f++)e[f]=arguments[f];return a=c.call.apply(c,[this].concat(e)),D()(v()(a),"FORMAT","code_39"),a}return t()(d,[{key:"_findStart",value:function(){for(var a=this._nextSet(this._row),b=a,c=new Uint16Array([0,0,0,0,0,0,0,0,0]),d=0,e=!1,f=a;f<this._row.length;f++)if(!!e^this._row[f])c[d]++;else{if(d===c.length-1){if(148===this._toPattern(c)){var g=Math.floor(Math.max(0,b-(f-b)/4));if(this._matchRange(g,b,0))return{start:b,end:f}}b+=c[0]+c[1];for(var h=0;h<7;h++)c[h]=c[h+2];c[7]=0,c[8]=0,d--}else d++;c[d]=1,e=!e}return null}},{key:"_toPattern",value:function(a){for(var b=a.length,c=0,d=b,e=0;d>3;){c=this._findNextWidth(a,c),d=0;for(var f=0,g=0;g<b;g++)a[g]>c&&(f|=1<<b-1-g,d++,e+=a[g]);if(3===d){for(var h=0;h<b&&d>0;h++)if(a[h]>c&&(d--,2*a[h]>=e))return -1;return f}}return -1}},{key:"_findNextWidth",value:function(a,b){for(var c=Number.MAX_VALUE,d=0;d<a.length;d++)a[d]<c&&a[d]>b&&(c=a[d]);return c}},{key:"_patternToChar",value:function(a){for(var b=0;b<W.length;b++)if(W[b]===a)return String.fromCharCode(V[b]);return null}},{key:"_verifyTrailingWhitespace",value:function(a,b,c){var d=E.a.sum(c);return 3*(b-a-d)>=d}},{key:"decode",value:function(){var a,b,c=new Uint16Array([0,0,0,0,0,0,0,0,0]),d=[],e=this._findStart();if(!e)return null;var f=this._nextSet(this._row,e.end);do{c=this._toCounters(f,c);var g=this._toPattern(c);if(g<0||null===(a=this._patternToChar(g)))return null;d.push(a),b=f,f+=E.a.sum(c),f=this._nextSet(this._row,f)}while("*"!==a);return(d.pop(),d.length&&this._verifyTrailingWhitespace(b,f,c))?{code:d.join(""),start:e.start,end:f,startInfo:e,decodedCodes:d,format:this.FORMAT}:null}}]),d}(G),Y=/[AEIO]/g,Z=function(a){x()(d,a);var b,c=(b=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(a){return!1}}(),function(){var a,c=B()(d);return a=b?Reflect.construct(c,arguments,B()(this).constructor):c.apply(this,arguments),z()(this,a)});function d(){var a;r()(this,d);for(var b=arguments.length,e=Array(b),f=0;f<b;f++)e[f]=arguments[f];return a=c.call.apply(c,[this].concat(e)),D()(v()(a),"FORMAT","code_32_reader"),a}return t()(d,[{key:"_decodeCode32",value:function(a){if(/[^0-9BCDFGHJKLMNPQRSTUVWXYZ]/.test(a))return null;for(var b=0,c=0;c<a.length;c++)b=32*b+"0123456789BCDFGHJKLMNPQRSTUVWXYZ".indexOf(a[c]);var d="".concat(b);return d.length<9&&(d=("000000000"+d).slice(-9)),"A"+d}},{key:"_checkChecksum",value:function(a){return!!a}},{key:"decode",value:function(){var a=S()(B()(d.prototype),"decode",this).call(this);if(!a)return null;var b=a.code;if(!b||(b=b.replace(Y,""),!this._checkChecksum(b)))return null;var c=this._decodeCode32(b);return c?(a.code=c,a):null}}]),d}(X),$=/[IOQ]/g,_=/[A-Z0-9]{17}/,aa=function(a){x()(d,a);var b,c=(b=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(a){return!1}}(),function(){var a,c=B()(d);return a=b?Reflect.construct(c,arguments,B()(this).constructor):c.apply(this,arguments),z()(this,a)});function d(){var a;r()(this,d);for(var b=arguments.length,e=Array(b),f=0;f<b;f++)e[f]=arguments[f];return a=c.call.apply(c,[this].concat(e)),D()(v()(a),"FORMAT","code_39_vin"),a}return t()(d,[{key:"_checkChecksum",value:function(a){return!!a}},{key:"decode",value:function(){var a=S()(B()(d.prototype),"decode",this).call(this);if(!a)return null;var b=a.code;return b&&(b=b.replace($,"")).match(_)&&this._checkChecksum(b)?(a.code=b,a):null}}]),d}(X),ab=new Uint16Array(U()("0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%abcd*").map(function(a){return a.charCodeAt(0)})),ac=new Uint16Array([276,328,324,322,296,292,290,336,274,266,424,420,418,404,402,394,360,356,354,308,282,344,332,326,300,278,436,434,428,422,406,410,364,358,310,314,302,468,466,458,366,374,430,294,474,470,306,350]),ad=function(a){x()(d,a);var b,c=(b=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(a){return!1}}(),function(){var a,c=B()(d);return a=b?Reflect.construct(c,arguments,B()(this).constructor):c.apply(this,arguments),z()(this,a)});function d(){var a;r()(this,d);for(var b=arguments.length,e=Array(b),f=0;f<b;f++)e[f]=arguments[f];return a=c.call.apply(c,[this].concat(e)),D()(v()(a),"FORMAT","code_93"),a}return t()(d,[{key:"_patternToChar",value:function(a){for(var b=0;b<ac.length;b++)if(ac[b]===a)return String.fromCharCode(ab[b]);return null}},{key:"_toPattern",value:function(a){for(var b=a.length,c=a.reduce(function(a,b){return a+b},0),d=0,e=0;e<b;e++){var f=Math.round(9*a[e]/c);if(f<1||f>4)return -1;if((1&e)==0)for(var g=0;g<f;g++)d=d<<1|1;else d<<=f}return d}},{key:"_findStart",value:function(){for(var a=this._nextSet(this._row),b=a,c=new Uint16Array([0,0,0,0,0,0]),d=0,e=!1,f=a;f<this._row.length;f++)if(!!e^this._row[f])c[d]++;else{if(d===c.length-1){if(350===this._toPattern(c)){var g=Math.floor(Math.max(0,b-(f-b)/4));if(this._matchRange(g,b,0))return{start:b,end:f}}b+=c[0]+c[1];for(var h=0;h<4;h++)c[h]=c[h+2];c[4]=0,c[5]=0,d--}else d++;c[d]=1,e=!e}return null}},{key:"_verifyEnd",value:function(a,b){return a!==b&&!!this._row[b]}},{key:"_decodeExtended",value:function(a){for(var b=a.length,c=[],d=0;d<b;d++){var e=a[d];if(e>="a"&&e<="d"){if(d>b-2)return null;var f=a[++d],g=f.charCodeAt(0),h=void 0;switch(e){case"a":if(!(f>="A")||!(f<="Z"))return null;h=String.fromCharCode(g-64);break;case"b":if(f>="A"&&f<="E")h=String.fromCharCode(g-38);else if(f>="F"&&f<="J")h=String.fromCharCode(g-11);else if(f>="K"&&f<="O")h=String.fromCharCode(g+16);else if(f>="P"&&f<="S")h=String.fromCharCode(g+43);else{if(!(f>="T")||!(f<="Z"))return null;h=""}break;case"c":if(f>="A"&&f<="O")h=String.fromCharCode(g-32);else{if("Z"!==f)return null;h=":"}break;case"d":if(!(f>="A")||!(f<="Z"))return null;h=String.fromCharCode(g+32);break;default:return console.warn("* code_93_reader _decodeExtended hit default case, this may be an error",h),null}c.push(h)}else c.push(e)}return c}},{key:"_matchCheckChar",value:function(a,b,c){var d=a.slice(0,b),e=d.length;return ab[d.reduce(function(a,b,d){return a+((-1*d+(e-1))%c+1)*ab.indexOf(b.charCodeAt(0))},0)%47]===a[b].charCodeAt(0)}},{key:"_verifyChecksums",value:function(a){return this._matchCheckChar(a,a.length-2,20)&&this._matchCheckChar(a,a.length-1,15)}},{key:"decode",value:function(a,b){if(!(b=this._findStart()))return null;var c,d,e=new Uint16Array([0,0,0,0,0,0]),f=[],g=this._nextSet(this._row,b.end);do{e=this._toCounters(g,e);var h=this._toPattern(e);if(h<0||null===(d=this._patternToChar(h)))return null;f.push(d),c=g,g+=E.a.sum(e),g=this._nextSet(this._row,g)}while("*"!==d);return(f.pop(),f.length&&this._verifyEnd(c,g)&&this._verifyChecksums(f))?(f=f.slice(0,f.length-2),null===(f=this._decodeExtended(f)))?null:{code:f.join(""),start:b.start,end:g,startInfo:b,decodedCodes:f,format:this.FORMAT}:null}}]),d}(G);function ae(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);b&&(d=d.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable})),c.push.apply(c,d)}return c}function af(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{};b%2?ae(Object(c),!0).forEach(function(b){D()(a,b,c[b])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(c)):ae(Object(c)).forEach(function(b){Object.defineProperty(a,b,Object.getOwnPropertyDescriptor(c,b))})}return a}var ag=[1,1,1],ah=[1,1,1,1,1],ai=[1,1,2],aj=[[3,2,1,1],[2,2,2,1],[2,1,2,2],[1,4,1,1],[1,1,3,2],[1,2,3,1],[1,1,1,4],[1,3,1,2],[1,2,1,3],[3,1,1,2],[1,1,2,3],[1,2,2,2],[2,2,1,2],[1,1,4,1],[2,3,1,1],[1,3,2,1],[4,1,1,1],[2,1,3,1],[3,1,2,1],[2,1,1,3]],ak=[0,11,13,14,19,25,28,21,22,26],al=function(a){x()(d,a);var b,c=(b=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(a){return!1}}(),function(){var a,c=B()(d);return a=b?Reflect.construct(c,arguments,B()(this).constructor):c.apply(this,arguments),z()(this,a)});function d(a,b){var e;return r()(this,d),e=c.call(this,j()({supplements:[]},a),b),D()(v()(e),"FORMAT","ean_13"),D()(v()(e),"SINGLE_CODE_ERROR",.7),D()(v()(e),"STOP_PATTERN",[1,1,1]),e}return t()(d,[{key:"_findPattern",value:function(a,b,c,d){var e=Array(a.length).fill(0),f={error:Number.MAX_VALUE,start:0,end:0},g=0;b||(b=this._nextSet(this._row));for(var h=!1,i=b;i<this._row.length;i++)if(!!c^this._row[i])e[g]+=1;else{if(g===e.length-1){var j=this._matchPattern(e,a);if(j<.48&&f.error&&j<f.error)return h=!0,f.error=j,f.start=i-e.reduce(function(a,b){return a+b},0),f.end=i,f;if(d){for(var k=0;k<e.length-2;k++)e[k]=e[k+2];e[e.length-2]=0,e[e.length-1]=0,g--}}else g++;e[g]=1,c=!c}return h?f:null}},{key:"_decodeCode",value:function(a,b){var c=[0,0,0,0],d={error:Number.MAX_VALUE,code:-1,start:a,end:a},e=!this._row[a],f=0;b||(b=aj.length);for(var g=a;g<this._row.length;g++)if(!!e^this._row[g])c[f]++;else{if(f===c.length-1){for(var h=0;h<b;h++){var i=this._matchPattern(c,aj[h]);d.end=g,i<d.error&&(d.code=h,d.error=i)}if(d.error>.48)return null;return d}c[++f]=1,e=!e}return null}},{key:"_findStart",value:function(){for(var a=this._nextSet(this._row),b=null;!b&&(b=this._findPattern(ag,a,!1,!0));){var c=b.start-(b.end-b.start);if(c>=0&&this._matchRange(c,b.start,0))return b;a=b.end,b=null}return null}},{key:"_calculateFirstDigit",value:function(a){for(var b=0;b<ak.length;b++)if(a===ak[b])return b;return null}},{key:"_decodePayload",value:function(a,b,c){for(var d=af({},a),e=0,f=0;f<6;f++){if(!(d=this._decodeCode(d.end)))return null;d.code>=10?(d.code-=10,e|=1<<5-f):e|=0<<5-f,b.push(d.code),c.push(d)}var g=this._calculateFirstDigit(e);if(null===g)return null;b.unshift(g);var h=this._findPattern(ah,d.end,!0,!1);if(null===h||!h.end)return null;c.push(h);for(var i=0;i<6;i++){if(!(h=this._decodeCode(h.end,10)))return null;c.push(h),b.push(h.code)}return h}},{key:"_verifyTrailingWhitespace",value:function(a){var b=a.end+(a.end-a.start);return b<this._row.length&&this._matchRange(a.end,b,0)?a:null}},{key:"_findEnd",value:function(a,b){var c=this._findPattern(this.STOP_PATTERN,a,b,!1);return null!==c?this._verifyTrailingWhitespace(c):null}},{key:"_checksum",value:function(a){for(var b=0,c=a.length-2;c>=0;c-=2)b+=a[c];b*=3;for(var d=a.length-1;d>=0;d-=2)b+=a[d];return b%10==0}},{key:"_decodeExtensions",value:function(a){var b=this._nextSet(this._row,a),c=this._findPattern(ai,b,!1,!1);if(null===c)return null;for(var d=0;d<this.supplements.length;d++)try{var e=this.supplements[d].decode(this._row,c.end);if(null!==e)return{code:e.code,start:b,startInfo:c,end:e.end,decodedCodes:e.decodedCodes,format:this.supplements[d].FORMAT}}catch(a){console.error("* decodeExtensions error in ",this.supplements[d],": ",a)}return null}},{key:"decode",value:function(a,b){var c=[],d=[],e={},f=this._findStart();if(!f)return null;var g={start:f.start,end:f.end};if(d.push(g),!(g=this._decodePayload(g,c,d))||!(g=this._findEnd(g.end,!1))||(d.push(g),!this._checksum(c)))return null;if(this.supplements.length>0){var h=this._decodeExtensions(g.end);if(!h||!h.decodedCodes)return null;var i=h.decodedCodes[h.decodedCodes.length-1],j={start:i.start+((i.end-i.start)/2|0),end:i.end};if(!this._verifyTrailingWhitespace(j))return null;e={supplement:h,code:c.join("")+h.code}}return af(af({code:c.join(""),start:f.start,end:g.end,startInfo:f,decodedCodes:d},e),{},{format:this.FORMAT})}}]),d}(G),am=function(a){x()(d,a);var b,c=(b=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(a){return!1}}(),function(){var a,c=B()(d);return a=b?Reflect.construct(c,arguments,B()(this).constructor):c.apply(this,arguments),z()(this,a)});function d(){var a;r()(this,d);for(var b=arguments.length,e=Array(b),f=0;f<b;f++)e[f]=arguments[f];return a=c.call.apply(c,[this].concat(e)),D()(v()(a),"FORMAT","ean_2"),a}return t()(d,[{key:"decode",value:function(a,b){a&&(this._row=a);var c=0,d=b,e=this._row.length,f=[],g=[],h=null;if(void 0===d)return null;for(var i=0;i<2&&d<e;i++){if(!(h=this._decodeCode(d)))return null;g.push(h),f.push(h.code%10),h.code>=10&&(c|=1<<1-i),1!==i&&(d=this._nextSet(this._row,h.end),d=this._nextUnset(this._row,d))}if(2!==f.length||parseInt(f.join(""))%4!==c)return null;var j=this._findStart();return{code:f.join(""),decodedCodes:g,end:h.end,format:this.FORMAT,startInfo:j,start:j.start}}}]),d}(al),an=[24,20,18,17,12,6,3,10,9,5],ao=function(a){x()(d,a);var b,c=(b=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(a){return!1}}(),function(){var a,c=B()(d);return a=b?Reflect.construct(c,arguments,B()(this).constructor):c.apply(this,arguments),z()(this,a)});function d(){var a;r()(this,d);for(var b=arguments.length,e=Array(b),f=0;f<b;f++)e[f]=arguments[f];return a=c.call.apply(c,[this].concat(e)),D()(v()(a),"FORMAT","ean_5"),a}return t()(d,[{key:"decode",value:function(a,b){if(void 0===b)return null;a&&(this._row=a);for(var c=0,d=b,e=this._row.length,f=null,g=[],h=[],i=0;i<5&&d<e;i++){if(!(f=this._decodeCode(d)))return null;h.push(f),g.push(f.code%10),f.code>=10&&(c|=1<<4-i),4!==i&&(d=this._nextSet(this._row,f.end),d=this._nextUnset(this._row,d))}if(5!==g.length||function(a){for(var b=a.length,c=0,d=b-2;d>=0;d-=2)c+=a[d];c*=3;for(var e=b-1;e>=0;e-=2)c+=a[e];return(c*=3)%10}(g)!==function(a){for(var b=0;b<10;b++)if(a===an[b])return b;return null}(c))return null;var j=this._findStart();return{code:g.join(""),decodedCodes:h,end:f.end,format:this.FORMAT,startInfo:j,start:j.start}}}]),d}(al),ap=function(a){x()(d,a);var b,c=(b=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(a){return!1}}(),function(){var a,c=B()(d);return a=b?Reflect.construct(c,arguments,B()(this).constructor):c.apply(this,arguments),z()(this,a)});function d(){var a;r()(this,d);for(var b=arguments.length,e=Array(b),f=0;f<b;f++)e[f]=arguments[f];return a=c.call.apply(c,[this].concat(e)),D()(v()(a),"FORMAT","ean_8"),a}return t()(d,[{key:"_decodePayload",value:function(a,b,c){for(var d=a,e=0;e<4;e++){if(!(d=this._decodeCode(d.end,10)))return null;b.push(d.code),c.push(d)}if(null===(d=this._findPattern(ah,d.end,!0,!1)))return null;c.push(d);for(var f=0;f<4;f++){if(!(d=this._decodeCode(d.end,10)))return null;c.push(d),b.push(d.code)}return d}}]),d}(al),aq=function(a){x()(d,a);var b,c=(b=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(a){return!1}}(),function(){var a,c=B()(d);return a=b?Reflect.construct(c,arguments,B()(this).constructor):c.apply(this,arguments),z()(this,a)});function d(a){var b;return r()(this,d),b=c.call(this,j()({normalizeBarSpaceWidth:!1},a)),D()(v()(b),"barSpaceRatio",[1,1]),D()(v()(b),"SINGLE_CODE_ERROR",.78),D()(v()(b),"AVG_CODE_ERROR",.38),D()(v()(b),"START_PATTERN",[1,1,1,1]),D()(v()(b),"STOP_PATTERN",[1,1,3]),D()(v()(b),"CODE_PATTERN",[[1,1,3,3,1],[3,1,1,1,3],[1,3,1,1,3],[3,3,1,1,1],[1,1,3,1,3],[3,1,3,1,1],[1,3,3,1,1],[1,1,1,3,3],[3,1,1,3,1],[1,3,1,3,1]]),D()(v()(b),"MAX_CORRECTION_FACTOR",5),D()(v()(b),"FORMAT","i2of5"),a.normalizeBarSpaceWidth&&(b.SINGLE_CODE_ERROR=.38,b.AVG_CODE_ERROR=.09),b.config=a,z()(b,v()(b))}return t()(d,[{key:"_matchPattern",value:function(a,b){if(this.config.normalizeBarSpaceWidth){for(var c=[0,0],e=[0,0],f=[0,0],g=this.MAX_CORRECTION_FACTOR,h=1/g,i=0;i<a.length;i++)c[i%2]+=a[i],e[i%2]+=b[i];f[0]=e[0]/c[0],f[1]=e[1]/c[1],f[0]=Math.max(Math.min(f[0],g),h),f[1]=Math.max(Math.min(f[1],g),h),this.barSpaceRatio=f;for(var j=0;j<a.length;j++)a[j]*=this.barSpaceRatio[j%2]}return S()(B()(d.prototype),"_matchPattern",this).call(this,a,b)}},{key:"_findPattern",value:function(a,b){var c=arguments.length>2&&void 0!==arguments[2]&&arguments[2],d=arguments.length>3&&void 0!==arguments[3]&&arguments[3],e=Array(a.length).fill(0),f=0,g={error:Number.MAX_VALUE,start:0,end:0},h=this.AVG_CODE_ERROR;c=c||!1,d=d||!1,b||(b=this._nextSet(this._row));for(var i=b;i<this._row.length;i++)if(!!c^this._row[i])e[f]++;else{if(f===e.length-1){var j=e.reduce(function(a,b){return a+b},0),k=this._matchPattern(e,a);if(k<h)return g.error=k,g.start=i-j,g.end=i,g;if(!d)return null;for(var l=0;l<e.length-2;l++)e[l]=e[l+2];e[e.length-2]=0,e[e.length-1]=0,f--}else f++;e[f]=1,c=!c}return null}},{key:"_findStart",value:function(){for(var a=0,b=this._nextSet(this._row),c=null,d=1;!c&&(c=this._findPattern(this.START_PATTERN,b,!1,!0));){if(d=Math.floor((c.end-c.start)/4),(a=c.start-10*d)>=0&&this._matchRange(a,c.start,0))return c;b=c.end,c=null}return null}},{key:"_verifyTrailingWhitespace",value:function(a){var b=a.end+(a.end-a.start)/2;return b<this._row.length&&this._matchRange(a.end,b,0)?a:null}},{key:"_findEnd",value:function(){this._row.reverse();var a=this._findPattern(this.STOP_PATTERN);if(this._row.reverse(),null===a)return null;var b=a.start;return a.start=this._row.length-a.end,a.end=this._row.length-b,null!==a?this._verifyTrailingWhitespace(a):null}},{key:"_decodePair",value:function(a){for(var b=[],c=0;c<a.length;c++){var d=this._decodeCode(a[c]);if(!d)return null;b.push(d)}return b}},{key:"_decodeCode",value:function(a){for(var b=this.AVG_CODE_ERROR,c={error:Number.MAX_VALUE,code:-1,start:0,end:0},d=0;d<this.CODE_PATTERN.length;d++){var e=this._matchPattern(a,this.CODE_PATTERN[d]);e<c.error&&(c.code=d,c.error=e)}return c.error<b?c:null}},{key:"_decodePayload",value:function(a,b,c){for(var d=0,e=a.length,f=[[0,0,0,0,0],[0,0,0,0,0]],g=null;d<e;){for(var h=0;h<5;h++)f[0][h]=a[d]*this.barSpaceRatio[0],f[1][h]=a[d+1]*this.barSpaceRatio[1],d+=2;if(!(g=this._decodePair(f)))return null;for(var i=0;i<g.length;i++)b.push(g[i].code+""),c.push(g[i])}return g}},{key:"_verifyCounterLength",value:function(a){return a.length%10==0}},{key:"decode",value:function(a,b){var c=[],d=[],e=this._findStart();if(!e)return null;d.push(e);var f=this._findEnd();if(!f)return null;var g=this._fillCounters(e.end,f.start,!1);return this._verifyCounterLength(g)&&this._decodePayload(g,c,d)&&c.length%2==0&&!(c.length<6)?(d.push(f),{code:c.join(""),start:e.start,end:f.end,startInfo:e,decodedCodes:d,format:this.FORMAT}):null}}]),d}(G);function ar(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);b&&(d=d.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable})),c.push.apply(c,d)}return c}var as=function(a){x()(d,a);var b,c=(b=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(a){return!1}}(),function(){var a,c=B()(d);return a=b?Reflect.construct(c,arguments,B()(this).constructor):c.apply(this,arguments),z()(this,a)});function d(){var a;r()(this,d);for(var b=arguments.length,e=Array(b),f=0;f<b;f++)e[f]=arguments[f];return a=c.call.apply(c,[this].concat(e)),D()(v()(a),"CODE_FREQUENCY",[[56,52,50,49,44,38,35,42,41,37],[7,11,13,14,19,25,28,21,22,26]]),D()(v()(a),"STOP_PATTERN",[1/6*7,1/6*7,1/6*7,1/6*7,1/6*7,1/6*7]),D()(v()(a),"FORMAT","upc_e"),a}return t()(d,[{key:"_decodePayload",value:function(a,b,c){for(var d=function(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{};b%2?ar(Object(c),!0).forEach(function(b){D()(a,b,c[b])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(c)):ar(Object(c)).forEach(function(b){Object.defineProperty(a,b,Object.getOwnPropertyDescriptor(c,b))})}return a}({},a),e=0,f=0;f<6;f++){if(!(d=this._decodeCode(d.end)))return null;d.code>=10&&(d.code=d.code-10,e|=1<<5-f),b.push(d.code),c.push(d)}return this._determineParity(e,b)?d:null}},{key:"_determineParity",value:function(a,b){for(var c=0;c<this.CODE_FREQUENCY.length;c++)for(var d=0;d<this.CODE_FREQUENCY[c].length;d++)if(a===this.CODE_FREQUENCY[c][d])return b.unshift(c),b.push(d),!0;return!1}},{key:"_convertToUPCA",value:function(a){var b=[a[0]],c=a[a.length-2];return(b=c<=2?b.concat(a.slice(1,3)).concat([c,0,0,0,0]).concat(a.slice(3,6)):3===c?b.concat(a.slice(1,4)).concat([0,0,0,0,0]).concat(a.slice(4,6)):4===c?b.concat(a.slice(1,5)).concat([0,0,0,0,0,a[5]]):b.concat(a.slice(1,6)).concat([0,0,0,0,c])).push(a[a.length-1]),b}},{key:"_checksum",value:function(a){return S()(B()(d.prototype),"_checksum",this).call(this,this._convertToUPCA(a))}},{key:"_findEnd",value:function(a,b){return S()(B()(d.prototype),"_findEnd",this).call(this,a,!0)}},{key:"_verifyTrailingWhitespace",value:function(a){var b=a.end+(a.end-a.start)/2;return b<this._row.length&&this._matchRange(a.end,b,0)?a:null}}]),d}(al),at=function(a){x()(d,a);var b,c=(b=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(a){return!1}}(),function(){var a,c=B()(d);return a=b?Reflect.construct(c,arguments,B()(this).constructor):c.apply(this,arguments),z()(this,a)});function d(){var a;r()(this,d);for(var b=arguments.length,e=Array(b),f=0;f<b;f++)e[f]=arguments[f];return a=c.call.apply(c,[this].concat(e)),D()(v()(a),"FORMAT","upc_a"),a}return t()(d,[{key:"decode",value:function(a,b){var c=al.prototype.decode.call(this);return c&&c.code&&13===c.code.length&&"0"===c.code.charAt(0)?(c.code=c.code.substring(1),c):null}}]),d}(al),au={},av=1,aw=-1;function ax(a,b){(null==b||b>a.length)&&(b=a.length);for(var c=0,d=Array(b);c<b;c++)d[c]=a[c];return d}au.getBarcodeLine=function(a,b,c){var d,e,f,g,h,i=0|b.x,j=0|b.y,k=0|c.x,l=0|c.y,m=Math.abs(l-j)>Math.abs(k-i),n=[],o=a.data,p=a.size.x,q=255,r=0;function s(a,b){q=(h=o[b*p+a])<q?h:q,r=h>r?h:r,n.push(h)}m&&(f=i,i=j,j=f,f=k,k=l,l=f),i>k&&(f=i,i=k,k=f,f=j,j=l,l=f);var t=k-i,u=Math.abs(l-j);d=t/2|0,e=j;var v=j<l?1:-1;for(g=i;g<k;g++)m?s(e,g):s(g,e),(d-=u)<0&&(e+=v,d+=t);return{line:n,min:q,max:r}},au.toBinaryLine=function(a){var b,c,d,e,f,g,h=a.min,i=a.max,j=a.line,k=h+(i-h)/2,l=[],m=(i-h)/12,n=-m;for(d=j[0]>k?av:aw,l.push({pos:0,val:j[0]}),f=0;f<j.length-2;f++)e=(b=j[f+1]-j[f])+(c=j[f+2]-j[f+1])<n&&j[f+1]<1.5*k?aw:b+c>m&&j[f+1]>.5*k?av:d,d!==e&&(l.push({pos:f,val:j[f]}),d=e);for(l.push({pos:j.length,val:j[j.length-1]}),g=l[0].pos;g<l[1].pos;g++)j[g]=j[g]>k?0:1;for(f=1;f<l.length-1;f++)for(m=l[f+1].val>l[f].val?l[f].val+(l[f+1].val-l[f].val)/3*2|0:l[f+1].val+(l[f].val-l[f+1].val)/3|0,g=l[f].pos;g<l[f+1].pos;g++)j[g]=j[g]>m?0:1;return{line:j,threshold:m}},au.debug={printFrequency:function(a,b){var c,d=b.getContext("2d");for(b.width=a.length,b.height=256,d.beginPath(),d.strokeStyle="blue",c=0;c<a.length;c++)d.moveTo(c,255),d.lineTo(c,255-a[c]);d.stroke(),d.closePath()},printPattern:function(a,b){var c,d=b.getContext("2d");for(c=0,b.width=a.length,d.fillColor="black";c<a.length;c++)1===a[c]&&d.fillRect(c,0,1,100)}};var ay={code_128_reader:Q,ean_reader:al,ean_5_reader:ao,ean_2_reader:am,ean_8_reader:ap,code_39_reader:X,code_39_vin_reader:aa,codabar_reader:P,upc_reader:at,upc_e_reader:as,i2of5_reader:aq,"2of5_reader":L,code_93_reader:ad,code_32_reader:Z},az={registerReader:function(a,b){ay[a]=b},create:function(a,b){var c=[];function d(){a.readers.forEach(function(a){var b,d={},e=[];"object"===h()(a)?(b=a.format,d=a.config):"string"==typeof a&&(b=a),d.supplements&&(e=d.supplements.map(function(a){return new ay[a]}));try{var f=new ay[b](d,e);c.push(f)}catch(a){throw console.error("* Error constructing reader ",b,a),a}})}function e(a){var d,e=null,f=au.getBarcodeLine(b,a[0],a[1]);for(au.toBinaryLine(f),d=0;d<c.length&&null===e;d++)e=c[d].decodePattern(f.line);return null===e?null:{codeResult:e,barcodeLine:f}}function f(){return(f=m()(o.a.mark(function a(b){var d,e,f,g;return o.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:d=null,e=function(a,b){var c="undefined"!=typeof Symbol&&a[Symbol.iterator]||a["@@iterator"];if(!c){if(Array.isArray(a)||(c=function(a,b){if(a){if("string"==typeof a)return ax(a,void 0);var c=Object.prototype.toString.call(a).slice(8,-1);if("Object"===c&&a.constructor&&(c=a.constructor.name),"Map"===c||"Set"===c)return Array.from(a);if("Arguments"===c||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c))return ax(a,b)}}(a))){c&&(a=c);var d=0,e=function(){};return{s:e,n:function(){return d>=a.length?{done:!0}:{done:!1,value:a[d++]}},e:function(a){throw a},f:e}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var f,g=!0,h=!1;return{s:function(){c=c.call(a)},n:function(){var a=c.next();return g=a.done,a},e:function(a){h=!0,f=a},f:function(){try{g||null==c.return||c.return()}finally{if(h)throw f}}}}(c),a.prev=2,e.s();case 4:if((f=e.n()).done){a.next=14;break}if(!(g=f.value).decodeImage){a.next=12;break}return a.next=9,g.decodeImage(b);case 9:if(!(d=a.sent)){a.next=12;break}return a.abrupt("break",14);case 12:a.next=4;break;case 14:a.next=19;break;case 16:a.prev=16,a.t0=a.catch(2),e.e(a.t0);case 19:return a.prev=19,e.f(),a.finish(19);case 22:return a.abrupt("return",d);case 23:case"end":return a.stop()}},a,null,[[2,16,19,22]])}))).apply(this,arguments)}function g(a){var c,d,f=[{x:(a[1][0]-a[0][0])/2+a[0][0],y:(a[1][1]-a[0][1])/2+a[0][1]},{x:(a[3][0]-a[2][0])/2+a[2][0],y:(a[3][1]-a[2][1])/2+a[2][1]}],g=Math.sqrt(Math.pow(Math.abs((c=f)[1].y-c[0].y),2)+Math.pow(Math.abs(c[1].x-c[0].x),2)),h=Math.atan2(f[1].y-f[0].y,f[1].x-f[0].x);return null===(f=function(a,c,d){function e(b){var d={y:b*Math.sin(c),x:b*Math.cos(c)};a[0].y-=d.y,a[0].x-=d.x,a[1].y+=d.y,a[1].x+=d.x}for(e(d);d>1&&(!b.inImageWithBorder(a[0])||!b.inImageWithBorder(a[1]));)e(-(d-=Math.ceil(d/2)));return a}(f,h,Math.floor(.1*g)))||(null===(d=e(f))&&(d=function(a,b,c){var d,f,g,h=Math.sqrt(Math.pow(a[1][0]-a[0][0],2)+Math.pow(a[1][1]-a[0][1],2)),i=null,j=Math.sin(c),k=Math.cos(c);for(d=1;d<16&&null===i;d++)g={y:(f=h/16*d*(d%2==0?-1:1))*j,x:f*k},b[0].y+=g.x,b[0].x-=g.y,b[1].y+=g.x,b[1].x-=g.y,i=e(b);return i}(a,f,h)),null===d)?null:{codeResult:d.codeResult,line:f,angle:h,pattern:d.barcodeLine.line,threshold:d.barcodeLine.threshold}}return d(),{decodeFromBoundingBox:function(a){return g(a)},decodeFromBoundingBoxes:function(b){var c,d,e=[],f=a.multiple;for(c=0;c<b.length;c++){var h=b[c];if((d=g(h)||{}).box=h,f)e.push(d);else if(d.codeResult)return d}return{barcodes:e}},decodeFromImage:function(a){return m()(o.a.mark(function b(){var c;return o.a.wrap(function(b){for(;;)switch(b.prev=b.next){case 0:return b.next=2,function(a){return f.apply(this,arguments)}(a);case 2:return c=b.sent,b.abrupt("return",c);case 4:case"end":return b.stop()}},b)}))()},registerReader:function(a,b){if(ay[a])throw Error("cannot register existing reader",a);ay[a]=b},setReaders:function(b){a.readers=b,c.length=0,d()}}}},aA=function(){var a={};function b(b){return a[b]||(a[b]={subscribers:[]}),a[b]}function c(a,b){a.async?setTimeout(function(){a.callback(b)},4):a.callback(b)}function d(a,c,d){var e;if("function"==typeof c)e={callback:c,async:d};else if(!(e=c).callback)throw Error("Callback was not specified on options");b(a).subscribers.push(e)}return{subscribe:function(a,b,c){return d(a,b,c)},publish:function(a,d){var e=b(a),f=e.subscribers;f.filter(function(a){return!!a.once}).forEach(function(a){c(a,d)}),e.subscribers=f.filter(function(a){return!a.once}),e.subscribers.forEach(function(a){c(a,d)})},once:function(a,b){var c=arguments.length>2&&void 0!==arguments[2]&&arguments[2];d(a,{callback:b,async:c,once:!0})},unsubscribe:function(c,d){if(c){var e=b(c);e&&d?e.subscribers=e.subscribers.filter(function(a){return a.callback!==d}):e.subscribers=[]}else a={}}}}(),aB=c(63),aC=c.n(aB),aD=c(64),aE=function(a){x()(d,a);var b,c=(b=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(a){return!1}}(),function(){var a,c=B()(d);return a=b?Reflect.construct(c,arguments,B()(this).constructor):c.apply(this,arguments),z()(this,a)});function d(a,b){var e;return r()(this,d),e=c.call(this,a),D()(v()(e),"code",void 0),e.code=b,Object.setPrototypeOf(v()(e),d.prototype),e}return t()(d)}(c.n(aD)()(Error)),aF="This may mean that the user has declined camera access, or the browser does not support media APIs. If you are running in iOS, you must use Safari.";function aG(){return(aG=m()(o.a.mark(function a(b,c){var d;return o.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:a.next=2;try{return navigator.mediaDevices.getUserMedia(c)}catch(a){return Promise.reject(new aE("getUserMedia is not defined. ".concat(aF),-1))}case 2:if(e=d=a.sent,!b){a.next=11;break}return b.setAttribute("autoplay","true"),b.setAttribute("muted","true"),b.setAttribute("playsinline","true"),b.srcObject=d,b.addEventListener("loadedmetadata",function(){b.play().catch(function(a){console.warn("* Error while trying to play video stream:",a)})}),a.abrupt("return",function(a){return new Promise(function(b,c){var d=10;!function e(){d>0?a.videoWidth>10&&a.videoHeight>10?b():window.setTimeout(e,500):c(new aE("Unable to play video stream. Is webcam working?",-1)),d--}()})}(b));case 11:return a.abrupt("return",Promise.resolve());case 12:case"end":return a.stop()}},a)}))).apply(this,arguments)}function aH(){return(aH=m()(o.a.mark(function a(){var b;return o.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:a.next=2;try{return navigator.mediaDevices.enumerateDevices()}catch(a){return Promise.reject(new aE("enumerateDevices is not defined. ".concat(aF),-1))}case 2:return b=a.sent,a.abrupt("return",b.filter(function(a){return"videoinput"===a.kind}));case 4:case"end":return a.stop()}},a)}))).apply(this,arguments)}function aI(){if(!e)return null;var a=e.getVideoTracks();return a&&null!=a&&a.length?a[0]:null}var aJ={requestedVideoElement:null,request:function(a,b){return m()(o.a.mark(function c(){var d;return o.a.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return aJ.requestedVideoElement=a,c.next=3,function(){var a,b=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},c=(a=aC()(b,["width","height","facingMode","aspectRatio","deviceId"]),void 0!==b.minAspectRatio&&b.minAspectRatio>0&&(a.aspectRatio=b.minAspectRatio,console.log("WARNING: Constraint 'minAspectRatio' is deprecated; Use 'aspectRatio' instead")),void 0!==b.facing&&(a.facingMode=b.facing,console.log("WARNING: Constraint 'facing' is deprecated. Use 'facingMode' instead'")),a);return c&&c.deviceId&&c.facingMode&&delete c.facingMode,Promise.resolve({audio:!1,video:c})}(b);case 3:return d=c.sent,c.abrupt("return",function(a,b){return aG.apply(this,arguments)}(a,d));case 5:case"end":return c.stop()}},c)}))()},release:function(){var a=e&&e.getVideoTracks();return null!==aJ.requestedVideoElement&&aJ.requestedVideoElement.pause(),new Promise(function(b){setTimeout(function(){a&&a.length&&a.forEach(function(a){return a.stop()}),e=null,aJ.requestedVideoElement=null,b()},0)})},enumerateVideoDevices:function(){return aH.apply(this,arguments)},getActiveStreamLabel:function(){var a=aI();return a?a.label:""},getActiveTrack:aI,disableTorch:function(){return m()(o.a.mark(function a(){var b;return o.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(!(b=aI())){a.next=11;break}return a.prev=2,a.next=5,b.applyConstraints({advanced:[{torch:!1}]});case 5:a.next=11;break;case 7:throw a.prev=7,a.t0=a.catch(2),a.t0 instanceof OverconstrainedError&&console.warn("quagga2/CameraAccess: Torch not supported on this device"),a.t0;case 11:case"end":return a.stop()}},a,null,[[2,7]])}))()},enableTorch:function(){return m()(o.a.mark(function a(){var b;return o.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(!(b=aI())){a.next=11;break}return a.prev=2,a.next=5,b.applyConstraints({advanced:[{torch:!0}]});case 5:a.next=11;break;case 7:throw a.prev=7,a.t0=a.catch(2),a.t0 instanceof OverconstrainedError&&console.warn("quagga2/CameraAccess: Torch not supported on this device"),a.t0;case 11:case"end":return a.stop()}},a,null,[[2,7]])}))()}},aK=aJ,aL={create:function(a){var b,c=document.createElement("canvas"),d=c.getContext("2d",{willReadFrequently:!!a.willReadFrequently}),e=[],f=null!=(b=a.capacity)?b:20,g=!0===a.capture;return{addResult:function(b,h,i){var j,k,l={};f&&i&&!((j=a.blacklist)&&j.some(function(a){return Object.keys(a).every(function(b){return a[b]===i[b]})}))&&("function"!=typeof(k=a.filter)||k(i))&&(f--,l.codeResult=i,g&&(c.width=h.x,c.height=h.y,p.a.drawImage(b,h,d),l.frame=c.toDataURL()),e.push(l))},getResults:function(){return e}}}},aM={inputStream:{type:"ImageStream",sequence:!1,size:800,area:{top:"0%",right:"0%",left:"0%",bottom:"0%"},singleChannel:!1},locate:!0,numOfWorkers:0,decoder:{readers:["code_128_reader"]},locator:{halfSample:!0,patchSize:"medium"}},aN=c(5),aO=c(65),aP=c.n(aO),aQ=c(33),aR=c.n(aQ),aS=c(66),aT=c.n(aS),aU={createVideoStream:function(){throw Error("createVideoStream not available")},createLiveStream:function(){throw Error("createLiveStream not available")},createImageStream:function(){var a,b,c,d=null,e=0,f=0,g=!1,h=null,i=["canrecord","ended"],j={},k={x:0,y:0,type:"Point"},l={x:0,y:0,type:"XYSize"};function m(a,b){var c=j[a];if(c&&c.length>0)for(var d=0;d<c.length;d++)c[d].apply(n,b)}var n={trigger:m,getWidth:function(){return b},getHeight:function(){return c},setWidth:function(a){b=a},setHeight:function(a){c=a},getRealWidth:function(){return e},getRealHeight:function(){return f},setInputStream:function(i){var j,k;a=null==(j=d=i)?void 0:j.src,g=!1,aT()(a,null==(k=d)?void 0:k.mime,function(a,i){if(a)throw console.error("**** quagga loadImages error:",a),Error("error decoding pixels in loadImages");g=!0,h=i;var j,k,n=aR()(i.shape,2);e=n[0],f=n[1],b=null!=(j=d)&&j.size?e/f>1?d.size:Math.floor(e/f*d.size):e,c=null!=(k=d)&&k.size?e/f>1?Math.floor(f/e*d.size):d.size:f,l.x=b,l.y=c,setTimeout(function(){m("canrecord",[])},0)})},ended:function(){return!1},setAttribute:function(){},getConfig:function(){return d},pause:function(){},play:function(){},setCurrentTime:function(a){},addEventListener:function(a,b){-1!==i.indexOf(a)&&(j[a]||(j[a]=[]),j[a].push(b))},clearEventHandlers:function(){Object.keys(j).forEach(function(a){return delete j[a]})},setTopRight:function(a){k.x=a.x,k.y=a.y},getTopRight:function(){return k},setCanvasSize:function(a){l.x=a.x,l.y=a.y},getCanvasSize:function(){return l},getFrame:function(){return g?h:null}};return n}},aV=c(23),aW=t()(function a(){r()(this,a),D()(this,"config",void 0),D()(this,"inputStream",void 0),D()(this,"framegrabber",void 0),D()(this,"inputImageWrapper",void 0),D()(this,"stopped",!1),D()(this,"boxSize",void 0),D()(this,"resultCollector",void 0),D()(this,"decoder",void 0),D()(this,"workerPool",[]),D()(this,"onUIThread",!0),D()(this,"canvasContainer",new aY)}),aX=t()(function a(){r()(this,a),D()(this,"image",void 0),D()(this,"overlay",void 0)}),aY=t()(function a(){r()(this,a),D()(this,"ctx",void 0),D()(this,"dom",void 0),this.ctx=new aX,this.dom=new aX});function aZ(a){if("undefined"==typeof document)return null;if(a instanceof HTMLElement&&a.nodeName&&1===a.nodeType)return a;var b="string"==typeof a?a:"#interactive.viewport";return document.querySelector(b)}function a$(a,b,c){var d,e=((d=document.querySelector(a))||((d=document.createElement("canvas")).className=b),d);console.warn("* initCanvas getCanvasAndContext");var f=e.getContext("2d",{willReadFrequently:c.willReadFrequently});return{canvas:e,context:f}}function a_(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);b&&(d=d.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable})),c.push.apply(c,d)}return c}function a0(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{};b%2?a_(Object(c),!0).forEach(function(b){D()(a,b,c[b])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(c)):a_(Object(c)).forEach(function(b){Object.defineProperty(a,b,Object.getOwnPropertyDescriptor(c,b))})}return a}aN.glMatrix.setMatrixArrayType(Array);var a1=[];function a2(a){if(a){var b,c=a().default;if(!c)return void self.postMessage({event:"error",message:"Quagga could not be created"})}function d(a){self.postMessage({event:"processed",imageData:b.data,result:a},[b.data.buffer])}function e(){self.postMessage({event:"initialized",imageData:b.data},[b.data.buffer])}self.onmessage=function(a){if("init"===a.data.cmd){var f=a.data.config;f.numOfWorkers=0,b=new c.ImageWrapper({x:a.data.size.x,y:a.data.size.y},new Uint8Array(a.data.imageData)),c.init(f,e,b),c.onProcessed(d)}else"process"===a.data.cmd?(b.data=new Uint8Array(a.data.imageData),c.start()):"setReaders"===a.data.cmd?c.setReaders(a.data.readers):"registerReader"===a.data.cmd&&c.registerReader(a.data.name,a.data.reader)}}function a3(a,b,c,d){var e=a-a1.length;if(0===e&&d)d();else if(e<0)a1.slice(e).forEach(function(a){a.worker.terminate()}),a1=a1.slice(0,e),d&&d();else{var f=function(b){a1.push(b),a1.length>=a&&d&&d()};if(b)for(var g=0;g<e;g++)!function(a,b,c){var d,e,f=("undefined"!=typeof __factorySource__&&(e=__factorySource__),d=new Blob(["("+a2.toString()+")("+e+");"],{type:"text/javascript"}),window.URL.createObjectURL(d)),g={worker:new Worker(f),imageData:new Uint8Array(b.getWidth()*b.getHeight()),busy:!0};g.worker.onmessage=function(a){"initialized"===a.data.event?(URL.revokeObjectURL(f),g.busy=!1,g.imageData=new Uint8Array(a.data.imageData),c(g)):"processed"===a.data.event?(g.imageData=new Uint8Array(a.data.imageData),g.busy=!1,"undefined"!=typeof publishResult&&publishResult(a.data.result,g.imageData)):a.data.event},g.worker.postMessage({cmd:"init",size:{x:b.getWidth(),y:b.getHeight()},imageData:g.imageData,config:a0(a0({},a),{},{inputStream:a0(a0({},a.inputStream),{},{target:null})})},[g.imageData.buffer])}(b,c,f)}}function a4(a,b,c){for(var d=a.length;d--;)a[d][0]+=b,a[d][1]+=c}aN.glMatrix.setMatrixArrayType(Array);var a5=function(){var a,b;function c(){var a=this;r()(this,c),D()(this,"context",new aW),D()(this,"canRecord",function(b){var c;a.context.config&&(aV.a.checkImageConstraints(a.context.inputStream,null==(c=a.context.config)?void 0:c.locator),a.initCanvas(),a.context.framegrabber=aP.a.create(a.context.inputStream,a.context.canvasContainer.dom.image),void 0===a.context.config.numOfWorkers&&(a.context.config.numOfWorkers=0),a3(a.context.config.numOfWorkers,a.context.config,a.context.inputStream,function(){var c;(null==(c=a.context.config)?void 0:c.numOfWorkers)===0&&a.initializeData(),a.ready(b)}))}),D()(this,"update",function(){if(a.context.onUIThread){var b,c,d,e,f=(b=a.context.framegrabber,a1.length?!!(c=a1.filter(function(a){return!a.busy})[0])&&(b.attachData(c.imageData),b.grab()&&(c.busy=!0,c.worker.postMessage({cmd:"process",imageData:c.imageData},[c.imageData.buffer])),!0):null);f||(a.context.framegrabber.attachData(null==(e=a.context.inputImageWrapper)?void 0:e.data),a.context.framegrabber.grab()&&!f&&a.locateAndDecode())}else a.context.framegrabber.attachData(null==(d=a.context.inputImageWrapper)?void 0:d.data),a.context.framegrabber.grab(),a.locateAndDecode()})}return t()(c,[{key:"initBuffers",value:function(a){if(this.context.config){var b,c,d,e,f=(b=this.context.inputStream,c=this.context.config.locator,d=a||new k.a({x:b.getWidth(),y:b.getHeight(),type:"XYSize"}),e=[aN.vec2.clone([0,0]),aN.vec2.clone([0,d.size.y]),aN.vec2.clone([d.size.x,d.size.y]),aN.vec2.clone([d.size.x,0])],aV.a.init(d,c),{inputImageWrapper:d,boxSize:e}),g=f.inputImageWrapper,h=f.boxSize;this.context.inputImageWrapper=g,this.context.boxSize=h}}},{key:"initializeData",value:function(a){this.context.config&&(this.initBuffers(a),this.context.decoder=az.create(this.context.config.decoder,this.context.inputImageWrapper))}},{key:"getViewPort",value:function(){return this.context.config&&this.context.config.inputStream?aZ(this.context.config.inputStream.target):null}},{key:"ready",value:function(a){this.context.inputStream.play(),a()}},{key:"initCanvas",value:function(){var a=function(a){var b,c,d,e,f,g,h=aZ(null==a||null==(b=a.config)||null==(c=b.inputStream)?void 0:c.target),i=null==a||null==(d=a.config)||null==(e=d.inputStream)?void 0:e.type;if(!i)return null;var j=function(a,b){var c=b.willReadFrequently;if("undefined"!=typeof document){var d=a$("canvas.imgBuffer","imgBuffer",{willReadFrequently:c}),e=a$("canvas.drawingBuffer","drawingBuffer",{willReadFrequently:c});return d.canvas.width=e.canvas.width=a.x,d.canvas.height=e.canvas.height=a.y,{dom:{image:d.canvas,overlay:e.canvas},ctx:{image:d.context,overlay:e.context}}}return null}(a.inputStream.getCanvasSize(),{willReadFrequently:!!(null!=a&&null!=(f=a.config)&&null!=(g=f.inputStream)&&g.willReadFrequently)});if(!j)return{dom:{image:null,overlay:null},ctx:{image:null,overlay:null}};var k=j.dom;return"undefined"!=typeof document&&h&&("ImageStream"!==i||h.contains(k.image)||h.appendChild(k.image),h.contains(k.overlay)||h.appendChild(k.overlay)),j}(this.context);if(a){var b=a.ctx,c=a.dom;this.context.canvasContainer.dom.image=c.image,this.context.canvasContainer.dom.overlay=c.overlay,this.context.canvasContainer.ctx.image=b.image,this.context.canvasContainer.ctx.overlay=b.overlay}}},{key:"initInputStream",value:function(a){if(this.context.config&&this.context.config.inputStream){var b=this.context.config.inputStream,c=b.type,d=b.constraints,e=function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"LiveStream",b=arguments.length>1?arguments[1]:void 0,c=arguments.length>2?arguments[2]:void 0;switch(a){case"VideoStream":var d=document.createElement("video");return{video:d,inputStream:c.createVideoStream(d)};case"ImageStream":return{inputStream:c.createImageStream()};case"LiveStream":var e=null;return b&&((e=b.querySelector("video"))||(e=document.createElement("video"),b.appendChild(e))),{video:e,inputStream:c.createLiveStream(e)};default:return console.error("* setupInputStream invalid type ".concat(a)),{video:null,inputStream:null}}}(c,this.getViewPort(),aU),f=e.video,g=e.inputStream;"LiveStream"===c&&f&&aK.request(f,d).then(function(){return g.trigger("canrecord")}).catch(function(b){return a(b)}),g&&(g.setAttribute("preload","auto"),g.setInputStream(this.context.config.inputStream),g.addEventListener("canrecord",this.canRecord.bind(void 0,a))),this.context.inputStream=g}}},{key:"getBoundingBoxes",value:function(){var a;return null!=(a=this.context.config)&&a.locate?aV.a.locate():[[aN.vec2.clone(this.context.boxSize[0]),aN.vec2.clone(this.context.boxSize[1]),aN.vec2.clone(this.context.boxSize[2]),aN.vec2.clone(this.context.boxSize[3])]]}},{key:"transformResult",value:function(a){var b,c=this,d=this.context.inputStream.getTopRight(),e=d.x,f=d.y;if((0!==e||0!==f)&&(a.barcodes&&a.barcodes.forEach(function(a){return c.transformResult(a)}),a.line&&2===a.line.length&&(b=a.line,b[0].x+=e,b[0].y+=f,b[1].x+=e,b[1].y+=f),a.box&&a4(a.box,e,f),a.boxes&&a.boxes.length>0))for(var g=0;g<a.boxes.length;g++)a4(a.boxes[g],e,f)}},{key:"addResult",value:function(a,b){var c=this;b&&this.context.resultCollector&&(a.barcodes?a.barcodes.filter(function(a){return a.codeResult}).forEach(function(a){return c.addResult(a,b)}):a.codeResult&&this.context.resultCollector.addResult(b,this.context.inputStream.getCanvasSize(),a.codeResult))}},{key:"hasCodeResult",value:function(a){return!!(a&&(a.barcodes?a.barcodes.some(function(a){return a.codeResult}):a.codeResult))}},{key:"publishResult",value:function(){var a,b=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,c=arguments.length>1?arguments[1]:void 0,d=b;b&&this.context.onUIThread&&(this.transformResult(b),this.addResult(b,c),d=(null==b||null==(a=b.barcodes)?void 0:a.length)>0?b.barcodes:b),aA.publish("processed",d),this.hasCodeResult(b)&&aA.publish("detected",d)}},{key:"locateAndDecode",value:(a=m()(o.a.mark(function a(){var b,c,d,e,f;return o.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(!(b=this.getBoundingBoxes())){a.next=12;break}return a.next=4,this.context.decoder.decodeFromBoundingBoxes(b);case 4:if(a.t0=a.sent,a.t0){a.next=7;break}a.t0={};case 7:(d=a.t0).boxes=b,this.publishResult(d,null==(c=this.context.inputImageWrapper)?void 0:c.data),a.next=16;break;case 12:return a.next=14,this.context.decoder.decodeFromImage(this.context.inputImageWrapper);case 14:(e=a.sent)?this.publishResult(e,null==(f=this.context.inputImageWrapper)?void 0:f.data):this.publishResult();case 16:case"end":return a.stop()}},a,this)})),function(){return a.apply(this,arguments)})},{key:"startContinuousUpdate",value:function(){var a,b=this,c=null,d=1e3/((null==(a=this.context.config)?void 0:a.frequency)||60);this.context.stopped=!1;var e=this.context;!function a(f){c=c||f,e.stopped||(f>=c&&(c+=d,b.update()),window.requestAnimationFrame(a))}(performance.now())}},{key:"start",value:function(){var a,b;this.context.onUIThread&&(null==(a=this.context.config)||null==(b=a.inputStream)?void 0:b.type)==="LiveStream"?this.startContinuousUpdate():this.update()}},{key:"stop",value:(b=m()(o.a.mark(function a(){var b;return o.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(this.context.stopped=!0,a3(0),!(null!=(b=this.context.config)&&b.inputStream&&"LiveStream"===this.context.config.inputStream.type)){a.next=6;break}return a.next=5,aK.release();case 5:this.context.inputStream.clearEventHandlers();case 6:case"end":return a.stop()}},a,this)})),function(){return b.apply(this,arguments)})},{key:"setReaders",value:function(a){this.context.decoder&&this.context.decoder.setReaders(a),a1.forEach(function(b){return b.worker.postMessage({cmd:"setReaders",readers:a})})}},{key:"registerReader",value:function(a,b){az.registerReader(a,b),this.context.decoder&&this.context.decoder.registerReader(a,b),a1.forEach(function(c){return c.worker.postMessage({cmd:"registerReader",name:a,reader:b})})}}]),c}(),a6=new a5,a7=a6.context,a8={init:function(a,b,c){var d,e=arguments.length>3&&void 0!==arguments[3]?arguments[3]:a6;return b||(d=new Promise(function(a,c){b=function(b){b?c(b):a()}})),e.context.config=j()({},aM,a),e.context.config.numOfWorkers>0&&(e.context.config.numOfWorkers=0),c?(e.context.onUIThread=!1,e.initializeData(c),b&&b()):e.initInputStream(b),d},start:function(){return a6.start()},stop:function(){return a6.stop()},pause:function(){a7.stopped=!0},onDetected:function(a){if(!a||"function"!=typeof a&&("object"!==h()(a)||!a.callback))return void console.trace("* warning: Quagga.onDetected called with invalid callback, ignoring");aA.subscribe("detected",a)},offDetected:function(a){aA.unsubscribe("detected",a)},onProcessed:function(a){if(!a||"function"!=typeof a&&("object"!==h()(a)||!a.callback))return void console.trace("* warning: Quagga.onProcessed called with invalid callback, ignoring");aA.subscribe("processed",a)},offProcessed:function(a){aA.unsubscribe("processed",a)},setReaders:function(a){if(!a)return void console.trace("* warning: Quagga.setReaders called with no readers, ignoring");a6.setReaders(a)},registerReader:function(a,b){return a?b?void a6.registerReader(a,b):void console.trace("* warning: Quagga.registerReader called with no reader, ignoring"):void console.trace("* warning: Quagga.registerReader called with no name, ignoring")},registerResultCollector:function(a){a&&"function"==typeof a.addResult&&(a7.resultCollector=a)},get canvas(){return a7.canvasContainer},decodeSingle:function(a,b){var c=this,d=new a5;return(a=j()({inputStream:{type:"ImageStream",sequence:!1,size:800,src:a.src},numOfWorkers:1,locator:{halfSample:!1}},a)).numOfWorkers>0&&(a.numOfWorkers=0),a.numOfWorkers>0&&("undefined"==typeof Blob||"undefined"==typeof Worker)&&(console.warn("* no Worker and/or Blob support - forcing numOfWorkers to 0"),a.numOfWorkers=0),new Promise(function(e,f){try{c.init(a,function(){aA.once("processed",function(a){d.stop(),b&&b.call(null,a),e(a)},!0),d.start()},null,d)}catch(a){f(a)}})},get default(){return a8},Readers:f,CameraAccess:aK,ImageDebug:p.a,ImageWrapper:k.a,ResultCollector:aL};b.default=a8}]).default)},67972:a=>{"use strict";function b(a,b){var c=Math.floor(b),d=b-c,e=0<=c&&c<a.shape[0],f=0<=c+1&&c+1<a.shape[0];return(1-d)*(e?+a.get(c):0)+d*(f?+a.get(c+1):0)}function c(a,b,c){var d=Math.floor(b),e=b-d,f=0<=d&&d<a.shape[0],g=0<=d+1&&d+1<a.shape[0],h=Math.floor(c),i=c-h,j=0<=h&&h<a.shape[1],k=0<=h+1&&h+1<a.shape[1],l=f&&j?a.get(d,h):0,m=f&&k?a.get(d,h+1):0;return(1-i)*((1-e)*l+e*(g&&j?a.get(d+1,h):0))+i*((1-e)*m+e*(g&&k?a.get(d+1,h+1):0))}function d(a,b,c,d){var e=Math.floor(b),f=b-e,g=0<=e&&e<a.shape[0],h=0<=e+1&&e+1<a.shape[0],i=Math.floor(c),j=c-i,k=0<=i&&i<a.shape[1],l=0<=i+1&&i+1<a.shape[1],m=Math.floor(d),n=d-m,o=0<=m&&m<a.shape[2],p=0<=m+1&&m+1<a.shape[2],q=g&&k&&o?a.get(e,i,m):0,r=g&&l&&o?a.get(e,i+1,m):0,s=h&&k&&o?a.get(e+1,i,m):0,t=h&&l&&o?a.get(e+1,i+1,m):0,u=g&&k&&p?a.get(e,i,m+1):0,v=g&&l&&p?a.get(e,i+1,m+1):0;return(1-n)*((1-j)*((1-f)*q+f*s)+j*((1-f)*r+f*t))+n*((1-j)*((1-f)*u+f*(h&&k&&p?a.get(e+1,i,m+1):0))+j*((1-f)*v+f*(h&&l&&p?a.get(e+1,i+1,m+1):0)))}function e(a){var b,c,d=0|a.shape.length,e=Array(d),f=Array(d),g=Array(d),h=Array(d);for(b=0;b<d;++b)c=+arguments[b+1],e[b]=Math.floor(c),f[b]=c-e[b],g[b]=0<=e[b]&&e[b]<a.shape[b],h[b]=0<=e[b]+1&&e[b]+1<a.shape[b];var i,j,k,l=0;a:for(b=0;b<1<<d;++b){for(i=0,j=1,k=a.offset;i<d;++i)if(b&1<<i){if(!h[i])continue a;j*=f[i],k+=a.stride[i]*(e[i]+1)}else{if(!g[i])continue a;j*=1-f[i],k+=a.stride[i]*e[i]}l+=j*a.data[k]}return l}a.exports=function(a,f,g,h){switch(a.shape.length){case 0:return 0;case 1:return b(a,f);case 2:return c(a,f,g);case 3:return d(a,f,g,h);default:return e.apply(void 0,arguments)}},a.exports.d1=b,a.exports.d2=c,a.exports.d3=d},69903:(a,b,c)=>{Promise.resolve().then(c.bind(c,62983))},74075:a=>{"use strict";a.exports=require("zlib")},74964:(a,b,c)=>{"use strict";c.d(b,{S:()=>j,I:()=>w});var d=c(21124),e=c(80350),f=c(48936);let g={firstName:{name:"firstName",label:"First Name"},lastName:{name:"lastName",label:"Last Name"}},h=/^[a-zA-Z]+(?:['-][a-zA-Z]+)*\s*$/,i=f.Ik({[g.firstName.name]:f.Yj().matches(h,{message:"Name not valid"}).required().label(g.firstName.label),[g.lastName.name]:f.Yj().matches(h,{message:"Name not valid"}).required().label(g.lastName.label)}),j=({initialValues:a,onSubmit:b})=>(0,d.jsxs)(e.PD,{initialValues:a,validationSchema:i,onSubmit:b,submitButton:!1,enableReinitialize:!0,children:[(0,d.jsxs)(e.jD,{sx:{display:"flex",flexDirection:"column"},children:[(0,d.jsx)(e.A8,{name:g.firstName.name,label:g.firstName.label,id:g.firstName.name}),(0,d.jsx)(e.A8,{name:g.lastName.name,label:g.lastName.label,id:g.lastName.name})]}),(0,d.jsx)(e.O6,{type:"submit",title:"Submit",onClick:()=>{}})]});var k=c(38736),l=c(82283),m=c(66951),n=c(38301),o=c(33104),p=c(95745),q=c(43312),r=c(48875),s=c(59604),t=c(62035),u=c(81328),v=c(66717);let w=()=>{let{loading:a,patients:b,paginationModel:c,setPaginationModel:f,searchText:g,setSearchText:h,totalPages:i,setOnSwitch:j,totalEntries:w}=(0,t.a)("screening"),[x,y]=(0,n.useState)(""),z=(0,u.d)(x,500);(0,n.useEffect)(()=>{h(z)},[z]);let{navigateTo:A}=(0,l.cq)(),[B,C]=(0,n.useState)(!1),[D,E]=(0,n.useState)(""),[F,G]=(0,n.useState)(""),[H,I]=(0,n.useState)(""),{mutate:J}=(0,m.Dk)(),K=b?.sort((a,b)=>new Date(a.arrival_time)-new Date(b.arrival_time)).map(a=>({id:a?.uuid,...a,patient_arrival_time:(0,k.WB)(a.arrival_time)})).filter(a=>a.id!=H),L=[{field:"aetc_visit_number",headerName:"Visit Number"},{field:"given_name",headerName:"First Name",flex:1},{field:"family_name",headerName:"Last Name",flex:1},{field:"patient_arrival_time",headerName:"Arrival Time",flex:1},{field:"waiting",headerName:"WaitingTime",flex:1,renderCell:a=>(0,d.jsx)(e.VJ,{arrival_time:a.row.arrival_time})},{field:"last_encounter_creator",headerName:"Attended By",flex:1},{field:"action",flex:1,headerName:"Action",renderCell:a=>(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(q.A,{title:"Start screening",arrow:!0,children:(0,d.jsx)(r.default,{onClick:()=>A(`/prescreening/${a.id}`),"aria-label":"start screening",color:"primary",children:(0,d.jsx)(s.gSK,{})})}),(0,d.jsx)(o.R,{onDelete:()=>{I(a.id),J({id:a.row.patient_id,void_reason:"Absconded"})},visitId:a.row.visit_uuid,patientId:a.id}),(0,d.jsx)(q.A,{title:"Initiate CPR",arrow:!0,children:(0,d.jsx)(r.default,{onClick:()=>{E(a.id),C(!0),G(a.row.visit_uuid)},"aria-label":"initiate CPR",color:"error",children:(0,d.jsx)(s.szJ,{})})})]})}],M=K?.map(a=>({id:a.id,visitNumber:a.aetc_visit_number,firstName:a.given_name,lastName:a.family_name,gender:a.gender,arrivalTime:a.patient_arrival_time,arrivalDateTime:a.arrival_time,actor:(0,d.jsx)(e.uT,{encounterType:p.fA.INITIAL_REGISTRATION,patientId:a.id}),aggregate:(0,d.jsx)(e.VJ,{arrival_time:a.arrival_time}),waitingTime:(0,d.jsx)(e.VJ,{arrival_time:a?.latest_encounter_time}),actionName:"registered by",action:(0,d.jsxs)(d.Fragment,{children:[" ",(0,d.jsx)(e.O6,{sx:{fontSize:"12px",width:"49%",mr:"1px"},title:"screen",onClick:()=>A(`/prescreening/${a.id}`)}),(0,d.jsx)(o.R,{sx:{width:"49%"},onDelete:()=>I(a.id),visitId:a.visit_uuid,patientId:a.id})]}),age:"N/A",triageResult:a.triage_result}));return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(e.vP,{columns:L,data:{data:K??[],page:c.page,per_page:c.pageSize,total_pages:i,totalEntries:w},searchText:x,setSearchString:y,setPaginationModel:f,paginationModel:c,loading:a,formatForMobileView:M||[],onSwitchChange:j,onRowClick:a=>{A(`/prescreening/${a.id}`)}}),(0,d.jsx)(v.w8,{patientuuid:D,visituuid:F,open:B,onClose:()=>C(!1)})]})}},79428:a=>{"use strict";a.exports=require("buffer")},79551:a=>{"use strict";a.exports=require("url")},81527:(a,b,c)=>{Promise.resolve().then(c.bind(c,64811))},81630:a=>{"use strict";a.exports=require("http")},83997:a=>{"use strict";a.exports=require("tty")},86439:a=>{"use strict";a.exports=require("next/dist/shared/lib/no-fallback-error.external")},91645:a=>{"use strict";a.exports=require("net")},92510:(a,b,c)=>{"use strict";c.r(b),c.d(b,{glMatrix:()=>d,mat2:()=>e,mat2d:()=>f,mat3:()=>g,mat4:()=>h,quat:()=>k,quat2:()=>l,vec2:()=>m,vec3:()=>i,vec4:()=>j});var d={};c.r(d),c.d(d,{ANGLE_ORDER:()=>q,ARRAY_TYPE:()=>o,EPSILON:()=>n,RANDOM:()=>p,equals:()=>x,round:()=>r,setMatrixArrayType:()=>s,toDegree:()=>w,toRadian:()=>v});var e={};c.r(e),c.d(e,{LDU:()=>P,add:()=>Q,adjoint:()=>G,clone:()=>z,copy:()=>A,create:()=>y,determinant:()=>H,equals:()=>T,exactEquals:()=>S,frob:()=>O,fromRotation:()=>L,fromScaling:()=>M,fromValues:()=>C,identity:()=>B,invert:()=>F,mul:()=>W,multiply:()=>I,multiplyScalar:()=>U,multiplyScalarAndAdd:()=>V,rotate:()=>J,scale:()=>K,set:()=>D,str:()=>N,sub:()=>X,subtract:()=>R,transpose:()=>E});var f={};c.r(f),c.d(f,{add:()=>an,clone:()=>Z,copy:()=>$,create:()=>Y,determinant:()=>ad,equals:()=>as,exactEquals:()=>ar,frob:()=>am,fromRotation:()=>ai,fromScaling:()=>aj,fromTranslation:()=>ak,fromValues:()=>aa,identity:()=>_,invert:()=>ac,mul:()=>at,multiply:()=>ae,multiplyScalar:()=>ap,multiplyScalarAndAdd:()=>aq,rotate:()=>af,scale:()=>ag,set:()=>ab,str:()=>al,sub:()=>au,subtract:()=>ao,translate:()=>ah});var g={};c.r(g),c.d(g,{add:()=>aT,adjoint:()=>aE,clone:()=>ax,copy:()=>ay,create:()=>av,determinant:()=>aF,equals:()=>aY,exactEquals:()=>aX,frob:()=>aS,fromMat2d:()=>aN,fromMat4:()=>aw,fromQuat:()=>aO,fromRotation:()=>aL,fromScaling:()=>aM,fromTranslation:()=>aK,fromValues:()=>az,identity:()=>aB,invert:()=>aD,mul:()=>aZ,multiply:()=>aG,multiplyScalar:()=>aV,multiplyScalarAndAdd:()=>aW,normalFromMat4:()=>aP,projection:()=>aQ,rotate:()=>aI,scale:()=>aJ,set:()=>aA,str:()=>aR,sub:()=>a$,subtract:()=>aU,translate:()=>aH,transpose:()=>aC});var h={};c.r(h),c.d(h,{add:()=>bH,adjoint:()=>a7,clone:()=>a0,copy:()=>a1,create:()=>a_,decompose:()=>br,determinant:()=>a8,equals:()=>bM,exactEquals:()=>bL,frob:()=>bG,fromQuat:()=>bu,fromQuat2:()=>bn,fromRotation:()=>bi,fromRotationTranslation:()=>bm,fromRotationTranslationScale:()=>bs,fromRotationTranslationScaleOrigin:()=>bt,fromScaling:()=>bh,fromTranslation:()=>bg,fromValues:()=>a2,fromXRotation:()=>bj,fromYRotation:()=>bk,fromZRotation:()=>bl,frustum:()=>bv,getRotation:()=>bq,getScaling:()=>bp,getTranslation:()=>bo,identity:()=>a4,invert:()=>a6,lookAt:()=>bD,mul:()=>bN,multiply:()=>a9,multiplyScalar:()=>bJ,multiplyScalarAndAdd:()=>bK,ortho:()=>bB,orthoNO:()=>bA,orthoZO:()=>bC,perspective:()=>bx,perspectiveFromFieldOfView:()=>bz,perspectiveNO:()=>bw,perspectiveZO:()=>by,rotate:()=>bc,rotateX:()=>bd,rotateY:()=>be,rotateZ:()=>bf,scale:()=>bb,set:()=>a3,str:()=>bF,sub:()=>bO,subtract:()=>bI,targetTo:()=>bE,translate:()=>ba,transpose:()=>a5});var i={};c.r(i),c.d(i,{add:()=>bV,angle:()=>cn,bezier:()=>cf,ceil:()=>bZ,clone:()=>bQ,copy:()=>bT,create:()=>bP,cross:()=>cb,dist:()=>cv,distance:()=>b4,div:()=>cu,divide:()=>bY,dot:()=>ca,equals:()=>cr,exactEquals:()=>cq,floor:()=>b$,forEach:()=>cz,fromValues:()=>bS,hermite:()=>ce,inverse:()=>b8,len:()=>cx,length:()=>bR,lerp:()=>cc,max:()=>b0,min:()=>b_,mul:()=>ct,multiply:()=>bX,negate:()=>b7,normalize:()=>b9,random:()=>cg,rotateX:()=>ck,rotateY:()=>cl,rotateZ:()=>cm,round:()=>b1,scale:()=>b2,scaleAndAdd:()=>b3,set:()=>bU,slerp:()=>cd,sqrDist:()=>cw,sqrLen:()=>cy,squaredDistance:()=>b5,squaredLength:()=>b6,str:()=>cp,sub:()=>cs,subtract:()=>bW,transformMat3:()=>ci,transformMat4:()=>ch,transformQuat:()=>cj,zero:()=>co});var j={};c.r(j),c.d(j,{add:()=>cF,ceil:()=>cJ,clone:()=>cB,copy:()=>cD,create:()=>cA,cross:()=>cY,dist:()=>c8,distance:()=>cQ,div:()=>c7,divide:()=>cI,dot:()=>cX,equals:()=>c4,exactEquals:()=>c3,floor:()=>cK,forEach:()=>dc,fromValues:()=>cC,inverse:()=>cV,len:()=>da,length:()=>cS,lerp:()=>cZ,max:()=>cM,min:()=>cL,mul:()=>c6,multiply:()=>cH,negate:()=>cU,normalize:()=>cW,random:()=>c$,round:()=>cN,scale:()=>cO,scaleAndAdd:()=>cP,set:()=>cE,sqrDist:()=>c9,sqrLen:()=>db,squaredDistance:()=>cR,squaredLength:()=>cT,str:()=>c2,sub:()=>c5,subtract:()=>cG,transformMat4:()=>c_,transformQuat:()=>c0,zero:()=>c1});var k={};c.r(k),c.d(k,{add:()=>dC,calculateW:()=>dm,clone:()=>dy,conjugate:()=>du,copy:()=>dA,create:()=>dd,dot:()=>dF,equals:()=>dN,exactEquals:()=>dM,exp:()=>dn,fromEuler:()=>dw,fromMat3:()=>dv,fromValues:()=>dz,getAngle:()=>dh,getAxisAngle:()=>dg,identity:()=>de,invert:()=>dt,len:()=>dI,length:()=>dH,lerp:()=>dG,ln:()=>dp,mul:()=>dD,multiply:()=>di,normalize:()=>dL,pow:()=>dq,random:()=>ds,rotateX:()=>dj,rotateY:()=>dk,rotateZ:()=>dl,rotationTo:()=>dO,scale:()=>dE,set:()=>dB,setAxes:()=>dQ,setAxisAngle:()=>df,slerp:()=>dr,sqlerp:()=>dP,sqrLen:()=>dK,squaredLength:()=>dJ,str:()=>dx});var l={};c.r(l),c.d(l,{add:()=>ec,clone:()=>dS,conjugate:()=>ej,copy:()=>dZ,create:()=>dR,dot:()=>eg,equals:()=>er,exactEquals:()=>eq,fromMat4:()=>dY,fromRotation:()=>dX,fromRotationTranslation:()=>dV,fromRotationTranslationValues:()=>dU,fromTranslation:()=>dW,fromValues:()=>dT,getDual:()=>d1,getReal:()=>d0,getTranslation:()=>d4,identity:()=>d$,invert:()=>ei,len:()=>el,length:()=>ek,lerp:()=>eh,mul:()=>ee,multiply:()=>ed,normalize:()=>eo,rotateAroundAxis:()=>eb,rotateByQuatAppend:()=>d9,rotateByQuatPrepend:()=>ea,rotateX:()=>d6,rotateY:()=>d7,rotateZ:()=>d8,scale:()=>ef,set:()=>d_,setDual:()=>d3,setReal:()=>d2,sqrLen:()=>en,squaredLength:()=>em,str:()=>ep,translate:()=>d5});var m={};c.r(m),c.d(m,{add:()=>ex,angle:()=>eY,ceil:()=>eB,clone:()=>et,copy:()=>ev,create:()=>es,cross:()=>eQ,dist:()=>e6,distance:()=>eI,div:()=>e5,divide:()=>eA,dot:()=>eP,equals:()=>e1,exactEquals:()=>e0,floor:()=>eC,forEach:()=>e9,fromValues:()=>eu,inverse:()=>eN,len:()=>e2,length:()=>eK,lerp:()=>eR,max:()=>eE,min:()=>eD,mul:()=>e4,multiply:()=>ez,negate:()=>eM,normalize:()=>eO,random:()=>eS,rotate:()=>eX,round:()=>eF,scale:()=>eG,scaleAndAdd:()=>eH,set:()=>ew,signedAngle:()=>eZ,sqrDist:()=>e7,sqrLen:()=>e8,squaredDistance:()=>eJ,squaredLength:()=>eL,str:()=>e_,sub:()=>e3,subtract:()=>ey,transformMat2:()=>eT,transformMat2d:()=>eU,transformMat3:()=>eV,transformMat4:()=>eW,zero:()=>e$});var n=1e-6,o="undefined"!=typeof Float32Array?Float32Array:Array,p=Math.random,q="zyx";function r(a){return a>=0?Math.round(a):a%.5==0?Math.floor(a):Math.round(a)}function s(a){o=a}var t=Math.PI/180,u=180/Math.PI;function v(a){return a*t}function w(a){return a*u}function x(a,b){var c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:n;return Math.abs(a-b)<=c*Math.max(1,Math.abs(a),Math.abs(b))}function y(){var a=new o(4);return o!=Float32Array&&(a[1]=0,a[2]=0),a[0]=1,a[3]=1,a}function z(a){var b=new o(4);return b[0]=a[0],b[1]=a[1],b[2]=a[2],b[3]=a[3],b}function A(a,b){return a[0]=b[0],a[1]=b[1],a[2]=b[2],a[3]=b[3],a}function B(a){return a[0]=1,a[1]=0,a[2]=0,a[3]=1,a}function C(a,b,c,d){var e=new o(4);return e[0]=a,e[1]=b,e[2]=c,e[3]=d,e}function D(a,b,c,d,e){return a[0]=b,a[1]=c,a[2]=d,a[3]=e,a}function E(a,b){if(a===b){var c=b[1];a[1]=b[2],a[2]=c}else a[0]=b[0],a[1]=b[2],a[2]=b[1],a[3]=b[3];return a}function F(a,b){var c=b[0],d=b[1],e=b[2],f=b[3],g=c*f-e*d;return g?(g=1/g,a[0]=f*g,a[1]=-d*g,a[2]=-e*g,a[3]=c*g,a):null}function G(a,b){var c=b[0];return a[0]=b[3],a[1]=-b[1],a[2]=-b[2],a[3]=c,a}function H(a){return a[0]*a[3]-a[2]*a[1]}function I(a,b,c){var d=b[0],e=b[1],f=b[2],g=b[3],h=c[0],i=c[1],j=c[2],k=c[3];return a[0]=d*h+f*i,a[1]=e*h+g*i,a[2]=d*j+f*k,a[3]=e*j+g*k,a}function J(a,b,c){var d=b[0],e=b[1],f=b[2],g=b[3],h=Math.sin(c),i=Math.cos(c);return a[0]=d*i+f*h,a[1]=e*i+g*h,a[2]=-(d*h)+f*i,a[3]=-(e*h)+g*i,a}function K(a,b,c){var d=b[0],e=b[1],f=b[2],g=b[3],h=c[0],i=c[1];return a[0]=d*h,a[1]=e*h,a[2]=f*i,a[3]=g*i,a}function L(a,b){var c=Math.sin(b),d=Math.cos(b);return a[0]=d,a[1]=c,a[2]=-c,a[3]=d,a}function M(a,b){return a[0]=b[0],a[1]=0,a[2]=0,a[3]=b[1],a}function N(a){return"mat2("+a[0]+", "+a[1]+", "+a[2]+", "+a[3]+")"}function O(a){return Math.sqrt(a[0]*a[0]+a[1]*a[1]+a[2]*a[2]+a[3]*a[3])}function P(a,b,c,d){return a[2]=d[2]/d[0],c[0]=d[0],c[1]=d[1],c[3]=d[3]-a[2]*c[1],[a,b,c]}function Q(a,b,c){return a[0]=b[0]+c[0],a[1]=b[1]+c[1],a[2]=b[2]+c[2],a[3]=b[3]+c[3],a}function R(a,b,c){return a[0]=b[0]-c[0],a[1]=b[1]-c[1],a[2]=b[2]-c[2],a[3]=b[3]-c[3],a}function S(a,b){return a[0]===b[0]&&a[1]===b[1]&&a[2]===b[2]&&a[3]===b[3]}function T(a,b){var c=a[0],d=a[1],e=a[2],f=a[3],g=b[0],h=b[1],i=b[2],j=b[3];return Math.abs(c-g)<=n*Math.max(1,Math.abs(c),Math.abs(g))&&Math.abs(d-h)<=n*Math.max(1,Math.abs(d),Math.abs(h))&&Math.abs(e-i)<=n*Math.max(1,Math.abs(e),Math.abs(i))&&Math.abs(f-j)<=n*Math.max(1,Math.abs(f),Math.abs(j))}function U(a,b,c){return a[0]=b[0]*c,a[1]=b[1]*c,a[2]=b[2]*c,a[3]=b[3]*c,a}function V(a,b,c,d){return a[0]=b[0]+c[0]*d,a[1]=b[1]+c[1]*d,a[2]=b[2]+c[2]*d,a[3]=b[3]+c[3]*d,a}var W=I,X=R;function Y(){var a=new o(6);return o!=Float32Array&&(a[1]=0,a[2]=0,a[4]=0,a[5]=0),a[0]=1,a[3]=1,a}function Z(a){var b=new o(6);return b[0]=a[0],b[1]=a[1],b[2]=a[2],b[3]=a[3],b[4]=a[4],b[5]=a[5],b}function $(a,b){return a[0]=b[0],a[1]=b[1],a[2]=b[2],a[3]=b[3],a[4]=b[4],a[5]=b[5],a}function _(a){return a[0]=1,a[1]=0,a[2]=0,a[3]=1,a[4]=0,a[5]=0,a}function aa(a,b,c,d,e,f){var g=new o(6);return g[0]=a,g[1]=b,g[2]=c,g[3]=d,g[4]=e,g[5]=f,g}function ab(a,b,c,d,e,f,g){return a[0]=b,a[1]=c,a[2]=d,a[3]=e,a[4]=f,a[5]=g,a}function ac(a,b){var c=b[0],d=b[1],e=b[2],f=b[3],g=b[4],h=b[5],i=c*f-d*e;return i?(i=1/i,a[0]=f*i,a[1]=-d*i,a[2]=-e*i,a[3]=c*i,a[4]=(e*h-f*g)*i,a[5]=(d*g-c*h)*i,a):null}function ad(a){return a[0]*a[3]-a[1]*a[2]}function ae(a,b,c){var d=b[0],e=b[1],f=b[2],g=b[3],h=b[4],i=b[5],j=c[0],k=c[1],l=c[2],m=c[3],n=c[4],o=c[5];return a[0]=d*j+f*k,a[1]=e*j+g*k,a[2]=d*l+f*m,a[3]=e*l+g*m,a[4]=d*n+f*o+h,a[5]=e*n+g*o+i,a}function af(a,b,c){var d=b[0],e=b[1],f=b[2],g=b[3],h=b[4],i=b[5],j=Math.sin(c),k=Math.cos(c);return a[0]=d*k+f*j,a[1]=e*k+g*j,a[2]=-(d*j)+f*k,a[3]=-(e*j)+g*k,a[4]=h,a[5]=i,a}function ag(a,b,c){var d=b[0],e=b[1],f=b[2],g=b[3],h=b[4],i=b[5],j=c[0],k=c[1];return a[0]=d*j,a[1]=e*j,a[2]=f*k,a[3]=g*k,a[4]=h,a[5]=i,a}function ah(a,b,c){var d=b[0],e=b[1],f=b[2],g=b[3],h=b[4],i=b[5],j=c[0],k=c[1];return a[0]=d,a[1]=e,a[2]=f,a[3]=g,a[4]=d*j+f*k+h,a[5]=e*j+g*k+i,a}function ai(a,b){var c=Math.sin(b),d=Math.cos(b);return a[0]=d,a[1]=c,a[2]=-c,a[3]=d,a[4]=0,a[5]=0,a}function aj(a,b){return a[0]=b[0],a[1]=0,a[2]=0,a[3]=b[1],a[4]=0,a[5]=0,a}function ak(a,b){return a[0]=1,a[1]=0,a[2]=0,a[3]=1,a[4]=b[0],a[5]=b[1],a}function al(a){return"mat2d("+a[0]+", "+a[1]+", "+a[2]+", "+a[3]+", "+a[4]+", "+a[5]+")"}function am(a){return Math.sqrt(a[0]*a[0]+a[1]*a[1]+a[2]*a[2]+a[3]*a[3]+a[4]*a[4]+a[5]*a[5]+1)}function an(a,b,c){return a[0]=b[0]+c[0],a[1]=b[1]+c[1],a[2]=b[2]+c[2],a[3]=b[3]+c[3],a[4]=b[4]+c[4],a[5]=b[5]+c[5],a}function ao(a,b,c){return a[0]=b[0]-c[0],a[1]=b[1]-c[1],a[2]=b[2]-c[2],a[3]=b[3]-c[3],a[4]=b[4]-c[4],a[5]=b[5]-c[5],a}function ap(a,b,c){return a[0]=b[0]*c,a[1]=b[1]*c,a[2]=b[2]*c,a[3]=b[3]*c,a[4]=b[4]*c,a[5]=b[5]*c,a}function aq(a,b,c,d){return a[0]=b[0]+c[0]*d,a[1]=b[1]+c[1]*d,a[2]=b[2]+c[2]*d,a[3]=b[3]+c[3]*d,a[4]=b[4]+c[4]*d,a[5]=b[5]+c[5]*d,a}function ar(a,b){return a[0]===b[0]&&a[1]===b[1]&&a[2]===b[2]&&a[3]===b[3]&&a[4]===b[4]&&a[5]===b[5]}function as(a,b){var c=a[0],d=a[1],e=a[2],f=a[3],g=a[4],h=a[5],i=b[0],j=b[1],k=b[2],l=b[3],m=b[4],o=b[5];return Math.abs(c-i)<=n*Math.max(1,Math.abs(c),Math.abs(i))&&Math.abs(d-j)<=n*Math.max(1,Math.abs(d),Math.abs(j))&&Math.abs(e-k)<=n*Math.max(1,Math.abs(e),Math.abs(k))&&Math.abs(f-l)<=n*Math.max(1,Math.abs(f),Math.abs(l))&&Math.abs(g-m)<=n*Math.max(1,Math.abs(g),Math.abs(m))&&Math.abs(h-o)<=n*Math.max(1,Math.abs(h),Math.abs(o))}var at=ae,au=ao;function av(){var a=new o(9);return o!=Float32Array&&(a[1]=0,a[2]=0,a[3]=0,a[5]=0,a[6]=0,a[7]=0),a[0]=1,a[4]=1,a[8]=1,a}function aw(a,b){return a[0]=b[0],a[1]=b[1],a[2]=b[2],a[3]=b[4],a[4]=b[5],a[5]=b[6],a[6]=b[8],a[7]=b[9],a[8]=b[10],a}function ax(a){var b=new o(9);return b[0]=a[0],b[1]=a[1],b[2]=a[2],b[3]=a[3],b[4]=a[4],b[5]=a[5],b[6]=a[6],b[7]=a[7],b[8]=a[8],b}function ay(a,b){return a[0]=b[0],a[1]=b[1],a[2]=b[2],a[3]=b[3],a[4]=b[4],a[5]=b[5],a[6]=b[6],a[7]=b[7],a[8]=b[8],a}function az(a,b,c,d,e,f,g,h,i){var j=new o(9);return j[0]=a,j[1]=b,j[2]=c,j[3]=d,j[4]=e,j[5]=f,j[6]=g,j[7]=h,j[8]=i,j}function aA(a,b,c,d,e,f,g,h,i,j){return a[0]=b,a[1]=c,a[2]=d,a[3]=e,a[4]=f,a[5]=g,a[6]=h,a[7]=i,a[8]=j,a}function aB(a){return a[0]=1,a[1]=0,a[2]=0,a[3]=0,a[4]=1,a[5]=0,a[6]=0,a[7]=0,a[8]=1,a}function aC(a,b){if(a===b){var c=b[1],d=b[2],e=b[5];a[1]=b[3],a[2]=b[6],a[3]=c,a[5]=b[7],a[6]=d,a[7]=e}else a[0]=b[0],a[1]=b[3],a[2]=b[6],a[3]=b[1],a[4]=b[4],a[5]=b[7],a[6]=b[2],a[7]=b[5],a[8]=b[8];return a}function aD(a,b){var c=b[0],d=b[1],e=b[2],f=b[3],g=b[4],h=b[5],i=b[6],j=b[7],k=b[8],l=k*g-h*j,m=-k*f+h*i,n=j*f-g*i,o=c*l+d*m+e*n;return o?(o=1/o,a[0]=l*o,a[1]=(-k*d+e*j)*o,a[2]=(h*d-e*g)*o,a[3]=m*o,a[4]=(k*c-e*i)*o,a[5]=(-h*c+e*f)*o,a[6]=n*o,a[7]=(-j*c+d*i)*o,a[8]=(g*c-d*f)*o,a):null}function aE(a,b){var c=b[0],d=b[1],e=b[2],f=b[3],g=b[4],h=b[5],i=b[6],j=b[7],k=b[8];return a[0]=g*k-h*j,a[1]=e*j-d*k,a[2]=d*h-e*g,a[3]=h*i-f*k,a[4]=c*k-e*i,a[5]=e*f-c*h,a[6]=f*j-g*i,a[7]=d*i-c*j,a[8]=c*g-d*f,a}function aF(a){var b=a[0],c=a[1],d=a[2],e=a[3],f=a[4],g=a[5],h=a[6],i=a[7],j=a[8];return b*(j*f-g*i)+c*(-j*e+g*h)+d*(i*e-f*h)}function aG(a,b,c){var d=b[0],e=b[1],f=b[2],g=b[3],h=b[4],i=b[5],j=b[6],k=b[7],l=b[8],m=c[0],n=c[1],o=c[2],p=c[3],q=c[4],r=c[5],s=c[6],t=c[7],u=c[8];return a[0]=m*d+n*g+o*j,a[1]=m*e+n*h+o*k,a[2]=m*f+n*i+o*l,a[3]=p*d+q*g+r*j,a[4]=p*e+q*h+r*k,a[5]=p*f+q*i+r*l,a[6]=s*d+t*g+u*j,a[7]=s*e+t*h+u*k,a[8]=s*f+t*i+u*l,a}function aH(a,b,c){var d=b[0],e=b[1],f=b[2],g=b[3],h=b[4],i=b[5],j=b[6],k=b[7],l=b[8],m=c[0],n=c[1];return a[0]=d,a[1]=e,a[2]=f,a[3]=g,a[4]=h,a[5]=i,a[6]=m*d+n*g+j,a[7]=m*e+n*h+k,a[8]=m*f+n*i+l,a}function aI(a,b,c){var d=b[0],e=b[1],f=b[2],g=b[3],h=b[4],i=b[5],j=b[6],k=b[7],l=b[8],m=Math.sin(c),n=Math.cos(c);return a[0]=n*d+m*g,a[1]=n*e+m*h,a[2]=n*f+m*i,a[3]=n*g-m*d,a[4]=n*h-m*e,a[5]=n*i-m*f,a[6]=j,a[7]=k,a[8]=l,a}function aJ(a,b,c){var d=c[0],e=c[1];return a[0]=d*b[0],a[1]=d*b[1],a[2]=d*b[2],a[3]=e*b[3],a[4]=e*b[4],a[5]=e*b[5],a[6]=b[6],a[7]=b[7],a[8]=b[8],a}function aK(a,b){return a[0]=1,a[1]=0,a[2]=0,a[3]=0,a[4]=1,a[5]=0,a[6]=b[0],a[7]=b[1],a[8]=1,a}function aL(a,b){var c=Math.sin(b),d=Math.cos(b);return a[0]=d,a[1]=c,a[2]=0,a[3]=-c,a[4]=d,a[5]=0,a[6]=0,a[7]=0,a[8]=1,a}function aM(a,b){return a[0]=b[0],a[1]=0,a[2]=0,a[3]=0,a[4]=b[1],a[5]=0,a[6]=0,a[7]=0,a[8]=1,a}function aN(a,b){return a[0]=b[0],a[1]=b[1],a[2]=0,a[3]=b[2],a[4]=b[3],a[5]=0,a[6]=b[4],a[7]=b[5],a[8]=1,a}function aO(a,b){var c=b[0],d=b[1],e=b[2],f=b[3],g=c+c,h=d+d,i=e+e,j=c*g,k=d*g,l=d*h,m=e*g,n=e*h,o=e*i,p=f*g,q=f*h,r=f*i;return a[0]=1-l-o,a[3]=k-r,a[6]=m+q,a[1]=k+r,a[4]=1-j-o,a[7]=n-p,a[2]=m-q,a[5]=n+p,a[8]=1-j-l,a}function aP(a,b){var c=b[0],d=b[1],e=b[2],f=b[3],g=b[4],h=b[5],i=b[6],j=b[7],k=b[8],l=b[9],m=b[10],n=b[11],o=b[12],p=b[13],q=b[14],r=b[15],s=c*h-d*g,t=c*i-e*g,u=c*j-f*g,v=d*i-e*h,w=d*j-f*h,x=e*j-f*i,y=k*p-l*o,z=k*q-m*o,A=k*r-n*o,B=l*q-m*p,C=l*r-n*p,D=m*r-n*q,E=s*D-t*C+u*B+v*A-w*z+x*y;return E?(E=1/E,a[0]=(h*D-i*C+j*B)*E,a[1]=(i*A-g*D-j*z)*E,a[2]=(g*C-h*A+j*y)*E,a[3]=(e*C-d*D-f*B)*E,a[4]=(c*D-e*A+f*z)*E,a[5]=(d*A-c*C-f*y)*E,a[6]=(p*x-q*w+r*v)*E,a[7]=(q*u-o*x-r*t)*E,a[8]=(o*w-p*u+r*s)*E,a):null}function aQ(a,b,c){return a[0]=2/b,a[1]=0,a[2]=0,a[3]=0,a[4]=-2/c,a[5]=0,a[6]=-1,a[7]=1,a[8]=1,a}function aR(a){return"mat3("+a[0]+", "+a[1]+", "+a[2]+", "+a[3]+", "+a[4]+", "+a[5]+", "+a[6]+", "+a[7]+", "+a[8]+")"}function aS(a){return Math.sqrt(a[0]*a[0]+a[1]*a[1]+a[2]*a[2]+a[3]*a[3]+a[4]*a[4]+a[5]*a[5]+a[6]*a[6]+a[7]*a[7]+a[8]*a[8])}function aT(a,b,c){return a[0]=b[0]+c[0],a[1]=b[1]+c[1],a[2]=b[2]+c[2],a[3]=b[3]+c[3],a[4]=b[4]+c[4],a[5]=b[5]+c[5],a[6]=b[6]+c[6],a[7]=b[7]+c[7],a[8]=b[8]+c[8],a}function aU(a,b,c){return a[0]=b[0]-c[0],a[1]=b[1]-c[1],a[2]=b[2]-c[2],a[3]=b[3]-c[3],a[4]=b[4]-c[4],a[5]=b[5]-c[5],a[6]=b[6]-c[6],a[7]=b[7]-c[7],a[8]=b[8]-c[8],a}function aV(a,b,c){return a[0]=b[0]*c,a[1]=b[1]*c,a[2]=b[2]*c,a[3]=b[3]*c,a[4]=b[4]*c,a[5]=b[5]*c,a[6]=b[6]*c,a[7]=b[7]*c,a[8]=b[8]*c,a}function aW(a,b,c,d){return a[0]=b[0]+c[0]*d,a[1]=b[1]+c[1]*d,a[2]=b[2]+c[2]*d,a[3]=b[3]+c[3]*d,a[4]=b[4]+c[4]*d,a[5]=b[5]+c[5]*d,a[6]=b[6]+c[6]*d,a[7]=b[7]+c[7]*d,a[8]=b[8]+c[8]*d,a}function aX(a,b){return a[0]===b[0]&&a[1]===b[1]&&a[2]===b[2]&&a[3]===b[3]&&a[4]===b[4]&&a[5]===b[5]&&a[6]===b[6]&&a[7]===b[7]&&a[8]===b[8]}function aY(a,b){var c=a[0],d=a[1],e=a[2],f=a[3],g=a[4],h=a[5],i=a[6],j=a[7],k=a[8],l=b[0],m=b[1],o=b[2],p=b[3],q=b[4],r=b[5],s=b[6],t=b[7],u=b[8];return Math.abs(c-l)<=n*Math.max(1,Math.abs(c),Math.abs(l))&&Math.abs(d-m)<=n*Math.max(1,Math.abs(d),Math.abs(m))&&Math.abs(e-o)<=n*Math.max(1,Math.abs(e),Math.abs(o))&&Math.abs(f-p)<=n*Math.max(1,Math.abs(f),Math.abs(p))&&Math.abs(g-q)<=n*Math.max(1,Math.abs(g),Math.abs(q))&&Math.abs(h-r)<=n*Math.max(1,Math.abs(h),Math.abs(r))&&Math.abs(i-s)<=n*Math.max(1,Math.abs(i),Math.abs(s))&&Math.abs(j-t)<=n*Math.max(1,Math.abs(j),Math.abs(t))&&Math.abs(k-u)<=n*Math.max(1,Math.abs(k),Math.abs(u))}var aZ=aG,a$=aU;function a_(){var a=new o(16);return o!=Float32Array&&(a[1]=0,a[2]=0,a[3]=0,a[4]=0,a[6]=0,a[7]=0,a[8]=0,a[9]=0,a[11]=0,a[12]=0,a[13]=0,a[14]=0),a[0]=1,a[5]=1,a[10]=1,a[15]=1,a}function a0(a){var b=new o(16);return b[0]=a[0],b[1]=a[1],b[2]=a[2],b[3]=a[3],b[4]=a[4],b[5]=a[5],b[6]=a[6],b[7]=a[7],b[8]=a[8],b[9]=a[9],b[10]=a[10],b[11]=a[11],b[12]=a[12],b[13]=a[13],b[14]=a[14],b[15]=a[15],b}function a1(a,b){return a[0]=b[0],a[1]=b[1],a[2]=b[2],a[3]=b[3],a[4]=b[4],a[5]=b[5],a[6]=b[6],a[7]=b[7],a[8]=b[8],a[9]=b[9],a[10]=b[10],a[11]=b[11],a[12]=b[12],a[13]=b[13],a[14]=b[14],a[15]=b[15],a}function a2(a,b,c,d,e,f,g,h,i,j,k,l,m,n,p,q){var r=new o(16);return r[0]=a,r[1]=b,r[2]=c,r[3]=d,r[4]=e,r[5]=f,r[6]=g,r[7]=h,r[8]=i,r[9]=j,r[10]=k,r[11]=l,r[12]=m,r[13]=n,r[14]=p,r[15]=q,r}function a3(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q){return a[0]=b,a[1]=c,a[2]=d,a[3]=e,a[4]=f,a[5]=g,a[6]=h,a[7]=i,a[8]=j,a[9]=k,a[10]=l,a[11]=m,a[12]=n,a[13]=o,a[14]=p,a[15]=q,a}function a4(a){return a[0]=1,a[1]=0,a[2]=0,a[3]=0,a[4]=0,a[5]=1,a[6]=0,a[7]=0,a[8]=0,a[9]=0,a[10]=1,a[11]=0,a[12]=0,a[13]=0,a[14]=0,a[15]=1,a}function a5(a,b){if(a===b){var c=b[1],d=b[2],e=b[3],f=b[6],g=b[7],h=b[11];a[1]=b[4],a[2]=b[8],a[3]=b[12],a[4]=c,a[6]=b[9],a[7]=b[13],a[8]=d,a[9]=f,a[11]=b[14],a[12]=e,a[13]=g,a[14]=h}else a[0]=b[0],a[1]=b[4],a[2]=b[8],a[3]=b[12],a[4]=b[1],a[5]=b[5],a[6]=b[9],a[7]=b[13],a[8]=b[2],a[9]=b[6],a[10]=b[10],a[11]=b[14],a[12]=b[3],a[13]=b[7],a[14]=b[11],a[15]=b[15];return a}function a6(a,b){var c=b[0],d=b[1],e=b[2],f=b[3],g=b[4],h=b[5],i=b[6],j=b[7],k=b[8],l=b[9],m=b[10],n=b[11],o=b[12],p=b[13],q=b[14],r=b[15],s=c*h-d*g,t=c*i-e*g,u=c*j-f*g,v=d*i-e*h,w=d*j-f*h,x=e*j-f*i,y=k*p-l*o,z=k*q-m*o,A=k*r-n*o,B=l*q-m*p,C=l*r-n*p,D=m*r-n*q,E=s*D-t*C+u*B+v*A-w*z+x*y;return E?(E=1/E,a[0]=(h*D-i*C+j*B)*E,a[1]=(e*C-d*D-f*B)*E,a[2]=(p*x-q*w+r*v)*E,a[3]=(m*w-l*x-n*v)*E,a[4]=(i*A-g*D-j*z)*E,a[5]=(c*D-e*A+f*z)*E,a[6]=(q*u-o*x-r*t)*E,a[7]=(k*x-m*u+n*t)*E,a[8]=(g*C-h*A+j*y)*E,a[9]=(d*A-c*C-f*y)*E,a[10]=(o*w-p*u+r*s)*E,a[11]=(l*u-k*w-n*s)*E,a[12]=(h*z-g*B-i*y)*E,a[13]=(c*B-d*z+e*y)*E,a[14]=(p*t-o*v-q*s)*E,a[15]=(k*v-l*t+m*s)*E,a):null}function a7(a,b){var c=b[0],d=b[1],e=b[2],f=b[3],g=b[4],h=b[5],i=b[6],j=b[7],k=b[8],l=b[9],m=b[10],n=b[11],o=b[12],p=b[13],q=b[14],r=b[15],s=c*h-d*g,t=c*i-e*g,u=c*j-f*g,v=d*i-e*h,w=d*j-f*h,x=e*j-f*i,y=k*p-l*o,z=k*q-m*o,A=k*r-n*o,B=l*q-m*p,C=l*r-n*p,D=m*r-n*q;return a[0]=h*D-i*C+j*B,a[1]=e*C-d*D-f*B,a[2]=p*x-q*w+r*v,a[3]=m*w-l*x-n*v,a[4]=i*A-g*D-j*z,a[5]=c*D-e*A+f*z,a[6]=q*u-o*x-r*t,a[7]=k*x-m*u+n*t,a[8]=g*C-h*A+j*y,a[9]=d*A-c*C-f*y,a[10]=o*w-p*u+r*s,a[11]=l*u-k*w-n*s,a[12]=h*z-g*B-i*y,a[13]=c*B-d*z+e*y,a[14]=p*t-o*v-q*s,a[15]=k*v-l*t+m*s,a}function a8(a){var b=a[0],c=a[1],d=a[2],e=a[3],f=a[4],g=a[5],h=a[6],i=a[7],j=a[8],k=a[9],l=a[10],m=a[11],n=a[12],o=a[13],p=a[14],q=a[15],r=b*g-c*f,s=b*h-d*f,t=c*h-d*g,u=j*o-k*n,v=j*p-l*n,w=k*p-l*o;return i*(b*w-c*v+d*u)-e*(f*w-g*v+h*u)+q*(j*t-k*s+l*r)-m*(n*t-o*s+p*r)}function a9(a,b,c){var d=b[0],e=b[1],f=b[2],g=b[3],h=b[4],i=b[5],j=b[6],k=b[7],l=b[8],m=b[9],n=b[10],o=b[11],p=b[12],q=b[13],r=b[14],s=b[15],t=c[0],u=c[1],v=c[2],w=c[3];return a[0]=t*d+u*h+v*l+w*p,a[1]=t*e+u*i+v*m+w*q,a[2]=t*f+u*j+v*n+w*r,a[3]=t*g+u*k+v*o+w*s,t=c[4],u=c[5],v=c[6],w=c[7],a[4]=t*d+u*h+v*l+w*p,a[5]=t*e+u*i+v*m+w*q,a[6]=t*f+u*j+v*n+w*r,a[7]=t*g+u*k+v*o+w*s,t=c[8],u=c[9],v=c[10],w=c[11],a[8]=t*d+u*h+v*l+w*p,a[9]=t*e+u*i+v*m+w*q,a[10]=t*f+u*j+v*n+w*r,a[11]=t*g+u*k+v*o+w*s,t=c[12],u=c[13],v=c[14],w=c[15],a[12]=t*d+u*h+v*l+w*p,a[13]=t*e+u*i+v*m+w*q,a[14]=t*f+u*j+v*n+w*r,a[15]=t*g+u*k+v*o+w*s,a}function ba(a,b,c){var d,e,f,g,h,i,j,k,l,m,n,o,p=c[0],q=c[1],r=c[2];return b===a?(a[12]=b[0]*p+b[4]*q+b[8]*r+b[12],a[13]=b[1]*p+b[5]*q+b[9]*r+b[13],a[14]=b[2]*p+b[6]*q+b[10]*r+b[14],a[15]=b[3]*p+b[7]*q+b[11]*r+b[15]):(d=b[0],e=b[1],f=b[2],g=b[3],h=b[4],i=b[5],j=b[6],k=b[7],l=b[8],m=b[9],n=b[10],o=b[11],a[0]=d,a[1]=e,a[2]=f,a[3]=g,a[4]=h,a[5]=i,a[6]=j,a[7]=k,a[8]=l,a[9]=m,a[10]=n,a[11]=o,a[12]=d*p+h*q+l*r+b[12],a[13]=e*p+i*q+m*r+b[13],a[14]=f*p+j*q+n*r+b[14],a[15]=g*p+k*q+o*r+b[15]),a}function bb(a,b,c){var d=c[0],e=c[1],f=c[2];return a[0]=b[0]*d,a[1]=b[1]*d,a[2]=b[2]*d,a[3]=b[3]*d,a[4]=b[4]*e,a[5]=b[5]*e,a[6]=b[6]*e,a[7]=b[7]*e,a[8]=b[8]*f,a[9]=b[9]*f,a[10]=b[10]*f,a[11]=b[11]*f,a[12]=b[12],a[13]=b[13],a[14]=b[14],a[15]=b[15],a}function bc(a,b,c,d){var e,f,g,h,i,j,k,l,m,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D=d[0],E=d[1],F=d[2],G=Math.sqrt(D*D+E*E+F*F);return G<n?null:(D*=G=1/G,E*=G,F*=G,e=Math.sin(c),g=1-(f=Math.cos(c)),h=b[0],i=b[1],j=b[2],k=b[3],l=b[4],m=b[5],o=b[6],p=b[7],q=b[8],r=b[9],s=b[10],t=b[11],u=D*D*g+f,v=E*D*g+F*e,w=F*D*g-E*e,x=D*E*g-F*e,y=E*E*g+f,z=F*E*g+D*e,A=D*F*g+E*e,B=E*F*g-D*e,C=F*F*g+f,a[0]=h*u+l*v+q*w,a[1]=i*u+m*v+r*w,a[2]=j*u+o*v+s*w,a[3]=k*u+p*v+t*w,a[4]=h*x+l*y+q*z,a[5]=i*x+m*y+r*z,a[6]=j*x+o*y+s*z,a[7]=k*x+p*y+t*z,a[8]=h*A+l*B+q*C,a[9]=i*A+m*B+r*C,a[10]=j*A+o*B+s*C,a[11]=k*A+p*B+t*C,b!==a&&(a[12]=b[12],a[13]=b[13],a[14]=b[14],a[15]=b[15]),a)}function bd(a,b,c){var d=Math.sin(c),e=Math.cos(c),f=b[4],g=b[5],h=b[6],i=b[7],j=b[8],k=b[9],l=b[10],m=b[11];return b!==a&&(a[0]=b[0],a[1]=b[1],a[2]=b[2],a[3]=b[3],a[12]=b[12],a[13]=b[13],a[14]=b[14],a[15]=b[15]),a[4]=f*e+j*d,a[5]=g*e+k*d,a[6]=h*e+l*d,a[7]=i*e+m*d,a[8]=j*e-f*d,a[9]=k*e-g*d,a[10]=l*e-h*d,a[11]=m*e-i*d,a}function be(a,b,c){var d=Math.sin(c),e=Math.cos(c),f=b[0],g=b[1],h=b[2],i=b[3],j=b[8],k=b[9],l=b[10],m=b[11];return b!==a&&(a[4]=b[4],a[5]=b[5],a[6]=b[6],a[7]=b[7],a[12]=b[12],a[13]=b[13],a[14]=b[14],a[15]=b[15]),a[0]=f*e-j*d,a[1]=g*e-k*d,a[2]=h*e-l*d,a[3]=i*e-m*d,a[8]=f*d+j*e,a[9]=g*d+k*e,a[10]=h*d+l*e,a[11]=i*d+m*e,a}function bf(a,b,c){var d=Math.sin(c),e=Math.cos(c),f=b[0],g=b[1],h=b[2],i=b[3],j=b[4],k=b[5],l=b[6],m=b[7];return b!==a&&(a[8]=b[8],a[9]=b[9],a[10]=b[10],a[11]=b[11],a[12]=b[12],a[13]=b[13],a[14]=b[14],a[15]=b[15]),a[0]=f*e+j*d,a[1]=g*e+k*d,a[2]=h*e+l*d,a[3]=i*e+m*d,a[4]=j*e-f*d,a[5]=k*e-g*d,a[6]=l*e-h*d,a[7]=m*e-i*d,a}function bg(a,b){return a[0]=1,a[1]=0,a[2]=0,a[3]=0,a[4]=0,a[5]=1,a[6]=0,a[7]=0,a[8]=0,a[9]=0,a[10]=1,a[11]=0,a[12]=b[0],a[13]=b[1],a[14]=b[2],a[15]=1,a}function bh(a,b){return a[0]=b[0],a[1]=0,a[2]=0,a[3]=0,a[4]=0,a[5]=b[1],a[6]=0,a[7]=0,a[8]=0,a[9]=0,a[10]=b[2],a[11]=0,a[12]=0,a[13]=0,a[14]=0,a[15]=1,a}function bi(a,b,c){var d,e,f,g=c[0],h=c[1],i=c[2],j=Math.sqrt(g*g+h*h+i*i);return j<n?null:(g*=j=1/j,h*=j,i*=j,d=Math.sin(b),f=1-(e=Math.cos(b)),a[0]=g*g*f+e,a[1]=h*g*f+i*d,a[2]=i*g*f-h*d,a[3]=0,a[4]=g*h*f-i*d,a[5]=h*h*f+e,a[6]=i*h*f+g*d,a[7]=0,a[8]=g*i*f+h*d,a[9]=h*i*f-g*d,a[10]=i*i*f+e,a[11]=0,a[12]=0,a[13]=0,a[14]=0,a[15]=1,a)}function bj(a,b){var c=Math.sin(b),d=Math.cos(b);return a[0]=1,a[1]=0,a[2]=0,a[3]=0,a[4]=0,a[5]=d,a[6]=c,a[7]=0,a[8]=0,a[9]=-c,a[10]=d,a[11]=0,a[12]=0,a[13]=0,a[14]=0,a[15]=1,a}function bk(a,b){var c=Math.sin(b),d=Math.cos(b);return a[0]=d,a[1]=0,a[2]=-c,a[3]=0,a[4]=0,a[5]=1,a[6]=0,a[7]=0,a[8]=c,a[9]=0,a[10]=d,a[11]=0,a[12]=0,a[13]=0,a[14]=0,a[15]=1,a}function bl(a,b){var c=Math.sin(b),d=Math.cos(b);return a[0]=d,a[1]=c,a[2]=0,a[3]=0,a[4]=-c,a[5]=d,a[6]=0,a[7]=0,a[8]=0,a[9]=0,a[10]=1,a[11]=0,a[12]=0,a[13]=0,a[14]=0,a[15]=1,a}function bm(a,b,c){var d=b[0],e=b[1],f=b[2],g=b[3],h=d+d,i=e+e,j=f+f,k=d*h,l=d*i,m=d*j,n=e*i,o=e*j,p=f*j,q=g*h,r=g*i,s=g*j;return a[0]=1-(n+p),a[1]=l+s,a[2]=m-r,a[3]=0,a[4]=l-s,a[5]=1-(k+p),a[6]=o+q,a[7]=0,a[8]=m+r,a[9]=o-q,a[10]=1-(k+n),a[11]=0,a[12]=c[0],a[13]=c[1],a[14]=c[2],a[15]=1,a}function bn(a,b){var c=new o(3),d=-b[0],e=-b[1],f=-b[2],g=b[3],h=b[4],i=b[5],j=b[6],k=b[7],l=d*d+e*e+f*f+g*g;return l>0?(c[0]=(h*g+k*d+i*f-j*e)*2/l,c[1]=(i*g+k*e+j*d-h*f)*2/l,c[2]=(j*g+k*f+h*e-i*d)*2/l):(c[0]=(h*g+k*d+i*f-j*e)*2,c[1]=(i*g+k*e+j*d-h*f)*2,c[2]=(j*g+k*f+h*e-i*d)*2),bm(a,b,c),a}function bo(a,b){return a[0]=b[12],a[1]=b[13],a[2]=b[14],a}function bp(a,b){var c=b[0],d=b[1],e=b[2],f=b[4],g=b[5],h=b[6],i=b[8],j=b[9],k=b[10];return a[0]=Math.sqrt(c*c+d*d+e*e),a[1]=Math.sqrt(f*f+g*g+h*h),a[2]=Math.sqrt(i*i+j*j+k*k),a}function bq(a,b){var c=new o(3);bp(c,b);var d=1/c[0],e=1/c[1],f=1/c[2],g=b[0]*d,h=b[1]*e,i=b[2]*f,j=b[4]*d,k=b[5]*e,l=b[6]*f,m=b[8]*d,n=b[9]*e,p=b[10]*f,q=g+k+p,r=0;return q>0?(r=2*Math.sqrt(q+1),a[3]=.25*r,a[0]=(l-n)/r,a[1]=(m-i)/r,a[2]=(h-j)/r):g>k&&g>p?(r=2*Math.sqrt(1+g-k-p),a[3]=(l-n)/r,a[0]=.25*r,a[1]=(h+j)/r,a[2]=(m+i)/r):k>p?(r=2*Math.sqrt(1+k-g-p),a[3]=(m-i)/r,a[0]=(h+j)/r,a[1]=.25*r,a[2]=(l+n)/r):(r=2*Math.sqrt(1+p-g-k),a[3]=(h-j)/r,a[0]=(m+i)/r,a[1]=(l+n)/r,a[2]=.25*r),a}function br(a,b,c,d){b[0]=d[12],b[1]=d[13],b[2]=d[14];var e=d[0],f=d[1],g=d[2],h=d[4],i=d[5],j=d[6],k=d[8],l=d[9],m=d[10];c[0]=Math.sqrt(e*e+f*f+g*g),c[1]=Math.sqrt(h*h+i*i+j*j),c[2]=Math.sqrt(k*k+l*l+m*m);var n=1/c[0],o=1/c[1],p=1/c[2],q=e*n,r=f*o,s=g*p,t=h*n,u=i*o,v=j*p,w=k*n,x=l*o,y=m*p,z=q+u+y,A=0;return z>0?(A=2*Math.sqrt(z+1),a[3]=.25*A,a[0]=(v-x)/A,a[1]=(w-s)/A,a[2]=(r-t)/A):q>u&&q>y?(A=2*Math.sqrt(1+q-u-y),a[3]=(v-x)/A,a[0]=.25*A,a[1]=(r+t)/A,a[2]=(w+s)/A):u>y?(A=2*Math.sqrt(1+u-q-y),a[3]=(w-s)/A,a[0]=(r+t)/A,a[1]=.25*A,a[2]=(v+x)/A):(A=2*Math.sqrt(1+y-q-u),a[3]=(r-t)/A,a[0]=(w+s)/A,a[1]=(v+x)/A,a[2]=.25*A),a}function bs(a,b,c,d){var e=b[0],f=b[1],g=b[2],h=b[3],i=e+e,j=f+f,k=g+g,l=e*i,m=e*j,n=e*k,o=f*j,p=f*k,q=g*k,r=h*i,s=h*j,t=h*k,u=d[0],v=d[1],w=d[2];return a[0]=(1-(o+q))*u,a[1]=(m+t)*u,a[2]=(n-s)*u,a[3]=0,a[4]=(m-t)*v,a[5]=(1-(l+q))*v,a[6]=(p+r)*v,a[7]=0,a[8]=(n+s)*w,a[9]=(p-r)*w,a[10]=(1-(l+o))*w,a[11]=0,a[12]=c[0],a[13]=c[1],a[14]=c[2],a[15]=1,a}function bt(a,b,c,d,e){var f=b[0],g=b[1],h=b[2],i=b[3],j=f+f,k=g+g,l=h+h,m=f*j,n=f*k,o=f*l,p=g*k,q=g*l,r=h*l,s=i*j,t=i*k,u=i*l,v=d[0],w=d[1],x=d[2],y=e[0],z=e[1],A=e[2],B=(1-(p+r))*v,C=(n+u)*v,D=(o-t)*v,E=(n-u)*w,F=(1-(m+r))*w,G=(q+s)*w,H=(o+t)*x,I=(q-s)*x,J=(1-(m+p))*x;return a[0]=B,a[1]=C,a[2]=D,a[3]=0,a[4]=E,a[5]=F,a[6]=G,a[7]=0,a[8]=H,a[9]=I,a[10]=J,a[11]=0,a[12]=c[0]+y-(B*y+E*z+H*A),a[13]=c[1]+z-(C*y+F*z+I*A),a[14]=c[2]+A-(D*y+G*z+J*A),a[15]=1,a}function bu(a,b){var c=b[0],d=b[1],e=b[2],f=b[3],g=c+c,h=d+d,i=e+e,j=c*g,k=d*g,l=d*h,m=e*g,n=e*h,o=e*i,p=f*g,q=f*h,r=f*i;return a[0]=1-l-o,a[1]=k+r,a[2]=m-q,a[3]=0,a[4]=k-r,a[5]=1-j-o,a[6]=n+p,a[7]=0,a[8]=m+q,a[9]=n-p,a[10]=1-j-l,a[11]=0,a[12]=0,a[13]=0,a[14]=0,a[15]=1,a}function bv(a,b,c,d,e,f,g){var h=1/(c-b),i=1/(e-d),j=1/(f-g);return a[0]=2*f*h,a[1]=0,a[2]=0,a[3]=0,a[4]=0,a[5]=2*f*i,a[6]=0,a[7]=0,a[8]=(c+b)*h,a[9]=(e+d)*i,a[10]=(g+f)*j,a[11]=-1,a[12]=0,a[13]=0,a[14]=g*f*2*j,a[15]=0,a}function bw(a,b,c,d,e){var f=1/Math.tan(b/2);if(a[0]=f/c,a[1]=0,a[2]=0,a[3]=0,a[4]=0,a[5]=f,a[6]=0,a[7]=0,a[8]=0,a[9]=0,a[11]=-1,a[12]=0,a[13]=0,a[15]=0,null!=e&&e!==1/0){var g=1/(d-e);a[10]=(e+d)*g,a[14]=2*e*d*g}else a[10]=-1,a[14]=-2*d;return a}var bx=bw;function by(a,b,c,d,e){var f=1/Math.tan(b/2);if(a[0]=f/c,a[1]=0,a[2]=0,a[3]=0,a[4]=0,a[5]=f,a[6]=0,a[7]=0,a[8]=0,a[9]=0,a[11]=-1,a[12]=0,a[13]=0,a[15]=0,null!=e&&e!==1/0){var g=1/(d-e);a[10]=e*g,a[14]=e*d*g}else a[10]=-1,a[14]=-d;return a}function bz(a,b,c,d){var e=Math.tan(b.upDegrees*Math.PI/180),f=Math.tan(b.downDegrees*Math.PI/180),g=Math.tan(b.leftDegrees*Math.PI/180),h=Math.tan(b.rightDegrees*Math.PI/180),i=2/(g+h),j=2/(e+f);return a[0]=i,a[1]=0,a[2]=0,a[3]=0,a[4]=0,a[5]=j,a[6]=0,a[7]=0,a[8]=-((g-h)*i*.5),a[9]=(e-f)*j*.5,a[10]=d/(c-d),a[11]=-1,a[12]=0,a[13]=0,a[14]=d*c/(c-d),a[15]=0,a}function bA(a,b,c,d,e,f,g){var h=1/(b-c),i=1/(d-e),j=1/(f-g);return a[0]=-2*h,a[1]=0,a[2]=0,a[3]=0,a[4]=0,a[5]=-2*i,a[6]=0,a[7]=0,a[8]=0,a[9]=0,a[10]=2*j,a[11]=0,a[12]=(b+c)*h,a[13]=(e+d)*i,a[14]=(g+f)*j,a[15]=1,a}var bB=bA;function bC(a,b,c,d,e,f,g){var h=1/(b-c),i=1/(d-e),j=1/(f-g);return a[0]=-2*h,a[1]=0,a[2]=0,a[3]=0,a[4]=0,a[5]=-2*i,a[6]=0,a[7]=0,a[8]=0,a[9]=0,a[10]=j,a[11]=0,a[12]=(b+c)*h,a[13]=(e+d)*i,a[14]=f*j,a[15]=1,a}function bD(a,b,c,d){var e,f,g,h,i,j,k,l,m,o,p=b[0],q=b[1],r=b[2],s=d[0],t=d[1],u=d[2],v=c[0],w=c[1],x=c[2];return Math.abs(p-v)<n&&Math.abs(q-w)<n&&Math.abs(r-x)<n?a4(a):(o=1/Math.sqrt((k=p-v)*k+(l=q-w)*l+(m=r-x)*m),k*=o,l*=o,m*=o,(o=Math.sqrt((e=t*m-u*l)*e+(f=u*k-s*m)*f+(g=s*l-t*k)*g))?(e*=o=1/o,f*=o,g*=o):(e=0,f=0,g=0),(o=Math.sqrt((h=l*g-m*f)*h+(i=m*e-k*g)*i+(j=k*f-l*e)*j))?(h*=o=1/o,i*=o,j*=o):(h=0,i=0,j=0),a[0]=e,a[1]=h,a[2]=k,a[3]=0,a[4]=f,a[5]=i,a[6]=l,a[7]=0,a[8]=g,a[9]=j,a[10]=m,a[11]=0,a[12]=-(e*p+f*q+g*r),a[13]=-(h*p+i*q+j*r),a[14]=-(k*p+l*q+m*r),a[15]=1,a)}function bE(a,b,c,d){var e=b[0],f=b[1],g=b[2],h=d[0],i=d[1],j=d[2],k=e-c[0],l=f-c[1],m=g-c[2],n=k*k+l*l+m*m;n>0&&(k*=n=1/Math.sqrt(n),l*=n,m*=n);var o=i*m-j*l,p=j*k-h*m,q=h*l-i*k;return(n=o*o+p*p+q*q)>0&&(o*=n=1/Math.sqrt(n),p*=n,q*=n),a[0]=o,a[1]=p,a[2]=q,a[3]=0,a[4]=l*q-m*p,a[5]=m*o-k*q,a[6]=k*p-l*o,a[7]=0,a[8]=k,a[9]=l,a[10]=m,a[11]=0,a[12]=e,a[13]=f,a[14]=g,a[15]=1,a}function bF(a){return"mat4("+a[0]+", "+a[1]+", "+a[2]+", "+a[3]+", "+a[4]+", "+a[5]+", "+a[6]+", "+a[7]+", "+a[8]+", "+a[9]+", "+a[10]+", "+a[11]+", "+a[12]+", "+a[13]+", "+a[14]+", "+a[15]+")"}function bG(a){return Math.sqrt(a[0]*a[0]+a[1]*a[1]+a[2]*a[2]+a[3]*a[3]+a[4]*a[4]+a[5]*a[5]+a[6]*a[6]+a[7]*a[7]+a[8]*a[8]+a[9]*a[9]+a[10]*a[10]+a[11]*a[11]+a[12]*a[12]+a[13]*a[13]+a[14]*a[14]+a[15]*a[15])}function bH(a,b,c){return a[0]=b[0]+c[0],a[1]=b[1]+c[1],a[2]=b[2]+c[2],a[3]=b[3]+c[3],a[4]=b[4]+c[4],a[5]=b[5]+c[5],a[6]=b[6]+c[6],a[7]=b[7]+c[7],a[8]=b[8]+c[8],a[9]=b[9]+c[9],a[10]=b[10]+c[10],a[11]=b[11]+c[11],a[12]=b[12]+c[12],a[13]=b[13]+c[13],a[14]=b[14]+c[14],a[15]=b[15]+c[15],a}function bI(a,b,c){return a[0]=b[0]-c[0],a[1]=b[1]-c[1],a[2]=b[2]-c[2],a[3]=b[3]-c[3],a[4]=b[4]-c[4],a[5]=b[5]-c[5],a[6]=b[6]-c[6],a[7]=b[7]-c[7],a[8]=b[8]-c[8],a[9]=b[9]-c[9],a[10]=b[10]-c[10],a[11]=b[11]-c[11],a[12]=b[12]-c[12],a[13]=b[13]-c[13],a[14]=b[14]-c[14],a[15]=b[15]-c[15],a}function bJ(a,b,c){return a[0]=b[0]*c,a[1]=b[1]*c,a[2]=b[2]*c,a[3]=b[3]*c,a[4]=b[4]*c,a[5]=b[5]*c,a[6]=b[6]*c,a[7]=b[7]*c,a[8]=b[8]*c,a[9]=b[9]*c,a[10]=b[10]*c,a[11]=b[11]*c,a[12]=b[12]*c,a[13]=b[13]*c,a[14]=b[14]*c,a[15]=b[15]*c,a}function bK(a,b,c,d){return a[0]=b[0]+c[0]*d,a[1]=b[1]+c[1]*d,a[2]=b[2]+c[2]*d,a[3]=b[3]+c[3]*d,a[4]=b[4]+c[4]*d,a[5]=b[5]+c[5]*d,a[6]=b[6]+c[6]*d,a[7]=b[7]+c[7]*d,a[8]=b[8]+c[8]*d,a[9]=b[9]+c[9]*d,a[10]=b[10]+c[10]*d,a[11]=b[11]+c[11]*d,a[12]=b[12]+c[12]*d,a[13]=b[13]+c[13]*d,a[14]=b[14]+c[14]*d,a[15]=b[15]+c[15]*d,a}function bL(a,b){return a[0]===b[0]&&a[1]===b[1]&&a[2]===b[2]&&a[3]===b[3]&&a[4]===b[4]&&a[5]===b[5]&&a[6]===b[6]&&a[7]===b[7]&&a[8]===b[8]&&a[9]===b[9]&&a[10]===b[10]&&a[11]===b[11]&&a[12]===b[12]&&a[13]===b[13]&&a[14]===b[14]&&a[15]===b[15]}function bM(a,b){var c=a[0],d=a[1],e=a[2],f=a[3],g=a[4],h=a[5],i=a[6],j=a[7],k=a[8],l=a[9],m=a[10],o=a[11],p=a[12],q=a[13],r=a[14],s=a[15],t=b[0],u=b[1],v=b[2],w=b[3],x=b[4],y=b[5],z=b[6],A=b[7],B=b[8],C=b[9],D=b[10],E=b[11],F=b[12],G=b[13],H=b[14],I=b[15];return Math.abs(c-t)<=n*Math.max(1,Math.abs(c),Math.abs(t))&&Math.abs(d-u)<=n*Math.max(1,Math.abs(d),Math.abs(u))&&Math.abs(e-v)<=n*Math.max(1,Math.abs(e),Math.abs(v))&&Math.abs(f-w)<=n*Math.max(1,Math.abs(f),Math.abs(w))&&Math.abs(g-x)<=n*Math.max(1,Math.abs(g),Math.abs(x))&&Math.abs(h-y)<=n*Math.max(1,Math.abs(h),Math.abs(y))&&Math.abs(i-z)<=n*Math.max(1,Math.abs(i),Math.abs(z))&&Math.abs(j-A)<=n*Math.max(1,Math.abs(j),Math.abs(A))&&Math.abs(k-B)<=n*Math.max(1,Math.abs(k),Math.abs(B))&&Math.abs(l-C)<=n*Math.max(1,Math.abs(l),Math.abs(C))&&Math.abs(m-D)<=n*Math.max(1,Math.abs(m),Math.abs(D))&&Math.abs(o-E)<=n*Math.max(1,Math.abs(o),Math.abs(E))&&Math.abs(p-F)<=n*Math.max(1,Math.abs(p),Math.abs(F))&&Math.abs(q-G)<=n*Math.max(1,Math.abs(q),Math.abs(G))&&Math.abs(r-H)<=n*Math.max(1,Math.abs(r),Math.abs(H))&&Math.abs(s-I)<=n*Math.max(1,Math.abs(s),Math.abs(I))}var bN=a9,bO=bI;function bP(){var a=new o(3);return o!=Float32Array&&(a[0]=0,a[1]=0,a[2]=0),a}function bQ(a){var b=new o(3);return b[0]=a[0],b[1]=a[1],b[2]=a[2],b}function bR(a){var b=a[0],c=a[1],d=a[2];return Math.sqrt(b*b+c*c+d*d)}function bS(a,b,c){var d=new o(3);return d[0]=a,d[1]=b,d[2]=c,d}function bT(a,b){return a[0]=b[0],a[1]=b[1],a[2]=b[2],a}function bU(a,b,c,d){return a[0]=b,a[1]=c,a[2]=d,a}function bV(a,b,c){return a[0]=b[0]+c[0],a[1]=b[1]+c[1],a[2]=b[2]+c[2],a}function bW(a,b,c){return a[0]=b[0]-c[0],a[1]=b[1]-c[1],a[2]=b[2]-c[2],a}function bX(a,b,c){return a[0]=b[0]*c[0],a[1]=b[1]*c[1],a[2]=b[2]*c[2],a}function bY(a,b,c){return a[0]=b[0]/c[0],a[1]=b[1]/c[1],a[2]=b[2]/c[2],a}function bZ(a,b){return a[0]=Math.ceil(b[0]),a[1]=Math.ceil(b[1]),a[2]=Math.ceil(b[2]),a}function b$(a,b){return a[0]=Math.floor(b[0]),a[1]=Math.floor(b[1]),a[2]=Math.floor(b[2]),a}function b_(a,b,c){return a[0]=Math.min(b[0],c[0]),a[1]=Math.min(b[1],c[1]),a[2]=Math.min(b[2],c[2]),a}function b0(a,b,c){return a[0]=Math.max(b[0],c[0]),a[1]=Math.max(b[1],c[1]),a[2]=Math.max(b[2],c[2]),a}function b1(a,b){return a[0]=r(b[0]),a[1]=r(b[1]),a[2]=r(b[2]),a}function b2(a,b,c){return a[0]=b[0]*c,a[1]=b[1]*c,a[2]=b[2]*c,a}function b3(a,b,c,d){return a[0]=b[0]+c[0]*d,a[1]=b[1]+c[1]*d,a[2]=b[2]+c[2]*d,a}function b4(a,b){var c=b[0]-a[0],d=b[1]-a[1],e=b[2]-a[2];return Math.sqrt(c*c+d*d+e*e)}function b5(a,b){var c=b[0]-a[0],d=b[1]-a[1],e=b[2]-a[2];return c*c+d*d+e*e}function b6(a){var b=a[0],c=a[1],d=a[2];return b*b+c*c+d*d}function b7(a,b){return a[0]=-b[0],a[1]=-b[1],a[2]=-b[2],a}function b8(a,b){return a[0]=1/b[0],a[1]=1/b[1],a[2]=1/b[2],a}function b9(a,b){var c=b[0],d=b[1],e=b[2],f=c*c+d*d+e*e;return f>0&&(f=1/Math.sqrt(f)),a[0]=b[0]*f,a[1]=b[1]*f,a[2]=b[2]*f,a}function ca(a,b){return a[0]*b[0]+a[1]*b[1]+a[2]*b[2]}function cb(a,b,c){var d=b[0],e=b[1],f=b[2],g=c[0],h=c[1],i=c[2];return a[0]=e*i-f*h,a[1]=f*g-d*i,a[2]=d*h-e*g,a}function cc(a,b,c,d){var e=b[0],f=b[1],g=b[2];return a[0]=e+d*(c[0]-e),a[1]=f+d*(c[1]-f),a[2]=g+d*(c[2]-g),a}function cd(a,b,c,d){var e=Math.acos(Math.min(Math.max(ca(b,c),-1),1)),f=Math.sin(e),g=Math.sin((1-d)*e)/f,h=Math.sin(d*e)/f;return a[0]=g*b[0]+h*c[0],a[1]=g*b[1]+h*c[1],a[2]=g*b[2]+h*c[2],a}function ce(a,b,c,d,e,f){var g=f*f,h=g*(2*f-3)+1,i=g*(f-2)+f,j=g*(f-1),k=g*(3-2*f);return a[0]=b[0]*h+c[0]*i+d[0]*j+e[0]*k,a[1]=b[1]*h+c[1]*i+d[1]*j+e[1]*k,a[2]=b[2]*h+c[2]*i+d[2]*j+e[2]*k,a}function cf(a,b,c,d,e,f){var g=1-f,h=g*g,i=f*f,j=h*g,k=3*f*h,l=3*i*g,m=i*f;return a[0]=b[0]*j+c[0]*k+d[0]*l+e[0]*m,a[1]=b[1]*j+c[1]*k+d[1]*l+e[1]*m,a[2]=b[2]*j+c[2]*k+d[2]*l+e[2]*m,a}function cg(a,b){b=void 0===b?1:b;var c=2*p()*Math.PI,d=2*p()-1,e=Math.sqrt(1-d*d)*b;return a[0]=Math.cos(c)*e,a[1]=Math.sin(c)*e,a[2]=d*b,a}function ch(a,b,c){var d=b[0],e=b[1],f=b[2],g=c[3]*d+c[7]*e+c[11]*f+c[15];return g=g||1,a[0]=(c[0]*d+c[4]*e+c[8]*f+c[12])/g,a[1]=(c[1]*d+c[5]*e+c[9]*f+c[13])/g,a[2]=(c[2]*d+c[6]*e+c[10]*f+c[14])/g,a}function ci(a,b,c){var d=b[0],e=b[1],f=b[2];return a[0]=d*c[0]+e*c[3]+f*c[6],a[1]=d*c[1]+e*c[4]+f*c[7],a[2]=d*c[2]+e*c[5]+f*c[8],a}function cj(a,b,c){var d=c[0],e=c[1],f=c[2],g=c[3],h=b[0],i=b[1],j=b[2],k=e*j-f*i,l=f*h-d*j,m=d*i-e*h;return k+=k,l+=l,m+=m,a[0]=h+g*k+e*m-f*l,a[1]=i+g*l+f*k-d*m,a[2]=j+g*m+d*l-e*k,a}function ck(a,b,c,d){var e=[],f=[];return e[0]=b[0]-c[0],e[1]=b[1]-c[1],e[2]=b[2]-c[2],f[0]=e[0],f[1]=e[1]*Math.cos(d)-e[2]*Math.sin(d),f[2]=e[1]*Math.sin(d)+e[2]*Math.cos(d),a[0]=f[0]+c[0],a[1]=f[1]+c[1],a[2]=f[2]+c[2],a}function cl(a,b,c,d){var e=[],f=[];return e[0]=b[0]-c[0],e[1]=b[1]-c[1],e[2]=b[2]-c[2],f[0]=e[2]*Math.sin(d)+e[0]*Math.cos(d),f[1]=e[1],f[2]=e[2]*Math.cos(d)-e[0]*Math.sin(d),a[0]=f[0]+c[0],a[1]=f[1]+c[1],a[2]=f[2]+c[2],a}function cm(a,b,c,d){var e=[],f=[];return e[0]=b[0]-c[0],e[1]=b[1]-c[1],e[2]=b[2]-c[2],f[0]=e[0]*Math.cos(d)-e[1]*Math.sin(d),f[1]=e[0]*Math.sin(d)+e[1]*Math.cos(d),f[2]=e[2],a[0]=f[0]+c[0],a[1]=f[1]+c[1],a[2]=f[2]+c[2],a}function cn(a,b){var c=a[0],d=a[1],e=a[2],f=b[0],g=b[1],h=b[2],i=Math.sqrt((c*c+d*d+e*e)*(f*f+g*g+h*h));return Math.acos(Math.min(Math.max(i&&ca(a,b)/i,-1),1))}function co(a){return a[0]=0,a[1]=0,a[2]=0,a}function cp(a){return"vec3("+a[0]+", "+a[1]+", "+a[2]+")"}function cq(a,b){return a[0]===b[0]&&a[1]===b[1]&&a[2]===b[2]}function cr(a,b){var c=a[0],d=a[1],e=a[2],f=b[0],g=b[1],h=b[2];return Math.abs(c-f)<=n*Math.max(1,Math.abs(c),Math.abs(f))&&Math.abs(d-g)<=n*Math.max(1,Math.abs(d),Math.abs(g))&&Math.abs(e-h)<=n*Math.max(1,Math.abs(e),Math.abs(h))}var cs=bW,ct=bX,cu=bY,cv=b4,cw=b5,cx=bR,cy=b6,cz=function(){var a=bP();return function(b,c,d,e,f,g){var h,i;for(c||(c=3),d||(d=0),i=e?Math.min(e*c+d,b.length):b.length,h=d;h<i;h+=c)a[0]=b[h],a[1]=b[h+1],a[2]=b[h+2],f(a,a,g),b[h]=a[0],b[h+1]=a[1],b[h+2]=a[2];return b}}();function cA(){var a=new o(4);return o!=Float32Array&&(a[0]=0,a[1]=0,a[2]=0,a[3]=0),a}function cB(a){var b=new o(4);return b[0]=a[0],b[1]=a[1],b[2]=a[2],b[3]=a[3],b}function cC(a,b,c,d){var e=new o(4);return e[0]=a,e[1]=b,e[2]=c,e[3]=d,e}function cD(a,b){return a[0]=b[0],a[1]=b[1],a[2]=b[2],a[3]=b[3],a}function cE(a,b,c,d,e){return a[0]=b,a[1]=c,a[2]=d,a[3]=e,a}function cF(a,b,c){return a[0]=b[0]+c[0],a[1]=b[1]+c[1],a[2]=b[2]+c[2],a[3]=b[3]+c[3],a}function cG(a,b,c){return a[0]=b[0]-c[0],a[1]=b[1]-c[1],a[2]=b[2]-c[2],a[3]=b[3]-c[3],a}function cH(a,b,c){return a[0]=b[0]*c[0],a[1]=b[1]*c[1],a[2]=b[2]*c[2],a[3]=b[3]*c[3],a}function cI(a,b,c){return a[0]=b[0]/c[0],a[1]=b[1]/c[1],a[2]=b[2]/c[2],a[3]=b[3]/c[3],a}function cJ(a,b){return a[0]=Math.ceil(b[0]),a[1]=Math.ceil(b[1]),a[2]=Math.ceil(b[2]),a[3]=Math.ceil(b[3]),a}function cK(a,b){return a[0]=Math.floor(b[0]),a[1]=Math.floor(b[1]),a[2]=Math.floor(b[2]),a[3]=Math.floor(b[3]),a}function cL(a,b,c){return a[0]=Math.min(b[0],c[0]),a[1]=Math.min(b[1],c[1]),a[2]=Math.min(b[2],c[2]),a[3]=Math.min(b[3],c[3]),a}function cM(a,b,c){return a[0]=Math.max(b[0],c[0]),a[1]=Math.max(b[1],c[1]),a[2]=Math.max(b[2],c[2]),a[3]=Math.max(b[3],c[3]),a}function cN(a,b){return a[0]=r(b[0]),a[1]=r(b[1]),a[2]=r(b[2]),a[3]=r(b[3]),a}function cO(a,b,c){return a[0]=b[0]*c,a[1]=b[1]*c,a[2]=b[2]*c,a[3]=b[3]*c,a}function cP(a,b,c,d){return a[0]=b[0]+c[0]*d,a[1]=b[1]+c[1]*d,a[2]=b[2]+c[2]*d,a[3]=b[3]+c[3]*d,a}function cQ(a,b){var c=b[0]-a[0],d=b[1]-a[1],e=b[2]-a[2],f=b[3]-a[3];return Math.sqrt(c*c+d*d+e*e+f*f)}function cR(a,b){var c=b[0]-a[0],d=b[1]-a[1],e=b[2]-a[2],f=b[3]-a[3];return c*c+d*d+e*e+f*f}function cS(a){var b=a[0],c=a[1],d=a[2],e=a[3];return Math.sqrt(b*b+c*c+d*d+e*e)}function cT(a){var b=a[0],c=a[1],d=a[2],e=a[3];return b*b+c*c+d*d+e*e}function cU(a,b){return a[0]=-b[0],a[1]=-b[1],a[2]=-b[2],a[3]=-b[3],a}function cV(a,b){return a[0]=1/b[0],a[1]=1/b[1],a[2]=1/b[2],a[3]=1/b[3],a}function cW(a,b){var c=b[0],d=b[1],e=b[2],f=b[3],g=c*c+d*d+e*e+f*f;return g>0&&(g=1/Math.sqrt(g)),a[0]=c*g,a[1]=d*g,a[2]=e*g,a[3]=f*g,a}function cX(a,b){return a[0]*b[0]+a[1]*b[1]+a[2]*b[2]+a[3]*b[3]}function cY(a,b,c,d){var e=c[0]*d[1]-c[1]*d[0],f=c[0]*d[2]-c[2]*d[0],g=c[0]*d[3]-c[3]*d[0],h=c[1]*d[2]-c[2]*d[1],i=c[1]*d[3]-c[3]*d[1],j=c[2]*d[3]-c[3]*d[2],k=b[0],l=b[1],m=b[2],n=b[3];return a[0]=l*j-m*i+n*h,a[1]=-(k*j)+m*g-n*f,a[2]=k*i-l*g+n*e,a[3]=-(k*h)+l*f-m*e,a}function cZ(a,b,c,d){var e=b[0],f=b[1],g=b[2],h=b[3];return a[0]=e+d*(c[0]-e),a[1]=f+d*(c[1]-f),a[2]=g+d*(c[2]-g),a[3]=h+d*(c[3]-h),a}function c$(a,b){b=void 0===b?1:b,c=2*(g=p())-1,d=(4*p()-2)*Math.sqrt(-(g*g)+g),e=2*(g=p())-1;var c,d,e,f,g,h=Math.sqrt((1-(c*c+d*d))/(e*e+(f=(4*p()-2)*Math.sqrt(-(g*g)+g))*f));return a[0]=b*c,a[1]=b*d,a[2]=b*e*h,a[3]=b*f*h,a}function c_(a,b,c){var d=b[0],e=b[1],f=b[2],g=b[3];return a[0]=c[0]*d+c[4]*e+c[8]*f+c[12]*g,a[1]=c[1]*d+c[5]*e+c[9]*f+c[13]*g,a[2]=c[2]*d+c[6]*e+c[10]*f+c[14]*g,a[3]=c[3]*d+c[7]*e+c[11]*f+c[15]*g,a}function c0(a,b,c){var d=c[0],e=c[1],f=c[2],g=c[3],h=b[0],i=b[1],j=b[2],k=e*j-f*i,l=f*h-d*j,m=d*i-e*h;return k+=k,l+=l,m+=m,a[0]=h+g*k+e*m-f*l,a[1]=i+g*l+f*k-d*m,a[2]=j+g*m+d*l-e*k,a[3]=b[3],a}function c1(a){return a[0]=0,a[1]=0,a[2]=0,a[3]=0,a}function c2(a){return"vec4("+a[0]+", "+a[1]+", "+a[2]+", "+a[3]+")"}function c3(a,b){return a[0]===b[0]&&a[1]===b[1]&&a[2]===b[2]&&a[3]===b[3]}function c4(a,b){var c=a[0],d=a[1],e=a[2],f=a[3],g=b[0],h=b[1],i=b[2],j=b[3];return Math.abs(c-g)<=n*Math.max(1,Math.abs(c),Math.abs(g))&&Math.abs(d-h)<=n*Math.max(1,Math.abs(d),Math.abs(h))&&Math.abs(e-i)<=n*Math.max(1,Math.abs(e),Math.abs(i))&&Math.abs(f-j)<=n*Math.max(1,Math.abs(f),Math.abs(j))}var c5=cG,c6=cH,c7=cI,c8=cQ,c9=cR,da=cS,db=cT,dc=function(){var a=cA();return function(b,c,d,e,f,g){var h,i;for(c||(c=4),d||(d=0),i=e?Math.min(e*c+d,b.length):b.length,h=d;h<i;h+=c)a[0]=b[h],a[1]=b[h+1],a[2]=b[h+2],a[3]=b[h+3],f(a,a,g),b[h]=a[0],b[h+1]=a[1],b[h+2]=a[2],b[h+3]=a[3];return b}}();function dd(){var a=new o(4);return o!=Float32Array&&(a[0]=0,a[1]=0,a[2]=0),a[3]=1,a}function de(a){return a[0]=0,a[1]=0,a[2]=0,a[3]=1,a}function df(a,b,c){var d=Math.sin(c*=.5);return a[0]=d*b[0],a[1]=d*b[1],a[2]=d*b[2],a[3]=Math.cos(c),a}function dg(a,b){var c=2*Math.acos(b[3]),d=Math.sin(c/2);return d>n?(a[0]=b[0]/d,a[1]=b[1]/d,a[2]=b[2]/d):(a[0]=1,a[1]=0,a[2]=0),c}function dh(a,b){var c=dF(a,b);return Math.acos(2*c*c-1)}function di(a,b,c){var d=b[0],e=b[1],f=b[2],g=b[3],h=c[0],i=c[1],j=c[2],k=c[3];return a[0]=d*k+g*h+e*j-f*i,a[1]=e*k+g*i+f*h-d*j,a[2]=f*k+g*j+d*i-e*h,a[3]=g*k-d*h-e*i-f*j,a}function dj(a,b,c){c*=.5;var d=b[0],e=b[1],f=b[2],g=b[3],h=Math.sin(c),i=Math.cos(c);return a[0]=d*i+g*h,a[1]=e*i+f*h,a[2]=f*i-e*h,a[3]=g*i-d*h,a}function dk(a,b,c){c*=.5;var d=b[0],e=b[1],f=b[2],g=b[3],h=Math.sin(c),i=Math.cos(c);return a[0]=d*i-f*h,a[1]=e*i+g*h,a[2]=f*i+d*h,a[3]=g*i-e*h,a}function dl(a,b,c){c*=.5;var d=b[0],e=b[1],f=b[2],g=b[3],h=Math.sin(c),i=Math.cos(c);return a[0]=d*i+e*h,a[1]=e*i-d*h,a[2]=f*i+g*h,a[3]=g*i-f*h,a}function dm(a,b){var c=b[0],d=b[1],e=b[2];return a[0]=c,a[1]=d,a[2]=e,a[3]=Math.sqrt(Math.abs(1-c*c-d*d-e*e)),a}function dn(a,b){var c=b[0],d=b[1],e=b[2],f=b[3],g=Math.sqrt(c*c+d*d+e*e),h=Math.exp(f),i=g>0?h*Math.sin(g)/g:0;return a[0]=c*i,a[1]=d*i,a[2]=e*i,a[3]=h*Math.cos(g),a}function dp(a,b){var c=b[0],d=b[1],e=b[2],f=b[3],g=Math.sqrt(c*c+d*d+e*e),h=g>0?Math.atan2(g,f)/g:0;return a[0]=c*h,a[1]=d*h,a[2]=e*h,a[3]=.5*Math.log(c*c+d*d+e*e+f*f),a}function dq(a,b,c){return dp(a,b),dE(a,a,c),dn(a,a),a}function dr(a,b,c,d){var e,f,g,h,i,j=b[0],k=b[1],l=b[2],m=b[3],o=c[0],p=c[1],q=c[2],r=c[3];return(f=j*o+k*p+l*q+m*r)<0&&(f=-f,o=-o,p=-p,q=-q,r=-r),1-f>n?(g=Math.sin(e=Math.acos(f)),h=Math.sin((1-d)*e)/g,i=Math.sin(d*e)/g):(h=1-d,i=d),a[0]=h*j+i*o,a[1]=h*k+i*p,a[2]=h*l+i*q,a[3]=h*m+i*r,a}function ds(a){var b=p(),c=p(),d=p(),e=Math.sqrt(1-b),f=Math.sqrt(b);return a[0]=e*Math.sin(2*Math.PI*c),a[1]=e*Math.cos(2*Math.PI*c),a[2]=f*Math.sin(2*Math.PI*d),a[3]=f*Math.cos(2*Math.PI*d),a}function dt(a,b){var c=b[0],d=b[1],e=b[2],f=b[3],g=c*c+d*d+e*e+f*f,h=g?1/g:0;return a[0]=-c*h,a[1]=-d*h,a[2]=-e*h,a[3]=f*h,a}function du(a,b){return a[0]=-b[0],a[1]=-b[1],a[2]=-b[2],a[3]=b[3],a}function dv(a,b){var c,d=b[0]+b[4]+b[8];if(d>0)c=Math.sqrt(d+1),a[3]=.5*c,c=.5/c,a[0]=(b[5]-b[7])*c,a[1]=(b[6]-b[2])*c,a[2]=(b[1]-b[3])*c;else{var e=0;b[4]>b[0]&&(e=1),b[8]>b[3*e+e]&&(e=2);var f=(e+1)%3,g=(e+2)%3;c=Math.sqrt(b[3*e+e]-b[3*f+f]-b[3*g+g]+1),a[e]=.5*c,c=.5/c,a[3]=(b[3*f+g]-b[3*g+f])*c,a[f]=(b[3*f+e]+b[3*e+f])*c,a[g]=(b[3*g+e]+b[3*e+g])*c}return a}function dw(a,b,c,d){var e=arguments.length>4&&void 0!==arguments[4]?arguments[4]:q,f=Math.PI/360;b*=f,d*=f;var g=Math.sin(b),h=Math.cos(b),i=Math.sin(c*=f),j=Math.cos(c),k=Math.sin(d),l=Math.cos(d);switch(e){case"xyz":a[0]=g*j*l+h*i*k,a[1]=h*i*l-g*j*k,a[2]=h*j*k+g*i*l,a[3]=h*j*l-g*i*k;break;case"xzy":a[0]=g*j*l-h*i*k,a[1]=h*i*l-g*j*k,a[2]=h*j*k+g*i*l,a[3]=h*j*l+g*i*k;break;case"yxz":a[0]=g*j*l+h*i*k,a[1]=h*i*l-g*j*k,a[2]=h*j*k-g*i*l,a[3]=h*j*l+g*i*k;break;case"yzx":a[0]=g*j*l+h*i*k,a[1]=h*i*l+g*j*k,a[2]=h*j*k-g*i*l,a[3]=h*j*l-g*i*k;break;case"zxy":a[0]=g*j*l-h*i*k,a[1]=h*i*l+g*j*k,a[2]=h*j*k+g*i*l,a[3]=h*j*l-g*i*k;break;case"zyx":a[0]=g*j*l-h*i*k,a[1]=h*i*l+g*j*k,a[2]=h*j*k-g*i*l,a[3]=h*j*l+g*i*k;break;default:throw Error("Unknown angle order "+e)}return a}function dx(a){return"quat("+a[0]+", "+a[1]+", "+a[2]+", "+a[3]+")"}var dy=cB,dz=cC,dA=cD,dB=cE,dC=cF,dD=di,dE=cO,dF=cX,dG=cZ,dH=cS,dI=dH,dJ=cT,dK=dJ,dL=cW,dM=c3;function dN(a,b){return Math.abs(cX(a,b))>=1-n}var dO=function(){var a=bP(),b=bS(1,0,0),c=bS(0,1,0);return function(d,e,f){var g=ca(e,f);return g<-.999999?(cb(a,b,e),1e-6>cx(a)&&cb(a,c,e),b9(a,a),df(d,a,Math.PI),d):g>.999999?(d[0]=0,d[1]=0,d[2]=0,d[3]=1,d):(cb(a,e,f),d[0]=a[0],d[1]=a[1],d[2]=a[2],d[3]=1+g,dL(d,d))}}(),dP=function(){var a=dd(),b=dd();return function(c,d,e,f,g,h){return dr(a,d,g,h),dr(b,e,f,h),dr(c,a,b,2*h*(1-h)),c}}(),dQ=function(){var a=av();return function(b,c,d,e){return a[0]=d[0],a[3]=d[1],a[6]=d[2],a[1]=e[0],a[4]=e[1],a[7]=e[2],a[2]=-c[0],a[5]=-c[1],a[8]=-c[2],dL(b,dv(b,a))}}();function dR(){var a=new o(8);return o!=Float32Array&&(a[0]=0,a[1]=0,a[2]=0,a[4]=0,a[5]=0,a[6]=0,a[7]=0),a[3]=1,a}function dS(a){var b=new o(8);return b[0]=a[0],b[1]=a[1],b[2]=a[2],b[3]=a[3],b[4]=a[4],b[5]=a[5],b[6]=a[6],b[7]=a[7],b}function dT(a,b,c,d,e,f,g,h){var i=new o(8);return i[0]=a,i[1]=b,i[2]=c,i[3]=d,i[4]=e,i[5]=f,i[6]=g,i[7]=h,i}function dU(a,b,c,d,e,f,g){var h=new o(8);h[0]=a,h[1]=b,h[2]=c,h[3]=d;var i=.5*e,j=.5*f,k=.5*g;return h[4]=i*d+j*c-k*b,h[5]=j*d+k*a-i*c,h[6]=k*d+i*b-j*a,h[7]=-i*a-j*b-k*c,h}function dV(a,b,c){var d=.5*c[0],e=.5*c[1],f=.5*c[2],g=b[0],h=b[1],i=b[2],j=b[3];return a[0]=g,a[1]=h,a[2]=i,a[3]=j,a[4]=d*j+e*i-f*h,a[5]=e*j+f*g-d*i,a[6]=f*j+d*h-e*g,a[7]=-d*g-e*h-f*i,a}function dW(a,b){return a[0]=0,a[1]=0,a[2]=0,a[3]=1,a[4]=.5*b[0],a[5]=.5*b[1],a[6]=.5*b[2],a[7]=0,a}function dX(a,b){return a[0]=b[0],a[1]=b[1],a[2]=b[2],a[3]=b[3],a[4]=0,a[5]=0,a[6]=0,a[7]=0,a}function dY(a,b){var c=dd();bq(c,b);var d=new o(3);return bo(d,b),dV(a,c,d),a}function dZ(a,b){return a[0]=b[0],a[1]=b[1],a[2]=b[2],a[3]=b[3],a[4]=b[4],a[5]=b[5],a[6]=b[6],a[7]=b[7],a}function d$(a){return a[0]=0,a[1]=0,a[2]=0,a[3]=1,a[4]=0,a[5]=0,a[6]=0,a[7]=0,a}function d_(a,b,c,d,e,f,g,h,i){return a[0]=b,a[1]=c,a[2]=d,a[3]=e,a[4]=f,a[5]=g,a[6]=h,a[7]=i,a}var d0=dA;function d1(a,b){return a[0]=b[4],a[1]=b[5],a[2]=b[6],a[3]=b[7],a}var d2=dA;function d3(a,b){return a[4]=b[0],a[5]=b[1],a[6]=b[2],a[7]=b[3],a}function d4(a,b){var c=b[4],d=b[5],e=b[6],f=b[7],g=-b[0],h=-b[1],i=-b[2],j=b[3];return a[0]=(c*j+f*g+d*i-e*h)*2,a[1]=(d*j+f*h+e*g-c*i)*2,a[2]=(e*j+f*i+c*h-d*g)*2,a}function d5(a,b,c){var d=b[0],e=b[1],f=b[2],g=b[3],h=.5*c[0],i=.5*c[1],j=.5*c[2],k=b[4],l=b[5],m=b[6],n=b[7];return a[0]=d,a[1]=e,a[2]=f,a[3]=g,a[4]=g*h+e*j-f*i+k,a[5]=g*i+f*h-d*j+l,a[6]=g*j+d*i-e*h+m,a[7]=-d*h-e*i-f*j+n,a}function d6(a,b,c){var d=-b[0],e=-b[1],f=-b[2],g=b[3],h=b[4],i=b[5],j=b[6],k=b[7],l=h*g+k*d+i*f-j*e,m=i*g+k*e+j*d-h*f,n=j*g+k*f+h*e-i*d,o=k*g-h*d-i*e-j*f;return dj(a,b,c),d=a[0],e=a[1],f=a[2],g=a[3],a[4]=l*g+o*d+m*f-n*e,a[5]=m*g+o*e+n*d-l*f,a[6]=n*g+o*f+l*e-m*d,a[7]=o*g-l*d-m*e-n*f,a}function d7(a,b,c){var d=-b[0],e=-b[1],f=-b[2],g=b[3],h=b[4],i=b[5],j=b[6],k=b[7],l=h*g+k*d+i*f-j*e,m=i*g+k*e+j*d-h*f,n=j*g+k*f+h*e-i*d,o=k*g-h*d-i*e-j*f;return dk(a,b,c),d=a[0],e=a[1],f=a[2],g=a[3],a[4]=l*g+o*d+m*f-n*e,a[5]=m*g+o*e+n*d-l*f,a[6]=n*g+o*f+l*e-m*d,a[7]=o*g-l*d-m*e-n*f,a}function d8(a,b,c){var d=-b[0],e=-b[1],f=-b[2],g=b[3],h=b[4],i=b[5],j=b[6],k=b[7],l=h*g+k*d+i*f-j*e,m=i*g+k*e+j*d-h*f,n=j*g+k*f+h*e-i*d,o=k*g-h*d-i*e-j*f;return dl(a,b,c),d=a[0],e=a[1],f=a[2],g=a[3],a[4]=l*g+o*d+m*f-n*e,a[5]=m*g+o*e+n*d-l*f,a[6]=n*g+o*f+l*e-m*d,a[7]=o*g-l*d-m*e-n*f,a}function d9(a,b,c){var d=c[0],e=c[1],f=c[2],g=c[3],h=b[0],i=b[1],j=b[2],k=b[3];return a[0]=h*g+k*d+i*f-j*e,a[1]=i*g+k*e+j*d-h*f,a[2]=j*g+k*f+h*e-i*d,a[3]=k*g-h*d-i*e-j*f,h=b[4],i=b[5],j=b[6],k=b[7],a[4]=h*g+k*d+i*f-j*e,a[5]=i*g+k*e+j*d-h*f,a[6]=j*g+k*f+h*e-i*d,a[7]=k*g-h*d-i*e-j*f,a}function ea(a,b,c){var d=b[0],e=b[1],f=b[2],g=b[3],h=c[0],i=c[1],j=c[2],k=c[3];return a[0]=d*k+g*h+e*j-f*i,a[1]=e*k+g*i+f*h-d*j,a[2]=f*k+g*j+d*i-e*h,a[3]=g*k-d*h-e*i-f*j,h=c[4],i=c[5],j=c[6],k=c[7],a[4]=d*k+g*h+e*j-f*i,a[5]=e*k+g*i+f*h-d*j,a[6]=f*k+g*j+d*i-e*h,a[7]=g*k-d*h-e*i-f*j,a}function eb(a,b,c,d){if(Math.abs(d)<n)return dZ(a,b);var e=Math.sqrt(c[0]*c[0]+c[1]*c[1]+c[2]*c[2]),f=Math.sin(d*=.5),g=f*c[0]/e,h=f*c[1]/e,i=f*c[2]/e,j=Math.cos(d),k=b[0],l=b[1],m=b[2],o=b[3];a[0]=k*j+o*g+l*i-m*h,a[1]=l*j+o*h+m*g-k*i,a[2]=m*j+o*i+k*h-l*g,a[3]=o*j-k*g-l*h-m*i;var p=b[4],q=b[5],r=b[6],s=b[7];return a[4]=p*j+s*g+q*i-r*h,a[5]=q*j+s*h+r*g-p*i,a[6]=r*j+s*i+p*h-q*g,a[7]=s*j-p*g-q*h-r*i,a}function ec(a,b,c){return a[0]=b[0]+c[0],a[1]=b[1]+c[1],a[2]=b[2]+c[2],a[3]=b[3]+c[3],a[4]=b[4]+c[4],a[5]=b[5]+c[5],a[6]=b[6]+c[6],a[7]=b[7]+c[7],a}function ed(a,b,c){var d=b[0],e=b[1],f=b[2],g=b[3],h=c[4],i=c[5],j=c[6],k=c[7],l=b[4],m=b[5],n=b[6],o=b[7],p=c[0],q=c[1],r=c[2],s=c[3];return a[0]=d*s+g*p+e*r-f*q,a[1]=e*s+g*q+f*p-d*r,a[2]=f*s+g*r+d*q-e*p,a[3]=g*s-d*p-e*q-f*r,a[4]=d*k+g*h+e*j-f*i+l*s+o*p+m*r-n*q,a[5]=e*k+g*i+f*h-d*j+m*s+o*q+n*p-l*r,a[6]=f*k+g*j+d*i-e*h+n*s+o*r+l*q-m*p,a[7]=g*k-d*h-e*i-f*j+o*s-l*p-m*q-n*r,a}var ee=ed;function ef(a,b,c){return a[0]=b[0]*c,a[1]=b[1]*c,a[2]=b[2]*c,a[3]=b[3]*c,a[4]=b[4]*c,a[5]=b[5]*c,a[6]=b[6]*c,a[7]=b[7]*c,a}var eg=dF;function eh(a,b,c,d){var e=1-d;return 0>eg(b,c)&&(d=-d),a[0]=b[0]*e+c[0]*d,a[1]=b[1]*e+c[1]*d,a[2]=b[2]*e+c[2]*d,a[3]=b[3]*e+c[3]*d,a[4]=b[4]*e+c[4]*d,a[5]=b[5]*e+c[5]*d,a[6]=b[6]*e+c[6]*d,a[7]=b[7]*e+c[7]*d,a}function ei(a,b){var c=em(b);return a[0]=-b[0]/c,a[1]=-b[1]/c,a[2]=-b[2]/c,a[3]=b[3]/c,a[4]=-b[4]/c,a[5]=-b[5]/c,a[6]=-b[6]/c,a[7]=b[7]/c,a}function ej(a,b){return a[0]=-b[0],a[1]=-b[1],a[2]=-b[2],a[3]=b[3],a[4]=-b[4],a[5]=-b[5],a[6]=-b[6],a[7]=b[7],a}var ek=dH,el=ek,em=dJ,en=em;function eo(a,b){var c=em(b);if(c>0){c=Math.sqrt(c);var d=b[0]/c,e=b[1]/c,f=b[2]/c,g=b[3]/c,h=b[4],i=b[5],j=b[6],k=b[7],l=d*h+e*i+f*j+g*k;a[0]=d,a[1]=e,a[2]=f,a[3]=g,a[4]=(h-d*l)/c,a[5]=(i-e*l)/c,a[6]=(j-f*l)/c,a[7]=(k-g*l)/c}return a}function ep(a){return"quat2("+a[0]+", "+a[1]+", "+a[2]+", "+a[3]+", "+a[4]+", "+a[5]+", "+a[6]+", "+a[7]+")"}function eq(a,b){return a[0]===b[0]&&a[1]===b[1]&&a[2]===b[2]&&a[3]===b[3]&&a[4]===b[4]&&a[5]===b[5]&&a[6]===b[6]&&a[7]===b[7]}function er(a,b){var c=a[0],d=a[1],e=a[2],f=a[3],g=a[4],h=a[5],i=a[6],j=a[7],k=b[0],l=b[1],m=b[2],o=b[3],p=b[4],q=b[5],r=b[6],s=b[7];return Math.abs(c-k)<=n*Math.max(1,Math.abs(c),Math.abs(k))&&Math.abs(d-l)<=n*Math.max(1,Math.abs(d),Math.abs(l))&&Math.abs(e-m)<=n*Math.max(1,Math.abs(e),Math.abs(m))&&Math.abs(f-o)<=n*Math.max(1,Math.abs(f),Math.abs(o))&&Math.abs(g-p)<=n*Math.max(1,Math.abs(g),Math.abs(p))&&Math.abs(h-q)<=n*Math.max(1,Math.abs(h),Math.abs(q))&&Math.abs(i-r)<=n*Math.max(1,Math.abs(i),Math.abs(r))&&Math.abs(j-s)<=n*Math.max(1,Math.abs(j),Math.abs(s))}function es(){var a=new o(2);return o!=Float32Array&&(a[0]=0,a[1]=0),a}function et(a){var b=new o(2);return b[0]=a[0],b[1]=a[1],b}function eu(a,b){var c=new o(2);return c[0]=a,c[1]=b,c}function ev(a,b){return a[0]=b[0],a[1]=b[1],a}function ew(a,b,c){return a[0]=b,a[1]=c,a}function ex(a,b,c){return a[0]=b[0]+c[0],a[1]=b[1]+c[1],a}function ey(a,b,c){return a[0]=b[0]-c[0],a[1]=b[1]-c[1],a}function ez(a,b,c){return a[0]=b[0]*c[0],a[1]=b[1]*c[1],a}function eA(a,b,c){return a[0]=b[0]/c[0],a[1]=b[1]/c[1],a}function eB(a,b){return a[0]=Math.ceil(b[0]),a[1]=Math.ceil(b[1]),a}function eC(a,b){return a[0]=Math.floor(b[0]),a[1]=Math.floor(b[1]),a}function eD(a,b,c){return a[0]=Math.min(b[0],c[0]),a[1]=Math.min(b[1],c[1]),a}function eE(a,b,c){return a[0]=Math.max(b[0],c[0]),a[1]=Math.max(b[1],c[1]),a}function eF(a,b){return a[0]=r(b[0]),a[1]=r(b[1]),a}function eG(a,b,c){return a[0]=b[0]*c,a[1]=b[1]*c,a}function eH(a,b,c,d){return a[0]=b[0]+c[0]*d,a[1]=b[1]+c[1]*d,a}function eI(a,b){var c=b[0]-a[0],d=b[1]-a[1];return Math.sqrt(c*c+d*d)}function eJ(a,b){var c=b[0]-a[0],d=b[1]-a[1];return c*c+d*d}function eK(a){var b=a[0],c=a[1];return Math.sqrt(b*b+c*c)}function eL(a){var b=a[0],c=a[1];return b*b+c*c}function eM(a,b){return a[0]=-b[0],a[1]=-b[1],a}function eN(a,b){return a[0]=1/b[0],a[1]=1/b[1],a}function eO(a,b){var c=b[0],d=b[1],e=c*c+d*d;return e>0&&(e=1/Math.sqrt(e)),a[0]=b[0]*e,a[1]=b[1]*e,a}function eP(a,b){return a[0]*b[0]+a[1]*b[1]}function eQ(a,b,c){var d=b[0]*c[1]-b[1]*c[0];return a[0]=a[1]=0,a[2]=d,a}function eR(a,b,c,d){var e=b[0],f=b[1];return a[0]=e+d*(c[0]-e),a[1]=f+d*(c[1]-f),a}function eS(a,b){b=void 0===b?1:b;var c=2*p()*Math.PI;return a[0]=Math.cos(c)*b,a[1]=Math.sin(c)*b,a}function eT(a,b,c){var d=b[0],e=b[1];return a[0]=c[0]*d+c[2]*e,a[1]=c[1]*d+c[3]*e,a}function eU(a,b,c){var d=b[0],e=b[1];return a[0]=c[0]*d+c[2]*e+c[4],a[1]=c[1]*d+c[3]*e+c[5],a}function eV(a,b,c){var d=b[0],e=b[1];return a[0]=c[0]*d+c[3]*e+c[6],a[1]=c[1]*d+c[4]*e+c[7],a}function eW(a,b,c){var d=b[0],e=b[1];return a[0]=c[0]*d+c[4]*e+c[12],a[1]=c[1]*d+c[5]*e+c[13],a}function eX(a,b,c,d){var e=b[0]-c[0],f=b[1]-c[1],g=Math.sin(d),h=Math.cos(d);return a[0]=e*h-f*g+c[0],a[1]=e*g+f*h+c[1],a}function eY(a,b){var c=a[0],d=a[1],e=b[0],f=b[1];return Math.abs(Math.atan2(d*e-c*f,c*e+d*f))}function eZ(a,b){var c=a[0],d=a[1],e=b[0],f=b[1];return Math.atan2(c*f-d*e,c*e+d*f)}function e$(a){return a[0]=0,a[1]=0,a}function e_(a){return"vec2("+a[0]+", "+a[1]+")"}function e0(a,b){return a[0]===b[0]&&a[1]===b[1]}function e1(a,b){var c=a[0],d=a[1],e=b[0],f=b[1];return Math.abs(c-e)<=n*Math.max(1,Math.abs(c),Math.abs(e))&&Math.abs(d-f)<=n*Math.max(1,Math.abs(d),Math.abs(f))}var e2=eK,e3=ey,e4=ez,e5=eA,e6=eI,e7=eJ,e8=eL,e9=function(){var a=es();return function(b,c,d,e,f,g){var h,i;for(c||(c=2),d||(d=0),i=e?Math.min(e*c+d,b.length):b.length,h=d;h<i;h+=c)a[0]=b[h],a[1]=b[h+1],f(a,a,g),b[h]=a[0],b[h+1]=a[1];return b}}()},94735:a=>{"use strict";a.exports=require("events")}};var b=require("../../webpack-runtime.js");b.C(a);var c=b.X(0,[4586,8298,7240,8936,1492,2081,9984,8934,3991,5436,9826,837,2004,6717,7934,9666,5521,9840],()=>b(b.s=26545));module.exports=c})();