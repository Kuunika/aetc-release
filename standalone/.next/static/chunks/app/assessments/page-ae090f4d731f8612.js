(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[466],{2088:(e,t,a)=>{Promise.resolve().then(a.bind(a,61932))},12409:(e,t,a)=>{"use strict";a.d(t,{VQ:()=>n,kC:()=>s,sL:()=>l,uQ:()=>o});var i=a(95155),r=a(72478);let l=e=>{let{children:t,id:a}=e;return(0,i.jsx)(r.Th,{id:a,sx:{fontFamily:"Inter",fontSize:24,fontWeight:700,lineHeight:"29px",letterSpacing:0,textAlign:"center"},children:t})},n=e=>{let{children:t}=e;return(0,i.jsx)(r.Th,{alignSelf:"center",sx:{fontFamily:"Inter",fontSize:14,fontWeight:400,lineHeight:"21px",letterSpacing:0,color:"#636363",width:"50ch",textAlign:"center",my:"2ch"},children:t})},s=e=>{let{children:t,sx:a}=e;return(0,i.jsx)(r.sc,{elevation:0,sx:{display:"flex",flexDirection:"column",justifyContent:"center",px:"5ch",py:"5ch",mb:"2ch",...a},children:t})},o=e=>{let{children:t}=e;return(0,i.jsx)(r.Th,{sx:{fontFamily:"Inter",fontSize:"16px",fontWeight:600,lineHeight:"24px",letterSpacing:"0em",textAlign:"center",my:"2ch"},children:t})}},41186:(e,t,a)=>{"use strict";a.d(t,{A:()=>x});var i=a(95155),r=a(93584),l=a(87295),n=a(12115),s=a(75855),o=a(72478),d=a(15239),c=a(9877);function x(e,t){return function(a){let[o,d]=(0,n.useState)(!1),{navigateTo:x}=(0,l.cq)();(0,n.useLayoutEffect)(()=>{if(localStorage)if(localStorage.getItem("accessToken")){let e=localStorage.getItem("loginTime");if(e){let t=parseInt(e);if(Math.floor((new Date().getTime()-t)%36e5/6e4)>60){d(!1),x("/"),localStorage.clear();return}}d(!0)}else d(!1),localStorage.clear(),x("/")},[]);let h=(0,s.R)(t,(0,c.O)());return o?h?(0,i.jsx)(e,{...a}):(0,i.jsx)(u,{}):(0,i.jsx)(r.OverlayLoader,{open:!o})}}let u=()=>(0,i.jsx)(o.jD,{sx:{width:"100%",height:"100vh",display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"#fff"},children:(0,i.jsx)(d.default,{src:"/403.jpg",height:500,width:500,alt:"403"})})},61932:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>z});var i=a(95155),r=a(26301),l=a(12115),n=a(87295),s=a(53756),o=a(86973),d=a(78470),c=a(97998),x=a(72478),u=a(65494),h=a(263),p=a(94049),g=a(1151),f=a(2300),j=a(25635),m=a(28548),y=a(91871),A=a(50430),C=a(52641),v=a(95436),_=a(55606),w=a(47448),S=a(94706),b=a(39625),T=a(37890),I=a(81013),B=a(94054);let N=()=>{let[e,t]=(0,l.useState)(!1),[a,s]=(0,l.useState)(""),[u,S]=(0,l.useState)(""),[T,N]=(0,l.useState)(""),[E,P]=(0,l.useState)(!1),[z,W]=(0,l.useState)({triageBy:[],patientCareArea:[]}),[V,F]=(0,l.useState)({triageByOptions:[],patientCareAreas:[]}),{navigateTo:O}=(0,n.cq)(),M=1===z.patientCareArea.length?z.patientCareArea[0]:void 0,{paginationModel:L,patients:R,searchText:J,setSearchText:Y,setPaginationModel:H,loading:Q,totalPages:q,setOnSwitch:U}=(0,I.a)("assessment",M),[G,K]=(0,l.useState)(""),X=(0,B.d)(G,500);(0,l.useEffect)(()=>{Y(X)},[X]);let[Z,$]=(0,l.useState)([]);(0,l.useEffect)(()=>{R&&$(R)},[R]),(0,l.useEffect)(()=>{if(Z&&Z.length>0){let e=Array.from(new Set(Z.map(e=>e.last_encounter_creator).filter(Boolean))),t=Array.from(new Set(Z.map(e=>e.patient_care_area).filter(Boolean)));F({triageByOptions:e.sort(),patientCareAreas:t.sort()})}},[Z]);let ee=l.useMemo(()=>Z?Z.filter(e=>{let t=0===z.triageBy.length||z.triageBy.includes(e.last_encounter_creator),a=0===z.patientCareArea.length||z.patientCareArea.includes(e.patient_care_area);return t&&a}):[],[Z,z]),et=e=>t=>{let a=t.target.value;W(t=>({...t,[e]:"string"==typeof a?a.split(","):a}))},ea=(e,t)=>{W(a=>({...a,[e]:a[e].filter(e=>e!==t)}))},ei=z.triageBy.length>0||z.patientCareArea.length>0,er=[{field:"triage_result",headerName:"Triage Cat",renderCell:e=>(0,i.jsx)(p.default,{sx:{display:"flex",justifyContent:"center",alignItems:"center",width:"100%",height:"100%"},children:(0,i.jsx)(p.default,{sx:{width:20,height:20,borderRadius:"50%",backgroundColor:"red"==e.value||"Emergency"==e.value?"#B42318":"yellow"==e.value||"Priority"==e.value?"#EDE207":"green"==e.value||"Queue"==e.value?"#016302":"transparent"}})})},{field:"given_name",headerName:"First Name",flex:1},{field:"family_name",headerName:"Last Name",flex:1},{field:"gender",headerName:"Gender"},{field:"waiting",headerName:"WaitingTime",flex:1,renderCell:e=>(0,i.jsx)(x.VJ,{arrival_time:e.row.latest_encounter_time})},{field:"aggreg",headerName:"Aggregate",flex:1,renderCell:e=>(0,i.jsx)(x.VJ,{arrival_time:e.row.arrival_time})},{field:"last_encounter_creator",headerName:"Triaged By",flex:1},{field:"patient_care_area",flex:1,headerName:"Patient Care Area"},{field:"action",headerName:"Action",flex:1.5,renderCell:e=>(0,i.jsxs)(p.default,{display:"flex",gap:1,children:[(0,i.jsx)(d.A,{title:"Start assessment",arrow:!0,children:(0,i.jsx)(g.default,{onClick:()=>O("/patient/".concat(e.id,"/profile")),"aria-label":"start assessment",color:"primary",children:(0,i.jsx)(c.gSK,{})})}),(0,i.jsx)(d.A,{title:"Dispose",arrow:!0,children:(0,i.jsx)(g.default,{onClick:()=>O("/patient/".concat(e.id,"/disposition")),"aria-label":"Dispose",sx:{color:"grey"},children:(0,i.jsx)(c.dhv,{})})}),(0,i.jsx)(d.A,{title:"Print options",arrow:!0,children:(0,i.jsx)(k,{patient:e.row})}),(0,i.jsx)(d.A,{title:"Initiate CPR",arrow:!0,children:(0,i.jsx)(g.default,{onClick:()=>{s(e.id),t(!0),S(e.row.visit_uuid)},"aria-label":"initiate CPR",color:"error",children:(0,i.jsx)(c.szJ,{})})})]})}],el=null==ee?void 0:ee.map(e=>({id:e.id,visitNumber:e.aetc_visit_number,firstName:e.given_name,lastName:e.family_name,gender:e.gender,arrivalTime:e.patient_arrival_time,arrivalDateTime:e.arrival_time,actor:(0,i.jsx)(x.uT,{encounterType:h.fA.VITALS,patientId:e.id}),aggregate:(0,i.jsx)(x.VJ,{arrival_time:e.arrival_time}),waitingTime:(0,i.jsx)(x.VJ,{arrival_time:null==e?void 0:e.latest_encounter_time}),actionName:"Triaged By",action:(0,i.jsx)(D,{patient:e,setDeleted:e=>(e=>{$(Z.filter(t=>t.uuid!==e)),N(e)})(e),triage:e.triage_result,visitId:e.visit_uuid,id:e.uuid}),age:"".concat((0,r.Cb)(e.birthdate),"yrs"),triageResult:e.triage_result}));return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(f.default,{sx:{p:2,mb:2},children:[(0,i.jsxs)(p.default,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",mb:2},children:[(0,i.jsxs)(p.default,{sx:{display:"flex",alignItems:"center",gap:1},children:[(0,i.jsx)(c.YsJ,{}),(0,i.jsx)(j.default,{variant:"h6",children:"Filters"}),ei&&(0,i.jsx)(m.A,{label:"".concat(z.triageBy.length+z.patientCareArea.length," active"),size:"small",color:"primary"})]}),(0,i.jsxs)(p.default,{sx:{display:"flex",gap:1},children:[ei&&(0,i.jsx)(y.A,{startIcon:(0,i.jsx)(c.QCr,{}),onClick:()=>{W({triageBy:[],patientCareArea:[]})},size:"small",variant:"outlined",color:"secondary",children:"Clear All"}),(0,i.jsxs)(y.A,{startIcon:E?(0,i.jsx)(c.Ucs,{}):(0,i.jsx)(c.Vr3,{}),onClick:()=>P(!E),size:"small",variant:"outlined",children:[E?"Hide":"Show"," Filters"]})]})]}),(0,i.jsx)(A.A,{in:E,children:(0,i.jsxs)(p.default,{sx:{display:"flex",flexWrap:"wrap",gap:2,mb:2},children:[(0,i.jsxs)(C.A,{sx:{minWidth:200},children:[(0,i.jsx)(v.A,{children:"Triaged By"}),(0,i.jsx)(_.A,{multiple:!0,value:z.triageBy,onChange:et("triageBy"),input:(0,i.jsx)(w.A,{label:"Triaged By"}),renderValue:e=>(0,i.jsx)(p.default,{sx:{display:"flex",flexWrap:"wrap",gap:.5},children:e.map(e=>(0,i.jsx)(m.A,{label:e,size:"small",onDelete:()=>ea("triageBy",e),onMouseDown:e=>{e.stopPropagation()}},e))}),children:V.triageByOptions.map(e=>(0,i.jsx)(o.A,{value:e,children:e},e))})]}),(0,i.jsxs)(C.A,{sx:{minWidth:200},children:[(0,i.jsx)(v.A,{children:"Patient Care Area"}),(0,i.jsx)(_.A,{multiple:!0,value:z.patientCareArea,onChange:et("patientCareArea"),input:(0,i.jsx)(w.A,{label:"Patient Care Area"}),renderValue:e=>(0,i.jsx)(p.default,{sx:{display:"flex",flexWrap:"wrap",gap:.5},children:e.map(e=>(0,i.jsx)(m.A,{label:e,size:"small",onDelete:()=>ea("patientCareArea",e),onMouseDown:e=>{e.stopPropagation()}},e))}),children:V.patientCareAreas.map(e=>(0,i.jsx)(o.A,{value:e,children:e},e))})]})]})}),ei&&(0,i.jsxs)(p.default,{sx:{display:"flex",flexWrap:"wrap",gap:1},children:[(0,i.jsx)(j.default,{variant:"body2",sx:{mr:1,alignSelf:"center"},children:"Active filters:"}),z.triageBy.map(e=>(0,i.jsx)(m.A,{label:"Triaged By: ".concat(e),onDelete:()=>ea("triageBy",e),size:"small",color:"primary",variant:"outlined"},"triageBy-".concat(e))),z.patientCareArea.map(e=>(0,i.jsx)(m.A,{label:"Care Area: ".concat(e),onDelete:()=>ea("patientCareArea",e),size:"small",color:"primary",variant:"outlined"},"area-".concat(e)))]})]}),(0,i.jsx)(x.vP,{columns:er,data:(null==ee?void 0:ee.length)?{data:ee.map(e=>({id:e.uuid||e.id,...e})),page:L.page,per_page:L.pageSize,total_pages:q,totalEntries:ee.length}:{data:[],page:1,per_page:10,total_pages:0,totalEntries:0},searchText:G,setSearchString:K,setPaginationModel:H,paginationModel:L,loading:Q,formatForMobileView:el||[],onSwitchChange:U,onRowClick:e=>O("/patient/".concat(e.id,"/profile"))}),(0,i.jsx)(b.w8,{patientuuid:a,visituuid:u,open:e,onClose:()=>t(!1)})]})},D=e=>{let{id:t,visitId:a,triage:r,setDeleted:l,patient:s}=e,{navigateTo:o}=(0,n.cq)();return(0,i.jsxs)(p.default,{sx:{display:"flex",flexDirection:"column",flex:"1"},children:[(0,i.jsx)(x.jD,{sx:{borderRadius:"2px",width:"100%",height:"5ch",backgroundColor:"red"==r?"#B42318":"yellow"==r?"#ede207":"green"==r?"#016302":"",marginY:1}}),(0,i.jsxs)(p.default,{sx:{flex:"1"},children:[(0,i.jsx)(d.A,{title:"Start assessment",arrow:!0,children:(0,i.jsx)(x.O6,{sx:{fontSize:"12px",width:"30%",mr:"2px",mb:"1px"},title:"Start",onClick:()=>o("/patient/".concat(t,"/profile"))})}),(0,i.jsx)(d.A,{title:"Mark as absconded",arrow:!0,children:(0,i.jsx)(u.R,{sx:{width:"30%"},onDelete:()=>l(t),visitId:a,patientId:t})}),(0,i.jsx)(d.A,{title:"Print barcode",arrow:!0,children:(0,i.jsx)(S.jx,{sx:{width:"30%"},uuid:null==s?void 0:s.uuid})})]})]})};function k(e){let{patient:t}=e,[a,r]=l.useState(null),n=()=>{r(null)};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(d.A,{title:"Print",arrow:!0,children:(0,i.jsx)(g.default,{onClick:e=>{r(e.currentTarget)},"aria-label":"Print",sx:{color:"#015E85"},children:(0,i.jsx)(T.ebz,{})})}),(0,i.jsxs)(s.A,{id:"basic-menu",anchorEl:a,open:!!a,onClose:n,children:[(0,i.jsx)(o.A,{sx:{justifyContent:"flex-start"},children:(0,i.jsx)(S.jx,{title:"Demographics",sx:{color:"ButtonText"},variant:"text",onClose:n,uuid:null==t?void 0:t.uuid})}),(0,i.jsx)(o.A,{sx:{justifyContent:"flex-start"},children:(0,i.jsx)(S.WL,{arrivalDateTime:t.arrival_time,patientId:t.id,activeVisitId:null==t?void 0:t.visit_uuid})})]})]})}var E=a(12409),P=a(98624);let z=(0,a(41186).A)(function(){return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(P.V,{title:"Waiting For Assessment",link:"/dashboard"}),(0,i.jsxs)(x.Yr,{container:!0,children:[(0,i.jsx)(x.Yr,{xs:0,lg:0,item:!0}),(0,i.jsxs)(x.Yr,{xs:12,lg:12,sx:{display:"flex",flexDirection:"column"},item:!0,children:[(0,i.jsx)("br",{}),(0,i.jsx)("br",{}),(0,i.jsx)(E.sL,{children:"Patients Waiting For Assessments"}),(0,i.jsx)(E.VQ,{children:"This is a list of all patients that went through triage successfully and waiting for assessments."}),(0,i.jsx)(E.kC,{sx:{mx:1,p:0},children:(0,i.jsx)(N,{})})]}),(0,i.jsx)(x.Yr,{xs:0,lg:0,item:!0})]})]})},[h.Ot.ADMIN,h.Ot.CLINICIAN,h.Ot.NURSE,h.Ot.STUDENT_CLINICIAN])},98624:(e,t,a)=>{"use strict";a.d(t,{V:()=>s});var i=a(95155),r=a(87295),l=a(72478),n=a(56164);let s=e=>{let{title:t,link:a}=e,{navigateTo:s}=(0,r.cq)(),o={fontFamily:"Inter",fontSize:"14px",fontWeight:400,lineHeight:"21px",letterSpacing:"0em",textAlign:"center",mx:"1ch"};return(0,i.jsxs)(l.jD,{sx:{display:"flex",justifyContent:"space-evenly",py:"1ch",borderBottom:"solid 1px #E6E6E6"},children:[(0,i.jsxs)(l.jD,{onClick:()=>s(a),sx:{display:"flex",cursor:"pointer"},children:[(0,i.jsx)(l.Th,{children:(0,i.jsx)(n.oWm,{})}),(0,i.jsx)(l.Th,{sx:o,children:"Go back"})]}),(0,i.jsx)(l.Th,{sx:o,children:t}),(0,i.jsxs)(l.jD,{sx:{display:"flex",alignItems:"center"},children:[(0,i.jsx)(n.M4e,{}),(0,i.jsx)(l.Th,{sx:o,children:"Need any help?"})]})]})}}},e=>{e.O(0,[9503,16,9344,8250,2225,3740,8320,3349,9306,2141,7861,2891,1412,4018,5068,6223,7774,2478,4008,5832,9625,3890,8441,1255,7358],()=>e(e.s=2088)),_N_E=e.O()}]);