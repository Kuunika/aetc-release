"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8371],{12926:(e,n,s)=>{s.d(n,{N:()=>r});var t=s(95155),l=s(25635),i=s(12115);let r=e=>{let{data:n}=e,[s,r]=(0,i.useState)([]),a={pH:"",PCO2:"mmHg",PO2:"mmHg","Base Excess":"mmol/L",ctHb:"g/dL",SO2E:"%",FO2HBE:"%",FHHBE:"%",FmetHb:"%","Creatine kinase":"mmol/L",CNA:"mmol/L",CA2:"mmol/L",CCL:"mmol/L",cGlu:"mmol/L",cLac:"mmol/L",ctBil:"\xb5mol/L","pH (T)":"","pCO₂ (T)":"mmHg","pO₂ (T)":"mmHg",P50E:"",BaseExcess:"mmol/L",HCO3:"mmol/L","Anion Gapc":"mmol/L",MOSMC:"mmol/kg"};(0,i.useEffect)(()=>{if(n.length>0){let e=Object.values(n),s=e=>e.filter(e=>{var n,s,t,l;let i=(null==(s=e.names)||null==(n=s[0])?void 0:n.name)==="Description",r=null!=(l=null!=(t=e.value)?t:e.value_text)?l:e.value_numeric,a=!isNaN(Number(r))&&null!=r&&""!==r;return!(i&&a)}).map(e=>({...e,children:e.children?s(e.children):[]}));r(e.filter(e=>e.children&&e.children.length>0).map(e=>({...e,children:e.children?s(e.children):[]})).sort((e,n)=>{let s=new Date(e.obs_datetime).getTime();return new Date(n.obs_datetime).getTime()-s}))}},[n]);let d=e=>{var n;let s=null!=(n=a[e])?n:"";return"".concat(s?" ".concat(s):"")},o=function(e){var n,s,i,r,a,c,x,h,u,m,g,p,j,y,v,f,b;let _=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,N=(null==(n=e.children)?void 0:n.length)>0;return(0,t.jsxs)("div",{style:{marginLeft:16*_},children:[(0,t.jsxs)(l.default,{sx:{color:"#777",fontWeight:400,lineHeight:1.5},children:[N?(0,t.jsx)("b",{children:(null==(i=e.names)||null==(s=i[0])?void 0:s.name)==="Description"?"":"".concat(null==(a=e.names)||null==(r=a[0])?void 0:r.name," ")}):(0,t.jsx)("b",{children:(null==(x=e.names)||null==(c=x[0])?void 0:c.name)==="Description"?"":"".concat(null==(u=e.names)||null==(h=u[0])?void 0:h.name," : ")}),e.value_text?(0,t.jsxs)(t.Fragment,{children:[N?(0,t.jsx)("b",{children:e.value_text}):e.value_text,(0,t.jsx)("span",{children:d(null==(g=e.names)||null==(m=g[0])?void 0:m.name)})]}):(0,t.jsxs)(t.Fragment,{children:[N?(0,t.jsx)("b",{children:null!=(v=null!=(y=e.value)?y:e.value_numeric)?v:"N/A"}):null!=(b=null!=(f=e.value)?f:e.value_numeric)?b:"N/A",(0,t.jsx)("span",{children:d(null==(j=e.names)||null==(p=j[0])?void 0:p.name)})]})]}),N&&(0,t.jsx)("div",{style:{display:"flex",flexWrap:"wrap",gap:"16px"},children:e.children.map(e=>o(e,_+1))})]},e.obs_id)};return(0,t.jsx)("div",{style:{display:"flex",flexDirection:"column",alignItems:"flex-start",gap:"0.2rem"},children:0===s.length?(0,t.jsx)(l.default,{children:"No results available"}):s.map(e=>o(e,1))})}},27845:(e,n,s)=>{s.d(n,{E:()=>r});var t=s(95155),l=s(72478),i=s(25635);let r=e=>{let{rows:n}=e,s=[];return 0==s.length?(0,t.jsx)(i.default,{children:"No results available"}):(0,t.jsx)(l.WE,{rowHeight:25,rows:s,columns:[{field:"test",headerName:"Test",flex:1},{field:"result",headerName:"result",flex:1}]})}},60021:(e,n,s)=>{s.d(n,{Z:()=>m});var t=s(95155),l=s(90702),i=s(52375),r=s(263),a=s(5458),d=s(7047),o=s(10157),c=s(87295),x=s(66637),h=s(91871),u=s(12115);let m=e=>{let{setRow:n,encounterType:s=r.fA.PRESCRIPTIONS,medicationLabelTitle:m,showPrintButton:g=!0}=e,{patientId:p,activeVisitId:j}=(0,c.gd)(),{setZpl:y,setOpen:v}=(0,a.m)(),{selectedVisit:f}=(0,d.E)(),{data:b,isPending:_}=(0,x.$O)(p,"encounter_type=".concat(s,"&visit=").concat(null==f?void 0:f.uuid)),[N,R]=(0,u.useState)([]),E=(e,n)=>{var s,t;return null==e||null==(t=e.children)||null==(s=t.find(e=>e.names&&e.names[0].name==n))?void 0:s.value};return(0,u.useEffect)(()=>{var e;let n=null==b?void 0:b.filter(e=>e.visit_id==Number(j));if(!n||0==n.length)return void R([]);R(null==(e=n[0])?void 0:e.obs.filter(e=>(null==e?void 0:e.names)&&(null==e?void 0:e.names[0].name)==r.W.DRUG_GIVEN).map(e=>{let n=E(e,r.l8.MEDICATION_DURATION_UNIT),s=E(e,r.W.MEDICATION_DOSE),t=E(e,r.l8.DESCRIPTION),l=E(e,r.l8.MEDICATION_FORMULATION),i=E(e,r.l8.MEDICATION_DOSE_UNIT),a=E(e,r.l8.MEDICATION_FREQUENCY),d=E(e,r.l8.MEDICATION_DURATION)+" "+n,o=e.value_coded_uuid;return{medicationName:e.value,durationUnit:n,dose:s,doseUnits:i,frequency:a,duration:d,formulation:l,description:t,prescribedBy:e.created_by,medicationUUID:o}}).filter(e=>"current"==e.description))},[b]),(0,t.jsxs)(l.h,{loading:_,children:[g&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(h.A,{onClick:()=>{let e=(0,o.B)(N,m);v(e),y(e)},variant:"contained",children:"Print Medications"}),(0,t.jsx)("br",{})]}),(0,t.jsx)(i.q,{getSelectedRow:n,columns:[{label:"Medication Name",field:"medicationName"},{label:"Dose",field:"dose"},{label:"Frequency",field:"frequency"},{label:"Duration",field:"duration"},{label:"Formulation",field:"formulation"},{label:"Prescriber",field:"prescribedBy"}],data:N})]})}},80089:(e,n,s)=>{s.d(n,{M:()=>E});var t=s(95155),l=s(87295),i=s(45294),r=s(72478),a=s(88248),d=s(5387),o=s(12115),c=s(94049),x=s(91871),h=s(48833),u=s(52363),m=s(65036),g=s(16963),p=s(2456),j=s(64792),y=s(71356),v=s(45202),f=s(75912),b=s(25635),_=s(15966),N=s(26301),R=s(50494);let E=()=>{let{data:e}=(0,R.Ay)(),n=(0,o.useRef)(null),{params:s}=(0,l.KU)(),{data:E}=(0,d.GN)(s.id),{data:k}=(0,i.RO)(null==s?void 0:s.id),[A,C]=(0,o.useState)(!1),[D,w]=(0,o.useState)({sampleType:"",ascension:"",tests:"",orderDate:"",requestingTechnician:"",description:""}),[P,S]=(0,o.useState)("http://localhost:3000"),[F,T]=(0,o.useState)(!1),[I,H]=(0,o.useState)([{name:"",value:"",testName:""}]),M=(0,o.useCallback)((e,n)=>{H(e.map(e=>({name:e.indicator.name,value:e.value,testName:n}))),T(!0)},[]),O=(0,o.useCallback)(()=>{T(!1)},[]),B=(0,o.useCallback)(e=>{n.current=e},[]),L=[{field:"specimen",headerName:"Specimen",flex:1,renderCell:e=>e.row.specimen.name},{field:"test",headerName:"Test(s)",flex:1,renderCell:e=>e.row.test.name},{field:"requesting_clinician",headerName:"Ordered By",flex:1},{field:"status",headerName:"Status",flex:1},{field:"accessionNumber",headerName:"Accession Number",flex:1,renderCell:e=>e.row.accession_number},{field:"action",headerName:"Action",flex:1,renderCell:e=>(0,t.jsx)(c.default,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",width:"100%"},children:(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(x.A,{disabled:!(e.row.test.result&&e.row.test.result.length>0),variant:"contained",onClick:()=>{M(e.row.test.result,e.row.test.name)},sx:{width:"48%",padding:"4px 8px"},children:"View"}),(0,t.jsxs)(h.A,{open:F,onClose:O,maxWidth:"sm",fullWidth:!0,children:[(0,t.jsxs)(u.A,{children:["Test results for ",I[0].testName]}),(0,t.jsx)(m.A,{children:(0,t.jsxs)(g.A,{children:[(0,t.jsx)(p.A,{children:(0,t.jsxs)(j.A,{children:[(0,t.jsx)(y.A,{children:"Measure"}),(0,t.jsx)(y.A,{children:"Result"})]})}),(0,t.jsx)(v.A,{children:I.map((e,n)=>(0,t.jsxs)(j.A,{children:[(0,t.jsx)(y.A,{children:e.name}),(0,t.jsx)(y.A,{children:e.value})]},n))})]})}),(0,t.jsx)(f.A,{children:(0,t.jsx)(x.A,{onClick:O,color:"primary",children:"Close"})})]}),(0,t.jsx)(r.O6,{title:"print",variant:"secondary",onClick:()=>{C(!0),w({sampleType:e.row.specimen.name,ascension:e.row.accession_number,orderDate:(0,N.kh)(e.row.order_date),tests:e.row.test.name,requestingTechnician:e.row.requesting_clinician,description:e.row.comment_to_fulfiller})},sx:{width:"48%",padding:"4px 8px"}})]})})}],G=(null==k?void 0:k.flatMap(e=>e.tests.map(n=>({...e,id:n.id,test:n,status:n.result?"Results Available":"Waiting for result(s)"}))))||[];return(0,t.jsxs)(t.Fragment,{children:[0===G.length?(0,t.jsx)(b.default,{children:"No lab orders added"}):(0,t.jsx)(r.WE,{height:"25ch",showTopBar:!1,rowHeight:25,rows:G,columns:L}),(0,t.jsx)(r.eV,{maxWidth:"sm",open:A,onClose:()=>C(!1),title:"Preview Barcode",children:(0,t.jsxs)(r.jD,{sx:{display:"flex",flexDirection:"column",alignItems:"center"},children:[(0,t.jsx)(a.SE,{printer:P,orderDate:D.orderDate,setTriggerFunc:B,value:D.ascension,test:"".concat(D.tests,"|").concat(D.ascension,"|").concat(D.requestingTechnician.split(" ")[1]),fullName:"".concat(null==E?void 0:E.given_name," ").concat(null==E?void 0:E.family_name),gender:null==E?void 0:E.gender,description:D.description,children:(0,t.jsx)(t.Fragment,{})}),(0,t.jsx)("br",{}),(0,t.jsx)(_.x,{getValue:e=>{S(e)},label:"Select Printer",options:e?null==e?void 0:e.map(e=>({value:e.ip_address,label:e.name})):[]}),(0,t.jsx)("br",{}),(0,t.jsx)(r.O6,{title:"Print Barcode",onClick:()=>{n.current&&"function"==typeof n.current&&(n.current(),C(!1))}})]})})]})}},88867:(e,n,s)=>{s.d(n,{r:()=>j});var t=s(95155),l=s(88661),i=s.n(l),r=s(12115),a=s(94222),d=s(263),o=s(87295),c=s(5387),x=s(66637),h=s(72478),u=s(12926),m=s(27845),g=s(60021);let p=e=>{let{presentingInfo:n,pastMedicalHistory:s,reviewOfSystems:l,physicalExam:i,clerkInfo:a,gynaeHistory:c,setRow:p,showPatientInfo:j=!1}=e,[y,v]=(0,r.useState)([]),{params:f}=(0,o.KU)(),b=f.id,{data:_,isLoading:N}=(0,x.$O)(b,"encounter_type=".concat(d.fA.BED_SIDE_TEST));if((0,r.useEffect)(()=>{if(!N&&_){var e,n;v(null!=(n=null==_||null==(e=_[0])?void 0:e.obs)?n:[])}},[_,N]),[...n.complaints,n.history,n.surgicalHistory,n.surgicalProcedure,...n.familyHistory,n.allergies,n.differentialDiagnosis,n.notes,n.smoking.status,n.smoking.duration,n.alcoholIntake,n.recreationalDrugs,...s,...Object.values(l).flat(),...Object.values(i),a.additionalNotes,a.clerkName,a.designation,a.signature].every(e=>Array.isArray(e)?0===e.length:"string"==typeof e&&!e.trim()))return(0,t.jsxs)(t.Fragment,{children:[j&&(0,t.jsx)(h.TF,{}),(0,t.jsx)("h1",{style:{textAlign:"center",marginBottom:"20px"},children:"Surgical Notes"}),(0,t.jsx)("p",{style:{fontStyle:"italic",color:"gray"},children:"Surgical Notes not recorded."})]});let R=()=>i.temperature||i.pulseRate||i.bloodPressure||i.respiratoryRate,E=()=>i.eyes||i.mouth||i.neck,k=()=>i.chest||i.endocrine||i.abdominal,A=()=>i.motorResponse||i.verbalResponse||i.eyeResponse,C=()=>i.cranialNerves||i.grossMotor||i.sensation||i.pulsations||i.rectalExamination||i.extremities;return(0,t.jsxs)("div",{children:[j&&(0,t.jsx)(h.TF,{}),(0,t.jsx)("h1",{style:{textAlign:"center",marginBottom:"20px"},children:"Surgical Notes"}),(n.complaints.length>0||n.history)&&(0,t.jsxs)(t.Fragment,{children:[n.complaints.length>0&&(0,t.jsxs)("p",{children:[(0,t.jsx)("strong",{children:"Presenting Complaints:"})," ",n.complaints.map((e,n)=>"(".concat(n+1,") ").concat(e.complaint).concat(e.duration?" - Duration: ".concat(e.duration):"")).join(", ")]}),n.history&&(0,t.jsxs)("p",{children:[(0,t.jsx)("strong",{children:"History of Presenting Complaint:"})," ",n.history]}),(0,t.jsx)("hr",{})]}),s.length>0&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("h2",{children:"Past Medical History"}),(0,t.jsxs)("table",{style:{width:"100%",borderCollapse:"collapse",marginBottom:"20px"},children:[(0,t.jsx)("thead",{children:(0,t.jsxs)("tr",{children:[(0,t.jsx)("th",{style:{border:"1px solid #ddd",padding:"8px",textAlign:"left"},children:"Condition"}),(0,t.jsx)("th",{style:{border:"1px solid #ddd",padding:"8px",textAlign:"left"},children:"On Treatment"}),(0,t.jsx)("th",{style:{border:"1px solid #ddd",padding:"8px",textAlign:"left"},children:"Medication"}),(0,t.jsx)("th",{style:{border:"1px solid #ddd",padding:"8px",textAlign:"left"},children:"Medication Dose"}),(0,t.jsx)("th",{style:{border:"1px solid #ddd",padding:"8px",textAlign:"left"},children:"Reason for Request"}),(0,t.jsx)("th",{style:{border:"1px solid #ddd",padding:"8px",textAlign:"left"},children:"Medication Duration"})]})}),(0,t.jsx)("tbody",{children:s.map((e,n)=>(0,t.jsxs)("tr",{children:[(0,t.jsx)("td",{style:{border:"1px solid #ddd",padding:"8px"},children:e.condition}),(0,t.jsx)("td",{style:{border:"1px solid #ddd",padding:"8px"},children:e.onTreatment}),(0,t.jsx)("td",{style:{border:"1px solid #ddd",padding:"8px"},children:e.medication}),(0,t.jsx)("td",{style:{border:"1px solid #ddd",padding:"8px"},children:e.medicationDose}),(0,t.jsx)("td",{style:{border:"1px solid #ddd",padding:"8px"},children:e.reasonForRequest}),(0,t.jsx)("td",{style:{border:"1px solid #ddd",padding:"8px"},children:e.medicationDuration})]},n))})]})]}),(n.surgicalHistory||n.surgicalProcedure||n.familyHistory.length>0||n.allergies)&&(0,t.jsxs)(t.Fragment,{children:[n.surgicalHistory&&(0,t.jsxs)("p",{children:[(0,t.jsx)("strong",{children:"Surgical History:"})," ",n.surgicalHistory]}),n.surgicalProcedure&&(0,t.jsxs)("p",{children:[(0,t.jsx)("strong",{children:"Surgical Procedure:"})," ",n.surgicalProcedure]}),n.familyHistory.length>0&&(0,t.jsxs)("p",{children:[(0,t.jsx)("strong",{children:"Family History:"})," ",n.familyHistory.map((e,n)=>"(".concat(n+1,") ").concat(e)).join(", ")]}),n.allergies&&(0,t.jsxs)("p",{children:[(0,t.jsx)("strong",{children:"Allergies:"})," ",n.allergies]}),(0,t.jsx)("hr",{})]}),(c.isPregnant||c.lnmp||c.gestationalAge||c.parity)&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("h2",{children:"Gynae History"}),c.isPregnant&&(0,t.jsxs)("p",{children:[(0,t.jsx)("strong",{children:"Is Patient Pregnant:"})," ",c.isPregnant]}),c.lnmp&&(0,t.jsxs)("p",{children:[(0,t.jsx)("strong",{children:"LNMP:"})," ",c.lnmp]}),c.gestationalAge&&(0,t.jsxs)("p",{children:[(0,t.jsx)("strong",{children:"Gestational Age:"})," ",c.gestationalAge]}),c.parity&&(0,t.jsxs)("p",{children:[(0,t.jsx)("strong",{children:"Parity:"})," ",c.parity]}),(0,t.jsx)("hr",{})]}),(n.smoking.status||n.smoking.duration||n.alcoholIntake||n.recreationalDrugs||Object.values(l).some(e=>e.length>0))&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("h2",{children:"Social History & Review of Systems"}),(0,t.jsxs)("table",{style:{width:"100%",borderCollapse:"collapse",marginBottom:"20px"},children:[(0,t.jsx)("thead",{children:(0,t.jsxs)("tr",{children:[(0,t.jsx)("th",{style:{border:"1px solid #ddd",padding:"8px",textAlign:"left"},children:"Social History"}),(0,t.jsx)("th",{style:{border:"1px solid #ddd",padding:"8px",textAlign:"left"},children:"Review of Systems"})]})}),(0,t.jsxs)("tbody",{children:[(n.smoking.status||l.general.length>0)&&(0,t.jsxs)("tr",{children:[(0,t.jsx)("td",{style:{border:"1px solid #ddd",padding:"8px"},children:n.smoking.status&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("strong",{children:"Smoking Status:"})," ",n.smoking.status]})}),(0,t.jsx)("td",{style:{border:"1px solid #ddd",padding:"8px"},children:l.general.length>0&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("strong",{children:"General:"})," ",l.general.map((e,n)=>"(".concat(n+1,") ").concat(e)).join(", ")]})})]}),"Yes"===n.smoking.status&&n.smoking.duration||l.ent.length>0?(0,t.jsxs)("tr",{children:[(0,t.jsx)("td",{style:{border:"1px solid #ddd",padding:"8px"},children:"Yes"===n.smoking.status&&n.smoking.duration&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("strong",{children:"Cigarettes per day:"})," ",n.smoking.duration]})}),(0,t.jsx)("td",{style:{border:"1px solid #ddd",padding:"8px"},children:l.ent.length>0&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("strong",{children:"ENT:"})," ",l.ent.map((e,n)=>"(".concat(n+1,") ").concat(e)).join(", ")]})})]}):null,(n.alcoholIntake||l.endocrine.length>0)&&(0,t.jsxs)("tr",{children:[(0,t.jsx)("td",{style:{border:"1px solid #ddd",padding:"8px"},children:n.alcoholIntake&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("strong",{children:"Alcohol Intake:"})," ",n.alcoholIntake," units per day"]})}),(0,t.jsx)("td",{style:{border:"1px solid #ddd",padding:"8px"},children:l.endocrine.length>0&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("strong",{children:"Endocrine:"})," ",l.endocrine.map((e,n)=>"(".concat(n+1,") ").concat(e)).join(", ")]})})]}),(n.recreationalDrugs||l.cardiac.length>0)&&(0,t.jsxs)("tr",{children:[(0,t.jsx)("td",{style:{border:"1px solid #ddd",padding:"8px"},children:n.recreationalDrugs&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("strong",{children:"Recreational Drugs:"})," ",n.recreationalDrugs]})}),(0,t.jsx)("td",{style:{border:"1px solid #ddd",padding:"8px"},children:l.cardiac.length>0&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("strong",{children:"Cardiac:"})," ",l.cardiac.map((e,n)=>"(".concat(n+1,") ").concat(e)).join(", ")]})})]}),l.respiratory.length>0&&(0,t.jsxs)("tr",{children:[(0,t.jsx)("td",{style:{border:"1px solid #ddd",padding:"8px"}}),(0,t.jsxs)("td",{style:{border:"1px solid #ddd",padding:"8px"},children:[(0,t.jsx)("strong",{children:"Respiratory:"})," ",l.respiratory.map((e,n)=>"(".concat(n+1,") ").concat(e)).join(", ")]})]}),l.gastrointestinal.length>0&&(0,t.jsxs)("tr",{children:[(0,t.jsx)("td",{style:{border:"1px solid #ddd",padding:"8px"}}),(0,t.jsxs)("td",{style:{border:"1px solid #ddd",padding:"8px"},children:[(0,t.jsx)("strong",{children:"Gastrointestinal:"})," ",l.gastrointestinal.map((e,n)=>"(".concat(n+1,") ").concat(e)).join(", ")]})]}),l.genitourinary.length>0&&(0,t.jsxs)("tr",{children:[(0,t.jsx)("td",{style:{border:"1px solid #ddd",padding:"8px"}}),(0,t.jsxs)("td",{style:{border:"1px solid #ddd",padding:"8px"},children:[(0,t.jsx)("strong",{children:"Genitourinary:"})," ",l.genitourinary.map((e,n)=>"(".concat(n+1,") ").concat(e)).join(", ")]})]}),l.musculoskeletal.length>0&&(0,t.jsxs)("tr",{children:[(0,t.jsx)("td",{style:{border:"1px solid #ddd",padding:"8px"}}),(0,t.jsxs)("td",{style:{border:"1px solid #ddd",padding:"8px"},children:[(0,t.jsx)("strong",{children:"Musculoskeletal:"})," ",l.musculoskeletal.map((e,n)=>"(".concat(n+1,") ").concat(e)).join(", ")]})]}),l.neurologic.length>0&&(0,t.jsxs)("tr",{children:[(0,t.jsx)("td",{style:{border:"1px solid #ddd",padding:"8px"}}),(0,t.jsxs)("td",{style:{border:"1px solid #ddd",padding:"8px"},children:[(0,t.jsx)("strong",{children:"Neurologic:"})," ",l.neurologic.map((e,n)=>"(".concat(n+1,") ").concat(e)).join(", ")]})]}),l.psychiatric.length>0&&(0,t.jsxs)("tr",{children:[(0,t.jsx)("td",{style:{border:"1px solid #ddd",padding:"8px"}}),(0,t.jsxs)("td",{style:{border:"1px solid #ddd",padding:"8px"},children:[(0,t.jsx)("strong",{children:"Psychiatric:"})," ",l.psychiatric.map((e,n)=>"(".concat(n+1,") ").concat(e)).join(", ")]})]})]})]})]}),(i.generalCondition||R()||E()||k()||A()||C())&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("h2",{children:"Physical Examination"}),i.generalCondition&&(0,t.jsxs)("p",{children:[(0,t.jsx)("strong",{children:"General Condition:"})," ",i.generalCondition]}),R()&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("h3",{children:"Vitals"}),(0,t.jsxs)("div",{style:{display:"flex",gap:"20px",marginBottom:"10px",flexWrap:"wrap"},children:[i.temperature&&(0,t.jsxs)("p",{children:[(0,t.jsx)("strong",{children:"Temperature:"})," ",i.temperature]}),i.pulseRate&&(0,t.jsxs)("p",{children:[(0,t.jsx)("strong",{children:"Pulse Rate:"})," ",i.pulseRate," bpm"]}),i.bloodPressure&&(0,t.jsxs)("p",{children:[(0,t.jsx)("strong",{children:"Blood Pressure:"})," ",i.bloodPressure," mmHg"]}),i.respiratoryRate&&(0,t.jsxs)("p",{children:[(0,t.jsx)("strong",{children:"Respiratory Rate:"})," ",i.respiratoryRate," breaths/min"]})]})]}),E()&&(0,t.jsxs)("div",{style:{display:"flex",gap:"20px",marginBottom:"10px",flexWrap:"wrap"},children:[i.eyes&&(0,t.jsxs)("p",{children:[(0,t.jsx)("strong",{children:"Eyes:"})," ",i.eyes]}),i.mouth&&(0,t.jsxs)("p",{children:[(0,t.jsx)("strong",{children:"Mouth:"})," ",i.mouth]}),i.neck&&(0,t.jsxs)("p",{children:[(0,t.jsx)("strong",{children:"Neck:"})," ",i.neck]})]}),k()&&(0,t.jsxs)(t.Fragment,{children:[i.chest&&(0,t.jsxs)("p",{children:[(0,t.jsx)("strong",{children:"Chest Examination:"})," ",i.chest]}),i.endocrine&&(0,t.jsxs)("p",{children:[(0,t.jsx)("strong",{children:"Endocrine Examination:"})," ",i.endocrine]}),i.abdominal&&(0,t.jsxs)("p",{children:[(0,t.jsx)("strong",{children:"Abdominal Examination:"})," ",i.abdominal]})]}),(0,t.jsx)("hr",{}),A()&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("h3",{children:"Glasgow Coma Scale (GCS)"}),i.motorResponse&&(0,t.jsxs)("p",{children:[(0,t.jsx)("strong",{children:"Motor Response:"})," ",i.motorResponse]}),i.verbalResponse&&(0,t.jsxs)("p",{children:[(0,t.jsx)("strong",{children:"Verbal Response:"})," ",i.verbalResponse]}),i.eyeResponse&&(0,t.jsxs)("p",{children:[(0,t.jsx)("strong",{children:"Eye Response:"})," ",i.eyeResponse]}),(0,t.jsx)("hr",{})]}),C()&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("h3",{children:"Additional Examinations & Extremities"}),(0,t.jsxs)("table",{style:{width:"100%",borderCollapse:"collapse",marginBottom:"20px"},children:[(0,t.jsx)("thead",{children:(0,t.jsxs)("tr",{children:[(0,t.jsx)("th",{style:{border:"1px solid #ddd",padding:"8px",textAlign:"left"},children:"Additional Examinations"}),(0,t.jsx)("th",{style:{border:"1px solid #ddd",padding:"8px",textAlign:"left"},children:"Extremities"})]})}),(0,t.jsxs)("tbody",{children:[(i.cranialNerves||i.pulsations)&&(0,t.jsxs)("tr",{children:[(0,t.jsx)("td",{style:{border:"1px solid #ddd",padding:"8px"},children:i.cranialNerves&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("strong",{children:"Cranial Nerves:"})," ",i.cranialNerves]})}),(0,t.jsx)("td",{style:{border:"1px solid #ddd",padding:"8px"},children:i.pulsations&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("strong",{children:"Pulsations:"})," ",i.pulsations]})})]}),(i.grossMotor||i.rectalExamination)&&(0,t.jsxs)("tr",{children:[(0,t.jsx)("td",{style:{border:"1px solid #ddd",padding:"8px"},children:i.grossMotor&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("strong",{children:"Gross Motor:"})," ",i.grossMotor]})}),(0,t.jsx)("td",{style:{border:"1px solid #ddd",padding:"8px"},children:i.rectalExamination&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("strong",{children:"Rectal Examination:"})," ",i.rectalExamination]})})]}),(i.sensation||i.extremities)&&(0,t.jsxs)("tr",{children:[(0,t.jsx)("td",{style:{border:"1px solid #ddd",padding:"8px"},children:i.sensation&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("strong",{children:"Sensation:"})," ",i.sensation]})}),(0,t.jsx)("td",{style:{border:"1px solid #ddd",padding:"8px"},children:i.extremities&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("strong",{children:"Extremities:"})," ",i.extremities]})})]})]})]})]})]}),n.differentialDiagnosis&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("hr",{}),(0,t.jsxs)("p",{children:[(0,t.jsx)("strong",{children:"Working Differential Diagnosis:"})," ",n.differentialDiagnosis]})]}),(0,t.jsx)("hr",{}),(0,t.jsx)("h2",{children:"Investigations"}),(0,t.jsx)("h3",{children:"Bedside Results"}),(0,t.jsx)(u.N,{data:y}),(0,t.jsx)("h3",{children:"Lab Results"}),(0,t.jsx)(m.E,{rows:[]}),n.notes&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("hr",{}),(0,t.jsxs)("p",{children:[(0,t.jsx)("strong",{children:"Additional Investigation Notes:"})," ",n.notes]})]}),(0,t.jsx)("hr",{}),(0,t.jsx)("h2",{children:"Medications"}),(0,t.jsx)(g.Z,{setRow:p,showPrintButton:!1}),(a.additionalNotes||a.clerkName||a.designation||a.signature)&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("hr",{}),(0,t.jsx)("h2",{children:"Clerking Details"}),a.additionalNotes&&(0,t.jsxs)("p",{children:[(0,t.jsx)("strong",{children:"Additional Notes:"})," ",a.additionalNotes]}),(0,t.jsxs)("div",{style:{display:"flex",gap:"20px",marginBottom:"10px",flexWrap:"wrap"},children:[a.clerkName&&(0,t.jsxs)("p",{children:[(0,t.jsx)("strong",{children:"Clerk Name:"})," ",a.clerkName]}),a.designation&&(0,t.jsxs)("p",{children:[(0,t.jsx)("strong",{children:"Designation:"})," ",a.designation]}),a.signature&&(0,t.jsxs)("p",{children:[(0,t.jsx)("strong",{children:"Signature:"})," ",a.signature]})]})]})]})},j=(0,r.forwardRef)((e,n)=>{let{onPrintComplete:s,showPreview:l=!1}=e,[h,u]=(0,r.useState)(null),{params:m}=(0,o.KU)(),{data:g}=(0,c.iu)(m.id),{data:j}=(0,x.$O)(m.id),[y,v]=(0,r.useState)(void 0),[f,b]=(0,r.useState)({clerkName:"",designation:"",signature:"",additionalNotes:""}),[_,N]=(0,r.useState)({complaints:[],history:"",surgicalHistory:"",surgicalProcedure:"",familyHistory:[],allergies:"",differentialDiagnosis:"",notes:"",smoking:{status:"",duration:""},alcoholIntake:"",recreationalDrugs:""}),[R,E]=(0,r.useState)({isPregnant:"",lnmp:"",gestationalAge:"",parity:""}),[k,A]=(0,r.useState)({general:[],ent:[],endocrine:[],cardiac:[],respiratory:[],gastrointestinal:[],genitourinary:[],musculoskeletal:[],neurologic:[],psychiatric:[]}),[C,D]=(0,r.useState)({generalCondition:"",temperature:"",pulseRate:"",bloodPressure:"",respiratoryRate:"",eyes:"",mouth:"",neck:"",chest:"",endocrine:"",abdominal:"",motorResponse:"",verbalResponse:"",eyeResponse:"",cranialNerves:"",grossMotor:"",sensation:"",pulsations:"",rectalExamination:"",extremities:""}),[w,P]=(0,r.useState)([]),S=(0,r.useRef)(null),F=(0,a.useReactToPrint)({contentRef:S,onAfterPrint:s});return(0,r.useImperativeHandle)(n,()=>({generatePDF:()=>{F()}})),(0,r.useEffect)(()=>{if(!j)return;let e=null==j?void 0:j.filter(e=>e.encounter_type&&e.encounter_type.uuid===d.fA.SURGICAL_NOTES_TEMPLATE_FORM).sort((e,n)=>new Date(n.encounter_datetime).getTime()-new Date(e.encounter_datetime).getTime())[0];if(e&&e.obs){let n={clerkName:"",designation:"",signature:"",additionalNotes:""},s={complaints:[],history:"",surgicalHistory:"",surgicalProcedure:"",familyHistory:[],allergies:"",differentialDiagnosis:"",notes:"",smoking:{status:"",duration:""},alcoholIntake:"",recreationalDrugs:""},t={isPregnant:"",lnmp:"",gestationalAge:"",parity:""},l={general:[],ent:[],endocrine:[],cardiac:[],respiratory:[],gastrointestinal:[],genitourinary:[],musculoskeletal:[],neurologic:[],psychiatric:[]},i={generalCondition:"",temperature:"",pulseRate:"",bloodPressure:"",respiratoryRate:"",eyes:"",mouth:"",neck:"",chest:"",endocrine:"",abdominal:"",motorResponse:"",verbalResponse:"",eyeResponse:"",cranialNerves:"",grossMotor:"",sensation:"",pulsations:"",rectalExamination:"",extremities:""};e.obs.forEach(e=>{let r=e.names&&e.names.length>0?e.names[0].name:null;if("Clerk name"===r)n.clerkName=e.value||e.value_text||"";else if("Designation"===r)n.designation=e.value||e.value_text||"";else if("Signature"===r)n.signature=e.value||e.value_text||"";else if("Additional Notes"===r)n.additionalNotes=e.value||e.value_text||"";else if("B-HCG"===r)t.isPregnant=e.value||e.value_text||"";else if("LNMP"===r)t.lnmp=e.value||e.value_text||"";else if("Gestational age"===r)t.gestationalAge=e.value||e.value_text||"";else if("Parity"===r)t.parity=e.value||e.value_text||"";else if("Presenting Complaints"===r)e.children&&e.children.length>0&&e.children.forEach(e=>{let n=e.value||e.value_text||"",t="";if(e.children&&e.children.length>0){let n=e.children.find(e=>e.names&&e.names.length>0&&"Duration"===e.names[0].name);n&&(t=n.value||n.value_text||"")}n&&s.complaints.push({complaint:n,duration:t})});else if("Presenting history"===r)s.history=e.value||e.value_text||"";else if("Surgical Procedure"===r)s.surgicalHistory=e.value||e.value_text||"";else if("Procedures"===r)s.surgicalProcedure=e.value||e.value_text||"";else if(null==r?void 0:r.startsWith("Family History")){let n=e.value||e.value_text||"";n&&s.familyHistory.push(n)}else if("Allergic reaction"===r)s.allergies=e.value||e.value_text||"";else if("Attempted/ Differential Diagnosis"===r)s.differentialDiagnosis=e.value||e.value_text||"";else if("Clinician notes"===r)s.notes=e.value||e.value_text||"";else if("Patient smokes"===r){if(s.smoking.status=e.value||e.value_text||"",e.children&&e.children.length>0){let n=e.children.find(e=>e.names&&e.names.length>0&&"Expected Duration"===e.names[0].name);n&&(s.smoking.duration=n.value||n.value_text||"")}}else"Alcohol intake"===r?s.alcoholIntake=e.value||e.value_text||"":"Recreational drug"===r?s.recreationalDrugs=e.value||e.value_text||"":"Review of systems, general"===r?e.children&&e.children.length>0&&e.children.forEach(e=>{let n=e.names&&e.names.length>0?e.names[0].name:null;n&&l.general.push(n)}):"Review of systems ENT"===r?e.children&&e.children.length>0&&e.children.forEach(e=>{let n=e.names&&e.names.length>0?e.names[0].name:null;n&&l.ent.push(n)}):"Review of systems  endocrine"===r?e.children&&e.children.length>0&&e.children.forEach(e=>{let n=e.names&&e.names.length>0?e.names[0].name:null;n&&l.endocrine.push(n)}):"Review of systems cardiac"===r?e.children&&e.children.length>0&&e.children.forEach(e=>{let n=e.names&&e.names.length>0?e.names[0].name:null;n&&l.cardiac.push(n)}):"Severe Respiratory"===r?e.children&&e.children.length>0&&e.children.forEach(e=>{let n=e.names&&e.names.length>0?e.names[0].name:null;n&&l.respiratory.push(n)}):"Review Of Systems Gastrointestinal"===r?e.children&&e.children.length>0&&e.children.forEach(e=>{let n=e.names&&e.names.length>0?e.names[0].name:null;n&&l.gastrointestinal.push(n)}):"Review Of Systems Genitourinary"===r?e.children&&e.children.length>0&&e.children.forEach(e=>{let n=e.names&&e.names.length>0?e.names[0].name:null;n&&l.genitourinary.push(n)}):"Review of systems musculoskeletal"===r?e.children&&e.children.length>0&&e.children.forEach(e=>{let n=e.names&&e.names.length>0?e.names[0].name:null;n&&l.musculoskeletal.push(n)}):"Review of systems neurologic"===r?e.children&&e.children.length>0&&e.children.forEach(e=>{let n=e.names&&e.names.length>0?e.names[0].name:null;n&&l.neurologic.push(n)}):"Review of systems psychiatric"===r?e.children&&e.children.length>0&&e.children.forEach(e=>{let n=e.names&&e.names.length>0?e.names[0].name:null;n&&l.psychiatric.push(n)}):"General condition"===r?i.generalCondition=e.value||"":"Temperature (c)"===r?i.temperature=e.value_numeric?"".concat(e.value_numeric,"\xb0C"):e.value||"":"Pulse Rate"===r?i.pulseRate=e.value_text||e.value||"":"Blood Pressure Measured"===r?i.bloodPressure=e.value_text||e.value||"":"Respiratory rate"===r?i.respiratoryRate=e.value_text||e.value||"":"Eyes"===r?i.eyes=e.value_text||e.value||"":"Mouth"===r?i.mouth=e.value_text||e.value||"":"Neck"===r?i.neck=e.value_text||e.value||"":"Chest examination"===r?i.chest=e.value_text||e.value||"":"Endocrine examination"===r?i.endocrine=e.value_text||e.value||"":"Abdominal examination"===r?i.abdominal=e.value_text||e.value||"":"Motor response"===r?i.motorResponse=e.value_text||e.value||"":"Verbal Response"===r?i.verbalResponse=e.value_text||e.value||"":"Eye Opening response"===r?i.eyeResponse=e.value_text||e.value||"":"Cranial erves"===r?i.cranialNerves=e.value_text||e.value||"":"Gross motor"===r?i.grossMotor=e.value_text||e.value||"":"Sensation"===r?i.sensation=e.value_text||e.value||"":"Pulsations"===r?i.pulsations=e.value_text||e.value||"":"Rectal examination"===r?i.rectalExamination=e.value_text||e.value||"":"Extremities"===r&&(i.extremities=e.value_text||e.value||"")}),!n.clerkName&&e.created_by&&(n.clerkName=e.created_by),b(n),N(s),E(t),A(l),D(i)}let n=[];j.forEach(e=>{e.obs&&e.obs.forEach(e=>{if("Condition"===(e.names&&e.names.length>0?e.names[0].name:null)&&e.children&&e.children.length>0){let s={condition:e.value||e.value_text||"",onTreatment:"",medication:"",medicationDose:"",reasonForRequest:"",medicationDuration:""};e.children.forEach(e=>{let n=e.names&&e.names.length>0?e.names[0].name:null;"On treatment"===n?s.onTreatment=e.value||e.value_text||"":"Medication"===n?s.medication=e.value||e.value_text||"":"Medication Dose"===n?s.medicationDose=e.value||e.value_text||"":"Reason for request"===n?s.reasonForRequest=e.value||e.value_text||"":"Medication Duration"===n&&(s.medicationDuration=e.value||e.value_text||"")}),n.push(s)}})}),P(n)},[j]),(0,t.jsxs)("div",{ref:S,className:"jsx-a11c19d41d611344 print-only-wrapper",children:[(0,t.jsx)("div",{className:"jsx-a11c19d41d611344 "+((l?"print-preview":"print-only")||""),children:(0,t.jsx)(p,{presentingInfo:_,pastMedicalHistory:w,reviewOfSystems:k,physicalExam:C,clerkInfo:f,gynaeHistory:R,setRow:u,showPatientInfo:!0})}),(0,t.jsx)(i(),{id:"a11c19d41d611344",children:"@media print{.print-only.jsx-a11c19d41d611344{display:block!important}}.print-only.jsx-a11c19d41d611344{display:none}.print-preview.jsx-a11c19d41d611344{display:block;border:1px solid#e0e0e0;margin:20px 0;padding:20px;background:white;border-radius:4px;box-shadow:0 2px 4px rgba(0,0,0,.1)}"})]})})}}]);