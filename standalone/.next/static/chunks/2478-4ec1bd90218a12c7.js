"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2478],{320:(e,t,r)=>{r.d(t,{A:()=>o});var l=r(95155);r(12115);var n=r(94049),a=r(1151),i=r(97998);let o=function(e){let{items:t,setItems:r,newItem:o,renderFields:s,itemsProps:d}=e;function c(){r([...t,o])}return(0,l.jsx)(n.default,{sx:{display:"flex",flexDirection:"column",gap:2,"@media (max-width: 1000px)":{flexDirection:"column"}},children:t.map((e,o)=>(0,l.jsxs)(n.default,{sx:{display:"flex",gap:2,alignItems:"center",flexWrap:"wrap",...d},children:[s(e,o),(0,l.jsxs)(n.default,{sx:{display:"flex",alignItems:"center"},children:[(0,l.jsx)(a.default,{disabled:0===o,onClick:()=>{r(t.filter((e,t)=>t!==o))},color:"error",children:(0,l.jsx)(i.iu5,{})}),o===t.length-1&&(0,l.jsx)(a.default,{onClick:c,color:"primary",children:(0,l.jsx)(i.OiG,{})})]})]},o))})}},597:(e,t,r)=>{r.d(t,{dM:()=>h,s7:()=>g,DO:()=>o});var l=r(95155),n=r(42553),a=r(9562),i=r(97998);let o=e=>{let{onChange:t,initialValue:r,label:o="Search Patient",placeHolder:s=""}=e;return(0,l.jsx)(a.A,{id:"search",label:o,name:"search",defaultValue:r,fullWidth:!0,sx:{},placeholder:s,onChange:e=>{t(e.target.value)},InputProps:{startAdornment:(0,l.jsx)(n.A,{sx:{color:e=>e.palette.primary.main},position:"start",children:(0,l.jsx)(i.KSO,{})})},variant:"outlined"})};var s=r(72478),d=r(87295),c=r(26301),u=r(12115);let x="#B3B3B3";function h(e){let{searchResults:t}=e,[r,n]=(0,u.useState)(""),[a,i]=(0,u.useState)(!1);return(0,l.jsxs)(s.sc,{elevation:0,sx:{zIndex:1,borderRadius:"1ch",color:x,py:"1ch",position:"absolute",width:"100%"},children:[(0,l.jsx)(m,{patientId:r,onClose:()=>i(!1),open:a}),(0,l.jsx)(p,{person_id:"ID",uuid:"Id",given_name:"Full Name",family_name:"",gender:"Gender",number:"Number",birthdate:"Birth date",sx:{"&:hover":{}},setPatientId:()=>{},setOpen:()=>{}}),(0,l.jsx)(s.jD,{sx:{width:"100%",borderBottomStyle:"dashed",borderColor:x,borderBottomWidth:"1px"}}),(0,l.jsx)(s.jD,{sx:{maxHeight:"20ch",overflow:"scroll"},children:t.map(e=>(0,l.jsx)(p,{setPatientId:n,setOpen:()=>i(!0),...e},e.id))})]})}let p=e=>{let{uuid:t,given_name:r,family_name:n,number:a,gender:o,birthdate:u,person_id:x,sx:h,setPatientId:p,setOpen:m}=e,{navigateTo:f}=(0,d.cq)();return(0,l.jsxs)(s.jD,{onClick:()=>{p(t),m()},sx:{display:"flex",py:"1ch",px:"1ch",mx:"5px",borderRadius:"5px",cursor:"pointer","&:hover":{backgroundColor:"#EBEBEB",".checkItem":{display:"block"}},...h},children:[(0,l.jsx)(s.Th,{flex:.1,children:x}),(0,l.jsx)(s.Th,{flex:.4,children:"".concat(r," ").concat(n)}),(0,l.jsx)(s.Th,{flex:.2,children:o}),(0,l.jsx)(s.Th,{flex:.3,children:"".concat(u," (").concat("Birth date"==u?"Age":(0,c.Cb)(u),")")}),(0,l.jsx)(s.jD,{flex:.1,children:(0,l.jsx)(s.Th,{className:"checkItem",sx:{display:"none",color:e=>e.palette.primary.main},children:(0,l.jsx)(i.CMH,{})})})]})},m=e=>{let{open:t,onClose:r,patientId:n}=e,{navigateTo:a}=(0,d.cq)();return(0,l.jsxs)(s.eV,{maxWidth:"sm",title:"Confirmation",open:t,onClose:r,children:[(0,l.jsx)(s.Th,{children:"you are opening patient profile in view mode. Do you want to continue"}),(0,l.jsx)(s.O6,{title:"YES",sx:{mr:"0.5ch"},onClick:()=>a("/patient/".concat(n,"/profile"))}),(0,l.jsx)(s.O6,{variant:"secondary",title:"NO",onClick:r})]})},f=[{id:"1234",fullName:"James Doe",number:"1234"},{id:"5678",fullName:"John Doe",number:"5678"},{id:"9876",fullName:"Alice Smith",number:"9876"},{id:"5432",fullName:"Bob Johnson",number:"5432"},{id:"2468",fullName:"Eva Davis",number:"2468"},{id:"1357",fullName:"Chris Brown",number:"1357"},{id:"6543",fullName:"Olivia White",number:"6543"},{id:"7890",fullName:"Daniel Miller",number:"7890"},{id:"3210",fullName:"Sophia Taylor",number:"3210"},{id:"8765",fullName:"Michael Wilson",number:"8765"},{id:"4321",fullName:"Emma Anderson",number:"4321"},{id:"5678",fullName:"William Jackson",number:"5678"}],g=e=>{let{initialValue:t,placeHolder:r,label:n,initialSearch:a,getResult:i,getSearch:s}=e,[d,c]=(0,u.useState)([]);(0,u.useEffect)(()=>{a&&x(a)},[a]),(0,u.useEffect)(()=>{i&&i(d)},[d]);let x=e=>{c(f.filter(t=>t.fullName.toLowerCase().includes(e.toLowerCase())))};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(o,{label:n,placeHolder:r,initialValue:t||"",onChange:e=>{if(0===e.length)return void c([]);s&&s(e),x(e)}}),d.length>0&&(0,l.jsx)(l.Fragment,{children:(0,l.jsx)(h,{searchResults:d})})]})}},3671:(e,t,r)=>{r.r(t),r.d(t,{default:()=>s});var l=r(95155),n=r(12115),a=r(16612);r(54608);var i=r(95436),o=r(53206);let s=e=>{let{onICD11Selection:t,iNo:r,label:s}=e;return(0,n.useEffect)(()=>(a.Handler.configure({apiServerUrl:"",wordsAvailable:!1,autoBind:!1},{selectedEntityFunction:e=>{console.log("Entity selected:",e),t&&t(e),a.Handler.clear(r)}}),a.Handler.bind(r),()=>{a.Handler.clear(r)}),[t,r]),(0,l.jsxs)("div",{children:[(0,l.jsxs)("div",{style:{position:"relative",width:"full"},children:[(0,l.jsx)(i.A,{sx:{mb:"1ch",fontSize:"0.76rem",color:"text.secondary"},children:s}),(0,l.jsx)(o.zfp,{style:{position:"absolute",left:"10px",top:"60%",transform:"translateY(-50%)",cursor:"pointer",color:"gray"}}),(0,l.jsx)("input",{type:"text",className:"ctw-input",autoComplete:"on","data-ctw-ino":r,style:{marginBottom:"1ch",paddingInline:"3ch",fontSize:".96rem",color:"text.secondary",height:"48px",width:"100%",borderRadius:"5px"}})]}),(0,l.jsx)("div",{className:"ctw-window",style:{background:"white",marginLeft:"40px",position:"relative",zIndex:9999},"data-ctw-ino":r})]})}},4858:(e,t,r)=>{r.r(t),r.d(t,{PatientInfoTab:()=>x});var l=r(95155),n=r(26301),a=r(87295),i=r(66637),o=r(24507),s=r(263),d=r(2300),c=r(94049),u=r(25635);let x=()=>{let{params:e}=(0,a.KU)(),{patient:t,activeVisitId:r}=(0,a.gd)(),{data:c}=(0,i.$O)(null==e?void 0:e.id,"encounter_type=".concat(s.fA.REFERRAL,"&visit_id=").concat(r)),u=c&&c.length>0?(0,o.m)(c[0].obs,s.W.REFERRED_FROM):void 0,x=c&&c.length>0?(0,o.m)(c[0].obs,s.W.DIAGNOSIS):void 0,p=c&&c.length>0?(0,o.m)(c[0].obs,s.W.OTHER):void 0;return(0,l.jsxs)(d.default,{sx:{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"space-between",flexWrap:"nowrap",overflowX:"auto",gap:{xs:2,md:4},padding:{lg:"20px 60px",xs:"16px 12px"},backgroundColor:"#fff",borderBottom:"1px solid #E5E7EB",boxShadow:"0px 4px 12px rgba(0, 0, 0, 0.05)",borderRadius:"8px","&::-webkit-scrollbar":{height:"6px"},"&::-webkit-scrollbar-thumb":{backgroundColor:"#d1d5db",borderRadius:"4px"},"@media print":{display:"flex !important",flexDirection:"row !important",flexWrap:"nowrap !important",justifyContent:"flex-start !important",alignItems:"center !important",gap:"12px !important",padding:"8px !important",overflow:"visible !important",width:"100% !important",boxShadow:"none !important",border:"none !important"}},children:[(0,l.jsx)(h,{label:"MRN",value:function(e){if(!e)return"";let t=e.filter(e=>e.identifier_type&&"National id"===e.identifier_type.name).map(e=>e.identifier);return t[t.length-1]||""}(null==t?void 0:t.identifiers)}),(0,l.jsx)(h,{label:"Full Name",value:"".concat((null==t?void 0:t.given_name)||""," ").concat((null==t?void 0:t.family_name)||"")}),(0,l.jsx)(h,{label:"Gender",value:(null==t?void 0:t.gender)||""}),(0,l.jsx)(h,{label:"Age",value:(null==t?void 0:t.birthdate)?"".concat((0,n.Cb)(null==t?void 0:t.birthdate),"yr (").concat(null==t?void 0:t.birthdate,")"):"-"}),(0,l.jsx)(h,{label:"Category",value:"Referral | ".concat(u||"Unknown"," | ").concat(x||p),wide:!0})]})},h=e=>{let{label:t,value:r,wide:n=!1}=e;return(0,l.jsxs)(c.default,{sx:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",gap:"4px",flexShrink:0,textAlign:"center","@media print":{flexDirection:"row !important",alignItems:"baseline !important",justifyContent:"flex-start !important",textAlign:"left !important",gap:"4px !important",minWidth:"auto !important",maxWidth:"none !important"}},children:[(0,l.jsxs)(u.default,{sx:{fontFamily:"Inter",fontSize:{xs:"12px",md:"13px"},fontWeight:500,color:"#6B7280",whiteSpace:"nowrap",mr:{print:1}},children:[t,":"]}),(0,l.jsx)(u.default,{sx:{fontFamily:"Inter",fontSize:{xs:"14px",md:"16px"},fontWeight:600,color:"#111827",textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap",maxWidth:"100%","@media print":{maxWidth:"none !important",overflow:"visible !important"}},title:r,children:r||"-"})]})}},7737:(e,t,r)=>{r.r(t),r.d(t,{UnitInputField:()=>h});var l=r(95155),n=r(12115),a=r(95436),i=r(94049),o=r(9562),s=r(42553),d=r(55606),c=r(86973),u=r(29850),x=r(72478);let h=e=>{let{disabled:t=!1,id:r,label:h,name:p,unitName:m,placeholder:f="",unitOptions:g,sx:v,inputIcon:j,handleBlurEvent:b}=e,{value:y,hasError:w,errorMessage:C,handleChange:A,setFieldValue:S,handleBlur:k}=(0,u.W)(p),{value:F,setFieldValue:I}=(0,u.W)(m),[E,T]=(0,n.useState)(F||g[0]);return(0,n.useEffect)(()=>{F||I(m,g[0])},[F,g,m,I]),(0,l.jsxs)(x.jD,{sx:{mb:"1ch",marginTop:"1ch",...v},children:[(0,l.jsx)(a.A,{shrink:!0,htmlFor:r,children:h}),(0,l.jsxs)(i.default,{position:"relative",display:"flex",alignItems:"center",children:[(0,l.jsx)(o.A,{disabled:t,id:r,name:p,value:y,onChange:A,placeholder:f,variant:"outlined",sx:{flexGrow:1,background:"white",height:56},error:w,onBlur:e=>{k(e),b&&b(e.target.value)},InputProps:{startAdornment:j&&(0,l.jsx)(s.A,{position:"start",children:j})}}),(0,l.jsx)(d.A,{disabled:t,value:E,onChange:e=>{let t=e.target.value;I(m,e.target.value),T(t)},variant:"outlined",sx:{position:"absolute",right:0,width:100,height:"100%",background:"white",borderTopLeftRadius:0,borderBottomLeftRadius:0,alignItems:"center"},MenuProps:{PaperProps:{style:{maxHeight:200}},disableScrollLock:!0},children:g.map(e=>(0,l.jsx)(c.A,{value:e,children:e},e))})]}),(0,l.jsx)(x.Th,{color:"red",variant:"subtitle2",children:C})]})}},8282:(e,t,r)=>{r.r(t),r.d(t,{default:()=>c});var l=r(95155),n=r(12115),a=r(95436),i=r(53206),o=r(22454),s=r(93292);let d=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:36e5,r=function(e,t){let[r,l]=(0,n.useState)(e);return(0,n.useEffect)(()=>{let t=setTimeout(()=>l(e),300);return()=>{clearTimeout(t)}},[e,300]),r}(e,300);return(0,o.I)({queryKey:["icd11Search",r],queryFn:async()=>(await (0,s.UK)("".concat("/icd11_diagnoses/search_by_title","?title=").concat(encodeURIComponent(r)))).data.map(e=>{let t=e.lastIndexOf(" - ");return -1!==t?{diagnosis:e.substring(0,t).trim(),code:e.substring(t+3).trim()}:{diagnosis:e,code:""}}),enabled:!!r&&r.length>2,staleTime:3e5,gcTime:t,refetchOnWindowFocus:!1,refetchOnMount:!1,refetchOnReconnect:!1})},c=e=>{let{label:t,onSelection:r,initialValue:o="",placeholder:s="Search for a diagnosis...",width:c="300px"}=e,[u,x]=(0,n.useState)(""),[h,p]=(0,n.useState)(!1),[m,f]=(0,n.useState)(o),g=(0,n.useRef)(null),v=(0,n.useRef)(null),{data:j,isLoading:b,isError:y}=d(u,36e5);return(0,n.useEffect)(()=>{let e=e=>{g.current&&!g.current.contains(e.target)&&v.current&&!v.current.contains(e.target)&&p(!1)};return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[]),(0,l.jsxs)("div",{className:"icd11-selection",children:[(0,l.jsx)(a.A,{sx:{mb:"1ch",fontSize:"0.76rem",color:"text.secondary"},children:t}),(0,l.jsxs)("div",{style:{position:"relative",width:"100%"},children:[(0,l.jsx)(i.zfp,{style:{position:"absolute",left:"10px",top:"40%",transform:"translateY(-50%)",cursor:"pointer",color:"gray"}}),(0,l.jsx)("input",{ref:v,type:"text",value:u,onChange:e=>{let t=e.target.value;x(t),p(t.length>=3)},onFocus:()=>{u.length>=3&&p(!0)},placeholder:s,style:{marginBottom:"1ch",paddingInline:"3.5ch",fontSize:".96rem",color:"#333",height:"48px",width:c,borderRadius:"5px",border:"1px solid #e0e0e0",outline:"none"}}),h&&(0,l.jsx)("div",{ref:g,style:{position:"absolute",top:"calc(100% - 1ch)",left:0,width:"100%",maxHeight:"300px",overflowY:"auto",backgroundColor:"white",borderRadius:"5px",boxShadow:"0 4px 10px rgba(0,0,0,0.1)",zIndex:9999,border:"1px solid #e0e0e0"},children:b?(0,l.jsx)("div",{style:{padding:"12px",textAlign:"center"},children:"Loading results..."}):y?(0,l.jsx)("div",{style:{padding:"12px",textAlign:"center",color:"red"},children:"Error loading results. Please try again."}):j&&j.length>0?j.map((e,t)=>(0,l.jsxs)("div",{onClick:()=>(e=>{f("".concat(e.diagnosis," - ").concat(e.code)),p(!1),x(""),r&&r(e)})(e),style:{padding:"10px 12px",borderBottom:t<j.length-1?"1px solid #f0f0f0":"none",cursor:"pointer",display:"flex",gap:"8px"},onMouseEnter:e=>e.currentTarget.style.backgroundColor="#f5f5f5",onMouseLeave:e=>e.currentTarget.style.backgroundColor="transparent",children:[(0,l.jsx)("span",{style:{fontWeight:"bold"},children:e.code}),(0,l.jsx)("span",{children:e.diagnosis})]},t)):u.length>=3?(0,l.jsx)("div",{style:{padding:"12px",textAlign:"center"},children:"No results found"}):null})]})]})}},9877:(e,t,r)=>{r.d(t,{O:()=>l});let l=()=>{var e;return null==(e=window.localStorage.getItem("roles"))?void 0:e.split(",")}},10826:(e,t,r)=>{r.r(t),r.d(t,{NavigationBar:()=>D});var l=r(95155),n=r(12115),a=r(63417),i=r(94049),o=r(30354),s=r(1151),d=r(25635),c=r(56164),u=r(97998),x=r(53756),h=r(86973),p=r(12164),m=r(26301),f=r(2300),g=r(96772),v=r(88538),j=r(4474),b=r(49501),y=r(21067),w=r(51611),C=r(5312),A=r(87295),S=r(5387),k=r(71101),F=r(70952),I=r(47317),E=r(55302),T=r(38083),z=r(263);function D(e){let{onTitleClick:t,handleLogout:r,loggedIn:D}=e,[B,N]=(0,n.useState)(null),[P,W]=(0,n.useState)(""),[R,M]=(0,n.useState)(null),_=!!R&&""!==P.trim(),[O,L]=(0,n.useState)({firstName:"",lastName:"",gender:""}),H=function(e,t){let[r,l]=(0,n.useState)(e);return(0,n.useEffect)(()=>{let t=setTimeout(()=>{l(e)},300);return()=>clearTimeout(t)},[e,300]),r}(P,300);(0,n.useEffect)(()=>{H&&""!==H.trim()?M(document.getElementById("search-input")):M(null)},[H]),(0,n.useEffect)(()=>{if(!H||""===H.trim())return;let e=er(H);L({firstName:e.given_name,lastName:e.family_name,gender:e.gender})},[H]);let V=()=>N(null),Y=()=>M(null),{navigateTo:G}=(0,A.cq)(),[q,K]=(0,n.useState)("");(0,n.useEffect)(()=>{(async()=>{await m.Fh.initialize();let e=m.Fh.getServerTimeString();K((0,m.k)(e))})()},[]);let{refetch:U,isFetching:$,data:Z}=(0,S.L3)(O.firstName,O.lastName,O.gender),{refetch:J,isFetching:Q,data:X}=(0,S.jL)(O.firstName,O.lastName,O.gender),{refetch:ee,data:et}=(0,E.Ov)(O.firstName);(0,n.useEffect)(()=>{O.firstName&&(J(),ee()),O.firstName&&O.lastName&&O.gender&&U()},[O,U,J,ee]);let er=e=>{let t=e.split(" ");return{given_name:t[0]||"",family_name:t[1]||"",gender:t[2]||""}},el=(0,n.useMemo)(()=>Z?[...Z.locals||[],...Z.remotes||[]].map(e=>{var t,r,l,n,a,i,o,s,d,c,u,x,h,p,m;return{fullname:"".concat(null==e?void 0:e.given_name," ").concat(null==e?void 0:e.family_name),birthday:null==e?void 0:e.birthdate,gender:null==e?void 0:e.gender,currentAddress:"".concat(null!=(u=null==e||null==(r=e.addresses)||null==(t=r[0])?void 0:t.current_district)?u:"",",").concat(null!=(x=null==e||null==(n=e.addresses)||null==(l=n[0])?void 0:l.current_traditional_authority)?x:"",",").concat(null!=(h=null==e||null==(i=e.addresses)||null==(a=i[0])?void 0:a.address2)?h:""),homeAddress:"".concat(null!=(p=null==e||null==(s=e.addresses)||null==(o=s[0])?void 0:o.address1)?p:"",",").concat(null!=(m=null==e||null==(c=e.addresses)||null==(d=c[0])?void 0:d.county_district)?m:""),id:e.uuid}}):[],[Z]),en=(0,n.useMemo)(()=>X?X.map(e=>{var t,r,l,n,a,i,o,s,d,c,u,x,h,p,m;return{fullname:"".concat(null==e?void 0:e.given_name," ").concat(null==e?void 0:e.family_name),birthday:null==e?void 0:e.birthdate,gender:null==e?void 0:e.gender,currentAddress:"".concat(null!=(u=null==e||null==(r=e.addresses)||null==(t=r[0])?void 0:t.current_district)?u:"",",").concat(null!=(x=null==e||null==(n=e.addresses)||null==(l=n[0])?void 0:l.current_traditional_authority)?x:"",",").concat(null!=(h=null==e||null==(i=e.addresses)||null==(a=i[0])?void 0:a.address2)?h:""),homeAddress:"".concat(null!=(p=null==e||null==(s=e.addresses)||null==(o=s[0])?void 0:o.address1)?p:"",",").concat(null!=(m=null==e||null==(c=e.addresses)||null==(d=c[0])?void 0:d.county_district)?m:""),id:e.uuid}}):[],[X]),ea=(0,n.useMemo)(()=>et?[...et.locals||[],...et.remotes||[]].map(e=>{var t,r,l,n,a,i,o,s,d,c,u,x,h,p,m;return{fullname:"".concat(null==e?void 0:e.given_name," ").concat(null==e?void 0:e.family_name),birthday:null==e?void 0:e.birthdate,gender:null==e?void 0:e.gender,currentAddress:"".concat(null!=(u=null==e||null==(r=e.addresses)||null==(t=r[0])?void 0:t.current_district)?u:"",",").concat(null!=(x=null==e||null==(n=e.addresses)||null==(l=n[0])?void 0:l.current_traditional_authority)?x:"",",").concat(null!=(h=null==e||null==(i=e.addresses)||null==(a=i[0])?void 0:a.address2)?h:""),homeAddress:"".concat(null!=(p=null==e||null==(s=e.addresses)||null==(o=s[0])?void 0:o.address1)?p:"",",").concat(null!=(m=null==e||null==(c=e.addresses)||null==(d=c[0])?void 0:d.county_district)?m:""),id:e.uuid}}):[],[et]),ei=(0,n.useMemo)(()=>ea.length>0?ea:el.length>0?el:en,[en,el,ea]),eo=(0,n.useMemo)(()=>[{accessorKey:"fullname",header:"Fullname"},{accessorKey:"birthday",header:"Birthday"},{accessorKey:"gender",header:"Gender"},{accessorKey:"currentAddress",header:"Current Address"},{accessorKey:"homeAddress",header:"Home Address"}],[]),es=[z.Ot.ADMIN,z.Ot.CLINICIAN,z.Ot.NURSE];return(0,l.jsx)(l.Fragment,{children:D&&(0,l.jsx)(i.default,{sx:{flexGrow:1},children:(0,l.jsx)(a.A,{position:"static",sx:{backgroundColor:"#006401"},children:(0,l.jsxs)(o.A,{sx:{justifyContent:"space-between"},children:[(0,l.jsxs)(i.default,{sx:{display:"flex",alignItems:"center",mr:2},children:[(0,l.jsx)(s.default,{size:"large",edge:"start",color:"inherit",children:(0,l.jsx)(p.A,{})}),(0,l.jsx)(d.default,{variant:"h6",noWrap:!0,sx:{cursor:"pointer",display:{xs:"none",sm:"block"}},onClick:()=>t(),children:(0,l.jsxs)(i.default,{lineHeight:1,children:[(0,l.jsx)("div",{style:{fontSize:"16px"},children:"MaHIS (AETC)"}),(0,l.jsxs)("div",{style:{fontSize:"14px"},children:["Queen Elizabeth Central Hospital |"," ",(0,l.jsx)("span",{style:{color:"rgb(116, 255, 21)"},children:q})]})]})})]}),(0,T.W)(es)&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)(f.default,{id:"search-input",component:"div",sx:{p:"2px 4px",display:"flex",alignItems:"center",minWidth:"45%"},children:[(0,l.jsx)(s.default,{sx:{p:"10px"},"aria-label":"search",children:(0,l.jsx)(w.A,{})}),(0,l.jsx)(g.Ay,{value:P,onChange:e=>W(e.target.value),sx:{ml:1,flex:1},placeholder:"Add or search for a client by MRN, name, or by scanning a barcode/QR code."}),(0,l.jsx)(s.default,{color:"primary",sx:{p:"10px",color:"#000"},"aria-label":"add new patient",onClick:()=>G("/registration/new"),children:(0,l.jsx)(C.A,{})})]}),(0,l.jsx)(v.default,{id:_?"search-popover":void 0,open:_,anchorEl:R,onClose:Y,anchorOrigin:{vertical:"bottom",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"left"},sx:{mt:.1},slotProps:{paper:{sx:{width:"97.5vw",maxWidth:"none"}}},disableEnforceFocus:!0,disableAutoFocus:!0,children:(0,l.jsxs)(i.default,{sx:{width:"100%"},children:[($||Q)&&(0,l.jsx)(i.default,{sx:{display:"flex",justifyContent:"center",p:2},children:(0,l.jsx)(j.A,{})}),!$&&!Q&&ei.length>0&&(0,l.jsx)(k.$,{dateAdapter:I.R,children:(0,l.jsx)(F.w,{data:ei,columns:eo,title:"",showGlobalFilter:!1,enableColumnOrdering:!1,enableColumnActions:!1,enableColumnFilters:!1,enableSorting:!1,initialState:{columnPinning:{left:["fullname"]}},onRowClick:e=>{Y(),(0,T.W)(es)?G("/patient/".concat(e.row.original.id,"/profile")):alert("You are not authorized to perform this action.")}})}),!$&&!Q&&0===ei.length&&(0,l.jsx)(i.default,{sx:{p:3,textAlign:"center"},children:(0,l.jsx)(d.default,{children:"No matching patients found"})})]})})]}),(0,l.jsxs)(i.default,{sx:{display:"flex",alignItems:"center",color:"#fff"},children:[(0,l.jsx)(s.default,{sx:{color:"#fff",mr:1},children:(0,l.jsx)(c.hbh,{})}),(0,l.jsxs)(s.default,{onClick:e=>N(e.currentTarget),sx:{color:"#fff",display:"flex",alignItems:"center",gap:1,px:1.5,py:.5,borderRadius:2,"&:hover":{backgroundColor:"rgba(255,255,255,0.1)"}},children:[(0,l.jsx)(c.d$e,{size:22}),(0,l.jsx)(d.default,{variant:"subtitle1",sx:{fontWeight:500},children:localStorage.getItem("userName")||"User"})]}),(0,l.jsxs)(x.A,{anchorEl:B,open:!!B,onClose:V,PaperProps:{sx:{mt:1.5,borderRadius:2,minWidth:180,boxShadow:"0px 2px 8px rgba(0,0,0,0.2), 0px 0px 0px 1px rgba(0,0,0,0.05)"}},children:[(0,l.jsxs)(h.A,{onClick:V,children:[(0,l.jsx)(b.A,{children:(0,l.jsx)(c.x$1,{size:16})}),"Profile"]}),(0,l.jsxs)(h.A,{onClick:()=>{V(),G("/changePassword")},children:[(0,l.jsx)(b.A,{children:(0,l.jsx)(c.JhU,{size:16})}),"Change Password"]}),(0,l.jsx)(y.A,{sx:{my:.5}}),(0,l.jsxs)(h.A,{onClick:()=>{V(),r&&r()},sx:{color:"error.main"},children:[(0,l.jsx)(b.A,{sx:{color:"error.main"},children:(0,l.jsx)(u.axc,{size:16})}),"Logout"]})]})]})]})})})})}},11074:(e,t,r)=>{r.r(t),r.d(t,{GenericDialog:()=>o});var l=r(95155);r(12115);var n=r(65036),a=r(52363),i=r(48833);function o(e){let{onClose:t,open:r,children:o,title:s,maxWidth:d="lg",sx:c}=e;return(0,l.jsxs)(i.A,{maxWidth:d,fullWidth:!0,onClose:()=>{t()},open:r,children:[(0,l.jsx)(a.A,{children:s}),(0,l.jsx)(n.A,{sx:{...c,overflow:"visible"},children:o})]})}},16227:(e,t,r)=>{r.r(t),r.d(t,{MainButton:()=>i});var l=r(95155),n=r(91871),a=r(30541);let i=e=>{let{variant:t="primary",title:r,startIcon:i,onClick:o,type:s,sx:d,icon:c,iconRight:u,disabled:x=!1,size:h}=e,p=a.V[t];return(0,l.jsxs)(n.A,{size:h,type:s,disabled:x,sx:{...p,textTransform:"capitalize",color:"#fff",borderRadius:"1px",...d},onClick:o,children:[c,r,u]})}},18928:(e,t,r)=>{r.r(t),r.d(t,{FormTimePickerNow:()=>m});var l=r(95155),n=r(36117),a=r.n(n),i=r(47317),o=r(71101),s=r(94898),d=r(12115),c=r(9562),u=r(42553),x=r(91871),h=r(31328),p=r(29850);let m=e=>{let{name:t,label:r,width:n="100%",sx:m,getValue:f,disabled:g=!1}=e,{value:v,setFieldValue:j}=(0,p.W)(t),[b,y]=(0,d.useState)(!1),w=(0,d.useRef)(null);(0,d.useEffect)(()=>{f&&f(v)},[v]);let C=e=>{e.stopPropagation(),j(t,a()().format("HH:mm:ss"))},A=()=>{g||y(!0)};return(0,l.jsx)(o.$,{dateAdapter:i.R,children:(0,l.jsx)(s.A,{timeSteps:{hours:1,minutes:1,seconds:1},open:b,onOpen:()=>y(!0),onClose:()=>y(!1),label:r,value:v?a()(v,"HH:mm:ss"):null,onChange:()=>{},onAccept:e=>{e&&(j(t,e.format("HH:mm:ss")),y(!1))},PopperProps:{anchorEl:w.current,placement:"bottom-start",style:{width:w.current?w.current.clientWidth:"auto"}},slots:{textField:e=>(0,l.jsx)(c.A,{...e,ref:w,fullWidth:!0,onClick:A,InputProps:{...e.InputProps,startAdornment:(0,l.jsx)(u.A,{position:"start",children:(0,l.jsx)(h.A,{})}),endAdornment:(0,l.jsx)(u.A,{position:"end",children:(0,l.jsx)(x.A,{variant:"contained",color:"primary",size:"small",onClick:C,disabled:g,children:"Now"})})}})},sx:{width:n,...m},disabled:g})})}},20157:(e,t,r)=>{r.r(t),r.d(t,{MultlineInput:()=>i,default:()=>o});var l=r(95155),n=r(9562),a=r(29850);let i=e=>{let{id:t,name:r,label:i,maxRows:o,sx:s,width:d,disabled:c=!1}=e,{value:u,handleChange:x,hasError:h,errorMessage:p,handleBlur:m}=(0,a.W)(r);return(0,l.jsx)(n.A,{sx:{width:d,my:"1ch","& fieldset":{borderRadius:"10px"},...s},id:t,name:r,label:i,multiline:!0,disabled:c,variant:"outlined",maxRows:o,onBlur:m,onChange:x,error:h,value:u,helperText:p})},o=i},24524:(e,t,r)=>{r.r(t),r.d(t,{FormFieldContainer:()=>a});var l=r(95155),n=r(94049);let a=e=>{let{direction:t,children:r}=e;return(0,l.jsx)(n.default,{sx:{display:"flex",flexDirection:t},children:r})}},27184:(e,t,r)=>{r.d(t,{x:()=>a});var l=r(95155),n=r(88538);let a=e=>{let{children:t,anchorEl:r,onClose:a,anchorOrigin:i={vertical:"top",horizontal:"right"},transformOrigin:o={vertical:"top",horizontal:"left"},maxHeight:s="500px"}=e,d=!!r;return(0,l.jsx)(n.default,{id:d?"simple-popover":void 0,open:d,anchorEl:r,onClose:a,anchorOrigin:i,transformOrigin:o,sx:{"& .MuiPopover-paper":{maxHeight:s,overflow:"auto"}},children:t})}},29850:(e,t,r)=>{r.d(t,{W:()=>l.useFormikField});var l=r(61361)},30541:(e,t,r)=>{r.d(t,{V:()=>n});var l=r(38638);let n={primary:{backgroundColor:l.z.primary,color:l.z.primaryFontColor,"&:hover":{backgroundColor:l.z.primary}},secondary:{backgroundColor:l.z.secondary,color:l.z.secondaryFontColor,"&:hover":{backgroundColor:l.z.secondary}},text:{backgroundColor:"transparent",color:l.z.primaryDark}}},32730:(e,t,r)=>{r.r(t),r.d(t,{FormDatePickerToday:()=>j});var l=r(95155),n=r(36117),a=r.n(n),i=r(47317),o=r(71101),s=r(46743),d=r(12115),c=r(29850),u=r(94049),x=r(95436),h=r(42553),p=r(1151),m=r(91871),f=r(72478),g=r(75854),v=r(86946);let j=e=>{let{name:t,label:r,width:n="25ch",sx:j,size:b="medium",getValue:y,disabled:w=!1,onAddClick:C}=e,{value:A,setFieldValue:S,initialValues:k,errorMessage:F}=(0,c.W)(t),[I,E]=(0,d.useState)(!1),[T,z]=(0,d.useState)(k&&"object"==typeof k&&k[t]?a()(k[t]):null);(0,d.useEffect)(()=>{y&&y(A)},[A]);let D=()=>{w||E(!0)};return(0,l.jsx)(o.$,{dateAdapter:i.R,children:(0,l.jsxs)(u.default,{sx:{display:"flex",flexDirection:"column",width:n},children:[(0,l.jsx)(x.A,{sx:{mb:"1ch",fontSize:"0.76rem",color:"text.secondary"},children:r}),(0,l.jsx)(s.l,{value:T,open:I,onOpen:()=>E(!0),onClose:()=>E(!1),views:["year","month","day"],sx:{backgroundColor:"white","& fieldset":{borderRadius:"5px"},...j,width:"100%"},slotProps:{textField:{onClick:D,InputProps:{startAdornment:(0,l.jsx)(h.A,{position:"start",sx:{display:"flex",alignItems:"center",mr:1},children:(0,l.jsx)(p.default,{edge:"start",onClick:D,disabled:w,size:"small",children:(0,l.jsx)(g.A,{})})}),endAdornment:(0,l.jsxs)(h.A,{position:"end",sx:{display:"flex",alignItems:"center"},children:[C&&(0,l.jsx)(p.default,{edge:"end",onClick:C,disabled:w,size:"small",sx:{mr:1},children:(0,l.jsx)(v.A,{})}),(0,l.jsx)(m.A,{variant:"contained",color:"primary",onClick:e=>{e.stopPropagation();let r=a()();z(r),S(t,r.format("YYYY-MM-DD")),E(!1)},disabled:w,size:"small",sx:{mr:1,textTransform:"none"},children:"Today"})]})}}},onChange:(e,r)=>{null===r.validationError&&"day"===r.view&&(z(e),S(t,e?a()(e).format("YYYY-MM-DD"):null),E(!1))},disabled:w}),(0,l.jsx)(f.Th,{color:"red",variant:"subtitle2",children:F})]})})}},33793:(e,t,r)=>{r.d(t,{A8:()=>a.TextInputField,GE:()=>o.FormFieldContainer,MG:()=>c.FormContainer,PD:()=>l.FormikInit,Vp:()=>d.FieldsContainer,W9:()=>p.FormDatePickerToday,YZ:()=>h.FormTimePicker,Z3:()=>f.CheckboxesGroup,b1:()=>i.RadioGroupInput,bZ:()=>x.FormDatePicker,el:()=>s.SearchComboBox,fP:()=>u.FormValuesListener,f_:()=>d.DashedContainer,gj:()=>m.FormTimePickerNow,kI:()=>d.FormFieldContainerLayout,m2:()=>d.FormFieldContainerMultiple,pK:()=>n.SelectInputField,pj:()=>g.UnitInputField});var l=r(82483),n=r(78905),a=r(70526),i=r(41305),o=r(24524);r(20157);var s=r(55223),d=r(72833),c=r(64134),u=r(35403),x=r(68003),h=r(42912),p=r(32730),m=r(18928),f=r(77638);r(320),r(88781);var g=r(7737);r(3671),r(8282)},35403:(e,t,r)=>{r.r(t),r.d(t,{FormValuesListener:()=>i});var l=r(95155),n=r(12115),a=r(29850);let i=e=>{let{getValues:t}=e,{values:r}=(0,a.W)("");return(0,n.useEffect)(()=>{t(r)},[r]),(0,l.jsx)(l.Fragment,{})}},38083:(e,t,r)=>{r.d(t,{W:()=>i,x:()=>a});var l=r(75855),n=r(9877);let a=e=>{let{roles:t,children:r}=e;return(0,l.R)(t,(0,n.O)())?r:null},i=e=>(0,l.R)(e,(0,n.O)())},38638:(e,t,r)=>{r.d(t,{z:()=>l});let l={primaryLight:"#63a7c8",primary:"#006401",primaryDark:"#004966",primaryFontColor:"#fff",secondary:"#888888",secondaryVariant:"#787878",secondaryFontColor:"#fff",buttonColor:"#EDF0F7",buttonTextColor:"#2D3648",buttonHoverColor:"#2D3648",background:"#fff",surface:"#fff",error:"#B00020",white:"#fff"}},40065:(e,t,r)=>{r.r(t),r.d(t,{DisplayEncounterCreator:()=>o});var l=r(95155),n=r(15239),a=r(66637),i=r(72478);let o=e=>{var t;let{patientId:r,encounterType:o}=e,{data:s,isLoading:d}=(0,a.$O)(r);if(d)return(0,l.jsx)(n.default,{src:"/loader.svg",width:20,height:20,alt:"loader"});let c=null==s?void 0:s.filter(e=>e.encounter_type.uuid==o);return c?(0,l.jsx)(i.Th,{children:null==(t=c[(null==c?void 0:c.length)-1])?void 0:t.created_by}):""}},40931:(e,t,r)=>{r.r(t),r.d(t,{MainCard:()=>i});var l=r(95155),n=r(29767);let a={main:{display:"flex",flexDirection:"column",px:"1ch",py:"2ch"}},i=e=>{let{children:t,elevation:r=0,sx:i}=e;return(0,l.jsx)(n.A,{sx:{...a.main,...i},elevation:r,children:t})}},40973:(e,t,r)=>{r.r(t),r.d(t,{SubSteps:()=>n});var l=r(95155);function n(e){let{parent:t,children:r}=e;return(0,l.jsx)(l.Fragment,{children:r})}},41305:(e,t,r)=>{r.r(t),r.d(t,{BaseRadioInput:()=>h,RadioGroupInput:()=>x});var l=r(95155),n=r(12115),a=r(75656),i=r(43861),o=r(56475),s=r(52641),d=r(9839),c=r(29850),u=r(66637);let x=e=>{let{label:t,name:r,options:a,getValue:i,row:o,sx:s,disabled:d=!1,coded:x}=e,{value:p,handleChange:m,hasError:f}=(0,c.W)(r),[g,v]=(0,n.useState)(a);return(0,n.useEffect)(()=>{i&&i(p)},[p]),(0,n.useEffect)(()=>{(async()=>{x?v(await (0,u.tu)(a).then(e=>e.map(e=>({...e,value:e.value||""})))):v(a)})()},[a,x]),(0,l.jsx)(h,{sx:s,label:t,handleChange:m,options:g,hasError:f,value:p,name:r,row:o,disabled:d})},h=e=>{let{handleChange:t,hasError:r,label:n,name:c,options:u,value:x,row:h=!1,sx:p,disabled:m=!1}=e;return(0,l.jsxs)(s.A,{disabled:m,fullWidth:!0,sx:{mx:"0.5ch",...p},error:r,children:[(0,l.jsx)(d.A,{id:c,children:n}),(0,l.jsx)(i.A,{row:h,value:x,onChange:t,name:c,children:null==u?void 0:u.map(e=>{let{label:t,value:r}=e;return(0,l.jsx)(o.default,{value:r,control:(0,l.jsx)(a.A,{}),label:t},t)})})]})}},42912:(e,t,r)=>{r.r(t),r.d(t,{FormTimePicker:()=>u});var l=r(95155),n=r(36117),a=r.n(n),i=r(47317),o=r(71101),s=r(94898),d=r(12115),c=r(29850);let u=e=>{let{name:t,label:r,width:n="100%",sx:u,getValue:x,disabled:h=!1}=e,{value:p,setFieldValue:m}=(0,c.W)(t);return(0,d.useEffect)(()=>{x&&x(p)},[p]),(0,l.jsx)(o.$,{dateAdapter:i.R,children:(0,l.jsx)(s.A,{timeSteps:{hours:1,minutes:1,seconds:1},sx:{width:n,my:"1ch",mr:"1ch","& fieldset":{borderRadius:"10px"},...u},label:r,onChange:e=>{m(t,a()(e).format("HH:mm:ss"))},disabled:h})})}},46519:(e,t,r)=>{r.r(t),r.d(t,{NavBar:()=>c});var l=r(95155),n=r(597),a=r(87295),i=r(72478),o=r(12115),s=r(98672),d=r(20063);let c=()=>{let{navigateTo:e}=(0,a.cq)(),{loggedIn:t,setLoggedIn:r}=(0,o.useContext)(s.cy);(0,o.useEffect)(()=>{localStorage&&localStorage.getItem("accessToken")},[]);let c=(0,d.usePathname)();return i.jD,n.s7,(0,l.jsx)(l.Fragment,{children:"/"===c?null:(0,l.jsx)(i.yk,{loggedIn:t,handleLogout:()=>{localStorage.clear(),r(!1),e("/")},onTitleClick:()=>e("/dashboard")})})}},47063:(e,t,r)=>{r.r(t),r.d(t,{NextButton:()=>o});var l=r(95155),n=r(91871),a=r(30541),i=r(87295);let o=e=>{let{variant:t="primary",title:r,type:o,sx:s,icon:d,iconRight:c,disabled:u=!1,size:x,url:h}=e,p=a.V[t],{navigateTo:m}=(0,i.cq)();return(0,l.jsxs)(n.A,{size:x,type:o,disabled:u,sx:{...p,textTransform:"capitalize",color:"#fff",...s},onClick:()=>{h&&m(h)},children:[d,r,c]})}},47585:(e,t,r)=>{r.r(t),r.d(t,{DatePickerInput:()=>o});var l=r(95155),n=r(47317),a=r(71101),i=r(46743);let o=()=>(0,l.jsx)(a.$,{dateAdapter:n.R,children:(0,l.jsx)(i.l,{})})},52122:(e,t,r)=>{r.d(t,{O6:()=>n.MainButton,WE:()=>a.NextButton,oq:()=>l.BackButton});var l=r(97929),n=r(16227),a=r(47063)},52325:(e,t,r)=>{r.r(t),r.d(t,{PatientTableList:()=>b,PatientTableListServer:()=>y});var l=r(95155),n=r(87295),a=r(26301),i=r(2300),o=r(94049),s=r(25635),d=r(80777),c=r(20699),u=r(56475),x=r(9957),h=r(9562),p=r(91871),m=r(12115);let f=e=>{let{gender:t,visitNumber:r,firstName:n,lastName:a,actor:d,actionName:c,arrivalTime:u,waitingTime:x,aggregate:h,action:p,age:m}=e;return(0,l.jsxs)(i.default,{sx:{display:"flex",p:"1ch",m:"1ch"},children:[(0,l.jsxs)(o.default,{sx:{flex:"0.2"},children:[(0,l.jsx)(s.default,{variant:"h6",children:"Visit No"}),(0,l.jsx)(s.default,{variant:"h4",children:r})]}),(0,l.jsxs)(o.default,{sx:{flex:"0.6"},children:[(0,l.jsxs)(o.default,{sx:{display:"flex",alignItems:"center"},children:[(0,l.jsx)(s.default,{variant:"h4",children:"".concat(n," ").concat(a)}),(0,l.jsxs)(s.default,{variant:"h4",children:["(","".concat(t[0]),")"]})]}),(0,l.jsxs)(s.default,{variant:"h5",children:["Age: ",m]}),(0,l.jsxs)(s.default,{variant:"body2",children:["Arrival Time: ",u," ~ Waiting time: ",x,"~ Aggregate:"," ",h]}),(0,l.jsx)("br",{}),(0,l.jsx)(s.default,{variant:"body2",children:"".concat(c)}),(0,l.jsx)(s.default,{children:d})]}),(0,l.jsx)(o.default,{sx:{flex:"0.2"},children:p})]})},g=e=>{let{dataList:t,loading:r}=e,[n,i]=(0,m.useState)(""),[p,g]=(0,m.useState)(t),[v,j]=(0,m.useState)(!1);(0,m.useEffect)(()=>{g(t)},[t]),(0,m.useEffect)(()=>{b("")},[v]);let b=e=>{i(e);let r=t.filter(t=>Object.keys(t).some(r=>{var l,n,a;return null==(a=t[r])||null==(n=a.toString())||null==(l=n.toLowerCase())?void 0:l.includes(e.toLowerCase())}));v&&(r=r.filter(e=>(0,a.cK)(null==e?void 0:e.arrivalDateTime))),g(r)};return r?(0,l.jsxs)(d.A,{sx:{m:"1ch"},spacing:1,children:[(0,l.jsx)(c.A,{variant:"rounded",width:"100%",height:200}),(0,l.jsx)(c.A,{variant:"rounded",width:"100%",height:200}),(0,l.jsx)(c.A,{variant:"rounded",width:"100%",height:200}),(0,l.jsx)(c.A,{variant:"rounded",width:"100%",height:200}),(0,l.jsx)(c.A,{variant:"rounded",width:"100%",height:200}),(0,l.jsx)(c.A,{variant:"rounded",width:"100%",height:200}),(0,l.jsx)(c.A,{variant:"rounded",width:"100%",height:200}),(0,l.jsx)(c.A,{variant:"rounded",width:"100%",height:200}),(0,l.jsx)(c.A,{variant:"rounded",width:"100%",height:200}),(0,l.jsx)(c.A,{variant:"rounded",width:"100%",height:200}),(0,l.jsx)(c.A,{variant:"rounded",width:"100%",height:200})]}):0==t.length?(0,l.jsx)(s.default,{variant:"body1",children:"No patients on this list"}):(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)(o.default,{sx:{display:"flex",flexDirection:"column",px:"1ch"},children:[(0,l.jsx)(u.default,{control:(0,l.jsx)(x.A,{onChange:e=>{j(e.target.checked)},name:"",size:"medium"}),label:"Show only patients registered today"}),(0,l.jsx)(h.A,{sx:{m:1},variant:"outlined",placeholder:"Search…",value:n,onChange:e=>b(e.target.value)})]}),p.map(e=>(0,l.jsx)(f,{...e},e.id))]})},v=e=>{let{dataList:t,loading:r,searchText:n,setSearchString:a,rowCount:i,setPaginationModel:u,pagination:x,totalPages:m}=e,g=e=>{u(t=>({page:t.page+e,pageSize:t.pageSize}))};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(o.default,{sx:{display:"flex",flexDirection:"column",px:"1ch"},children:(0,l.jsx)(h.A,{sx:{m:1},variant:"outlined",placeholder:"Search…",value:n,onChange:e=>a(e.target.value)})}),r?(0,l.jsx)(()=>(0,l.jsxs)(d.A,{sx:{m:"1ch"},spacing:1,children:[(0,l.jsx)(c.A,{variant:"rounded",width:"100%",height:200}),(0,l.jsx)(c.A,{variant:"rounded",width:"100%",height:200}),(0,l.jsx)(c.A,{variant:"rounded",width:"100%",height:200}),(0,l.jsx)(c.A,{variant:"rounded",width:"100%",height:200}),(0,l.jsx)(c.A,{variant:"rounded",width:"100%",height:200}),(0,l.jsx)(c.A,{variant:"rounded",width:"100%",height:200}),(0,l.jsx)(c.A,{variant:"rounded",width:"100%",height:200}),(0,l.jsx)(c.A,{variant:"rounded",width:"100%",height:200}),(0,l.jsx)(c.A,{variant:"rounded",width:"100%",height:200}),(0,l.jsx)(c.A,{variant:"rounded",width:"100%",height:200}),(0,l.jsx)(c.A,{variant:"rounded",width:"100%",height:200})]}),{}):t.length>0?t.map(e=>(0,l.jsx)(f,{...e},e.id)):(0,l.jsx)(s.default,{variant:"body1",children:"No patients on this list"}),(0,l.jsxs)(o.default,{children:[(0,l.jsx)(p.A,{disabled:x.page-1==0,onClick:()=>g(-1),children:"Previous"}),(0,l.jsx)(p.A,{disabled:x.page+1>m,onClick:()=>g(1),children:"Next"})]})]})};var j=r(80498);let b=e=>{let{isLoading:t,columns:r,rows:a,formatForMobileView:i}=e,{isMediumOrSmall:o}=(0,n.Uq)();return o?(0,l.jsx)(g,{loading:t,dataList:i||[]}):(0,l.jsx)(j.W,{loading:t,columns:r,rows:a||[]})},y=e=>{var t;let{loading:r,searchText:a,setPaginationModel:i,setSearchString:o,paginationModel:s,columns:d,data:c,formatForMobileView:u,onSwitchChange:x,onRowClick:h}=e,{isMediumOrSmall:p}=(0,n.Uq)();return p?(0,l.jsx)(v,{totalPages:null==c?void 0:c.total_pages,searchText:a,setSearchString:o,rowCount:10,setPaginationModel:i,pagination:s,loading:r,dataList:u||[]}):(0,l.jsx)(j.e,{searchText:a,setSearchString:o,rowCount:(null==c?void 0:c.data)?null==c?void 0:c.totalEntries:0,setPaginationModel:i,paginationModel:s,loading:r,rows:(null==c?void 0:c.data)?null==c||null==(t=c.data)?void 0:t.map(e=>({id:e.uuid,...e})):[],columns:d,onSwitchChange:x,onRowClick:h})}},52645:(e,t,r)=>{r.r(t),r.d(t,{BaseTable:()=>v,ServerPaginationTable:()=>f});var l=r(95155),n=r(12115),a=r(99559),i=r(7920),o=r(4906),s=r(81474),d=r(87647),c=r(94049),u=r(9562),x=r(42553),h=r(56164),p=r(26301);function m(e){let{paginationModel:t,setPaginationModel:r,rowCount:n}=e,a=(0,i.h)(),c=(0,o.Nc)(a,s.$i),u=(0,o.Nc)(a,s.O),x=null==t?void 0:t.pageSize,h=Math.min(n,(c+1)*x);return(0,l.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"8px"},children:[(0,l.jsx)("div",{children:0===n?"No records":"Showing ".concat(c*x+1,"–").concat(h," of ").concat(n," records")}),(0,l.jsx)(d.A,{color:"primary",count:u,page:c+1,onChange:(e,l)=>r({...t,page:l-1})})]})}let f=e=>{let{columns:t,rows:r,loading:n,setPaginationModel:i,paginationModel:o,rowCount:s,searchText:d,setSearchString:c,onSwitchChange:u,onRowClick:x}=e;return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(g,{searchText:null!=d?d:"",requestSearch:c,handleSwitchChange:e=>{u&&u(e.target.checked)}}),(0,l.jsx)(a.z,{sx:{my:"1ch",borderStyle:"none"},onCellClick:e=>{x&&"action"!==e.field&&x(e)},loading:n,rows:r,columns:t,paginationModel:o,rowCount:s,paginationMode:"server",onPaginationModelChange:i,autoHeight:!0,slots:{footer:()=>(0,l.jsx)(m,{paginationModel:o,setPaginationModel:i,rowCount:s})}})]})},g=e=>{let{searchText:t,requestSearch:r,handleSwitchChange:n,showSwitch:a=!0,placeHolder:i="Search Patient"}=e;return(0,l.jsx)(c.default,{children:(0,l.jsx)(u.A,{sx:{my:1,width:"30%"},variant:"outlined",placeholder:i,value:t,onChange:e=>r(e.target.value),InputProps:{startAdornment:(0,l.jsx)(x.A,{position:"start",children:(0,l.jsx)(h.VxX,{})})}})})},v=e=>{let{rows:t,columns:r,hidePagination:i=!1,height:o="100%",width:s="100%",loading:d,style:c,rowHeight:u,checkboxSelection:x=!1,getSelectedItems:h=e=>{},showTopBar:m=!0,searchPlaceHolder:f,showSearchSwitchButton:v}=e,[j,b]=n.useState(""),[y,w]=n.useState(t),[C,A]=n.useState(!1);n.useEffect(()=>{w(t)},[t]),n.useEffect(()=>{S("")},[C]);let S=e=>{b(e);let r=t.filter(t=>Object.keys(t).some(r=>{var l,n,a;return null==(a=t[r])||null==(n=a.toString())||null==(l=n.toLowerCase())?void 0:l.includes(e.toLowerCase())}));C&&(r=r.filter(e=>(0,p.cK)(e.arrival_time))),w(r)};return(0,l.jsxs)("div",{style:{height:o,width:s,...c},children:[m&&(0,l.jsx)(g,{placeHolder:f,showSwitch:v,searchText:j,handleSwitchChange:e=>{A(e.target.checked)},requestSearch:S}),(0,l.jsx)(a.z,{onRowSelectionModelChange:h,checkboxSelection:x,rowHeight:u,sx:{my:"1ch",borderStyle:"none"},loading:d,rows:y,columns:r,hideFooterPagination:i,paginationMode:"client",initialState:{columns:{columnVisibilityModel:{}}}})]})}},55223:(e,t,r)=>{r.r(t),r.d(t,{SearchComboBox:()=>h});var l=r(95155),n=r(12115),a=r(67909),i=r(33567),o=r(95436),s=r(2545),d=r(29850),c=r(72478),u=r(66637);let x=(0,a.default)(()=>r.e(3002).then(r.bind(r,63002)).then(e=>e.default),{loadableGenerated:{webpack:()=>[63002]},ssr:!1,loading:()=>null}),h=e=>{let{options:t,name:r,label:a,width:h="100%",sx:p,getValue:m,manualInitialValues:f,disabled:g=!1,multiple:v=!0,applyPadding:j=!0,coded:b=!1}=e,y=(0,i.A)(),[w,C]=(0,n.useState)(!1),{hasError:A,setFieldValue:S,value:k,errorMessage:F}=(0,d.W)(r);(0,n.useEffect)(()=>{C(!0)},[]);let I=t.map(e=>({value:e.id,label:e.label})),E=async e=>{let t=v?e.map(e=>({id:e.value,label:e.label})):null==e?void 0:e.value;b&&(t=v?await (0,u.sV)(t):(await (0,u.sV)([{id:t,label:""}]))[0].id),S(r,t),null==m||m(t)},T=j?{paddingTop:"1ch",paddingBottom:"1ch"}:{};return w?(0,l.jsxs)(c.jD,{sx:{width:h,...p,borderRadius:y.shape.borderRadius},children:[(0,l.jsx)(o.A,{shrink:!0,sx:{color:A?y.palette.error.main:"inherit"},children:a}),(0,l.jsx)(x,{isDisabled:g,isMulti:v,options:I,value:k?null==I?void 0:I.find(e=>e.value===k):k,styles:{control:(e,t)=>({...e,borderColor:A?y.palette.error.main:t.isFocused?y.palette.primary.main:y.palette.divider,boxShadow:t.isFocused?"0 0 0 1px ".concat(y.palette.primary.main):"none","&:hover":{borderColor:A?y.palette.error.main:y.palette.primary.main},backgroundColor:g?y.palette.action.disabledBackground:y.palette.background.paper,minHeight:"40px",...T}),menu:e=>({...e,zIndex:y.zIndex.modal+1,backgroundColor:y.palette.background.paper}),menuPortal:e=>({...e,zIndex:y.zIndex.modal+1}),option:(e,t)=>({...e,backgroundColor:t.isSelected?y.palette.action.selected:t.isFocused?y.palette.action.hover:y.palette.background.paper,color:y.palette.text.primary,"&:active":{backgroundColor:y.palette.action.selected}}),multiValue:e=>({...e,backgroundColor:y.palette.grey[200]}),multiValueLabel:e=>({...e,color:y.palette.text.primary}),multiValueRemove:e=>({...e,color:y.palette.text.secondary,":hover":{backgroundColor:y.palette.grey[300],color:y.palette.text.primary}}),placeholder:e=>({...e,color:y.palette.text.disabled}),singleValue:e=>({...e,color:y.palette.text.primary}),indicatorSeparator:e=>({...e,backgroundColor:y.palette.divider}),dropdownIndicator:e=>({...e,color:y.palette.text.secondary,":hover":{color:y.palette.text.primary}}),clearIndicator:e=>({...e,color:y.palette.text.secondary,":hover":{color:y.palette.text.primary}})},menuPortalTarget:document.body,menuPosition:"fixed",onChange:E,defaultValue:null==f?void 0:f.map(e=>({value:e.id,label:e.label})),components:(0,s.Ay)(),theme:e=>({...e,colors:{...e.colors,primary:y.palette.primary.main,primary25:y.palette.action.hover,primary50:y.palette.action.selected,neutral0:y.palette.background.paper,neutral20:y.palette.divider,neutral30:y.palette.action.active,neutral40:y.palette.text.secondary,neutral50:y.palette.text.disabled,neutral60:y.palette.text.secondary,neutral80:y.palette.text.primary}})}),A&&(0,l.jsx)(c.Th,{color:"error.main",variant:"caption",children:F})]}):null}},55302:(e,t,r)=>{r.d(t,{bJ:()=>c,AU:()=>u,Ov:()=>h,bW:()=>x});var l=r(25641),n=r(31345),a=r(93292);let i="/people";var o=r(99776),s=r(80549),d=r(22454);let c=()=>{let{ServerTime:e}=(0,l.useServerTime)(),t=(0,o.jE)();return(0,s.n)({mutationFn:t=>{let r;return(r={names:[{givenName:t.nextOfKinFirstName,familyName:t.nextOfKinLastName}],birthdate:e.getServerTimeString()},(0,a.vt)(r,i)).then(e=>e.data)},onSuccess:e=>{t.invalidateQueries({})}})},u=()=>{let e=async e=>{let t;return(t={person_a:e.patient,person_b:e.person,relationship:e.nextOfKinRelationship},(0,a.vt)(t,"/relationships")).then(e=>e.data)};return(0,s.n)({mutationFn:e})},x=e=>(0,d.I)({queryKey:["search"],queryFn:()=>(e=>{let t,r=e.firstName,l=e.lastName,n=e.gender;return(t="given_name=".concat(r,"&family_name=").concat(l,"&gender=").concat(n,"&middle_name&paginate=false"),(0,a.UK)(i+"/search",t+"&paginate=false")).then(e=>e.data.map(e=>({person_id:e.person_id,uuid:e.uuid,given_name:e.names[0].given_name,family_name:e.names[0].family_name,gender:e.gender,birthdate:e.birthdate})))})(e),enabled:!1}),h=e=>(0,d.I)({queryKey:["search_npid",e],queryFn:()=>(0,n.cv)(e).then(e=>e.data),enabled:!1})},61361:(e,t,r)=>{r.r(t),r.d(t,{useFormikField:()=>a});var l=r(95582),n=r(12115);let a=e=>{let t=(0,l.j7)();if(!t)throw Error("useFormikField must be used within a Formik provider");let{validateField:r,initialValues:a,values:i,touched:o,errors:s,setFieldValue:d,handleChange:c,handleBlur:u}=t,x=(0,n.useMemo)(()=>null==i?void 0:i[e],[i,e]),h=!!((null==o?void 0:o[e])&&(null==s?void 0:s[e]));return{value:x,errorMessage:h?String(s[e]):"",hasError:h,values:i,handleChange:c,handleBlur:e=>u(e),setValue:t=>{d(e,t)},setFieldValue:d,validateField:r,initialValues:a,fieldProps:{name:e,value:x,onChange:c,onBlur:u}}}},63536:(e,t,r)=>{r.r(t),r.d(t,{NotificationContainer:()=>a});var l=r(95155),n=r(72478);let a=e=>{let{message:t}=e;return(0,l.jsx)(n.jD,{sx:{backgroundColor:"#B9E6FE",color:"#026AA2",py:"2ch",px:"1ch",my:"1ch"},children:(0,l.jsx)(n.Th,{children:t})})}},64134:(e,t,r)=>{r.r(t),r.d(t,{FormContainer:()=>a});var l=r(95155),n=r(72478);let a=e=>{let{children:t}=e;return(0,l.jsxs)(n.Yr,{container:!0,children:[(0,l.jsx)(n.Yr,{item:!0,xs:0,lg:1}),(0,l.jsxs)(n.Yr,{item:!0,xs:12,lg:10,children:[(0,l.jsx)("br",{}),(0,l.jsx)("br",{}),t]})]})}},68003:(e,t,r)=>{r.r(t),r.d(t,{FormDatePicker:()=>p});var l=r(95155),n=r(36117),a=r.n(n),i=r(47317),o=r(71101),s=r(46743),d=r(12115),c=r(29850),u=r(94049),x=r(95436),h=r(72478);let p=e=>{let{name:t,label:r,width:n="25ch",sx:p,size:m="medium",getValue:f,disabled:g=!1,onBlur:v}=e,{value:j,setFieldValue:b,initialValues:y,errorMessage:w}=(0,c.W)(t);(0,d.useEffect)(()=>{f&&f(j)},[j]);let C="";return"object"==typeof y&&null!==y&&(C=y[t]),(0,l.jsx)(o.$,{dateAdapter:i.R,children:(0,l.jsxs)(u.default,{sx:{display:"flex",flexDirection:"column",width:n},children:[(0,l.jsx)(x.A,{sx:{mb:"1ch",fontSize:"0.76rem",color:"text.secondary"},children:r}),(0,l.jsx)(s.l,{sx:{backgroundColor:"white","& fieldset":{borderRadius:"5px"},...p},defaultValue:a()(C),label:"",onChange:e=>b(t,a()(e).format("YYYY-MM-DD")),disabled:g,onClose:()=>{null==v||v(j)},slotProps:{textField:{onBlur:e=>{null==v||v(j)}}}}),(0,l.jsx)(h.Th,{color:"red",variant:"subtitle2",children:w})]})})}},70526:(e,t,r)=>{r.r(t),r.d(t,{TextInputField:()=>u});var l=r(95155),n=r(12115),a=r(52641),i=r(95436),o=r(9562),s=r(29850),d=r(42553),c=r(72478);let u=e=>{let{id:t,name:r,label:u,sx:x,type:h,placeholder:p="",size:m="medium",rows:f,getValue:g,showHelperText:v=!0,disabled:j=!1,multiline:b=!1,inputIcon:y,unitOfMeasure:w,helperTextWidth:C="25ch",externalValue:A,handleBlurEvent:S,onChange:k}=e,{value:F,handleChange:I,hasError:E,errorMessage:T,handleBlur:z,setValue:D}=(0,s.W)(r);return(0,n.useEffect)(()=>{void 0!==A&&A!==F&&D(A)},[A]),(0,n.useEffect)(()=>{null==g||g(F)},[F]),(0,l.jsxs)(a.A,{variant:"standard",sx:{mb:"1ch",fontSize:"0.76rem",...x},children:[(0,l.jsx)(i.A,{shrink:!0,htmlFor:t,children:u}),(0,l.jsx)(o.A,{sx:{backgroundColor:"white","label + &":{marginTop:"2.3ch"},"& .MuiInputBase-input":{width:"100%",borderRadius:"5px"},"& .MuiFormHelperText-root":{width:C},"& fieldset":{borderRadius:"5px"},...x},id:t,name:r,value:F,type:h,onBlur:e=>{z(e),null==S||S(e.target.value)},onChange:e=>{let t=e.target.value;I(e),null==k||k(t)},error:E,size:m,placeholder:p,rows:f,disabled:j,multiline:b,InputProps:{endAdornment:w&&(0,l.jsx)(d.A,{position:"start",children:w}),startAdornment:y&&(0,l.jsx)(d.A,{position:"start",children:y})}}),v&&(0,l.jsx)(c.Th,{color:"red",variant:"subtitle2",children:T})]})}},70952:(e,t,r)=>{r.d(t,{w:()=>h});var l=r(95155);r(12115);var n=r(37665),a=r(86973),i=r(49501),o=r(25635),s=r(94049),d=r(46660),c=r(91871),u=r(4484),x=r(14915);let h=e=>{let{data:t,columns:r,title:h="Data Table",enableRowActions:p=!1,enableRowSelection:m=!1,enableExpanding:f=!1,enableColumnFilterModes:g=!1,enableColumnOrdering:v=!0,enableGrouping:j=!1,enableColumnPinning:b=!0,enableFacetedValues:y=!0,showGlobalFilter:w=!0,enableColumnActions:C=!0,enableColumnFilters:A=!0,enableSorting:S=!0,getSubRows:k,onRowActionDelete:F,onRowActionEdit:I,onBulkAction:E,onRowClick:T,bulkActionLabel:z="Action",initialState:D={showColumnFilters:!1,showGlobalFilter:w,columnPinning:{left:["mrt-row-expand","mrt-row-select"],right:["mrt-row-actions"]}}}=e,B=(0,n.Up)({columns:r,data:t,displayColumnDefOptions:{"mrt-row-expand":{enableResizing:!0,size:1}},enableExpanding:f,enableColumnFilterModes:g,enableColumnOrdering:v,enableGrouping:j,enableColumnPinning:b,enableFacetedValues:y,enableRowActions:p,enableRowSelection:m,enableColumnActions:C,enableColumnFilters:A,enableSorting:S,initialState:D,paginationDisplayMode:"pages",positionToolbarAlertBanner:"bottom",muiSearchTextFieldProps:{size:"small",variant:"outlined"},muiPaginationProps:{color:"primary",rowsPerPageOptions:[10,20,30],shape:"rounded",variant:"outlined"},muiTableBodyRowProps:e=>{let{row:t}=e;return{onClick:e=>{null==T||T({row:t,event:e})},sx:{cursor:"pointer"}}},getSubRows:k?e=>k(e):void 0,...p&&{renderRowActionMenuItems:e=>{let{row:t,closeMenu:r}=e;return[F&&(0,l.jsxs)(a.A,{onClick:()=>{F(t.original),r()},sx:{m:0},children:[(0,l.jsx)(i.A,{children:(0,l.jsx)(u.A,{})}),"Delete"]},"delete"),I&&(0,l.jsxs)(a.A,{onClick:()=>{I(t.original),r()},sx:{m:0},children:[(0,l.jsx)(i.A,{children:(0,l.jsx)(x.A,{})}),"Edit"]},"edit")].filter(Boolean)}},renderTopToolbar:e=>{let{table:t}=e;return(0,l.jsxs)("div",{children:[h&&(0,l.jsx)(o.default,{variant:"h6",sx:{display:"flex",padding:"8px",justifyContent:"center",width:"100%",boxShadow:"0px 4px 4px rgba(0, 0, 0, 0.1)",borderBottom:"1px solid rgba(0, 0, 0, 0.2)"},children:h}),(0,l.jsxs)(s.default,{sx:e=>({backgroundColor:(0,d.a)(e.palette.background.default,.05),display:"flex",gap:"0.5rem",p:"8px",justifyContent:"space-between"}),children:[w&&(0,l.jsxs)(s.default,{sx:{display:"flex",gap:"0.5rem",alignItems:"center"},children:[(0,l.jsx)(n.Jf,{table:t}),(0,l.jsx)(n.u1,{table:t})]}),E&&(0,l.jsx)(s.default,{children:(0,l.jsx)(s.default,{sx:{display:"flex",gap:"0.5rem"},children:(0,l.jsx)(c.A,{color:"primary",disabled:!t.getIsSomeRowsSelected(),onClick:()=>{E&&E(t.getSelectedRowModel().flatRows.map(e=>e.original))},variant:"contained",children:z})})})]})]})}});return(0,l.jsx)(n.zp,{table:B})}},72478:(e,t,r)=>{r.d(t,{oq:()=>x.oq,x0:()=>g.x,WE:()=>h.W,VJ:()=>E,Z3:()=>p.Z3,f_:()=>p.f_,uT:()=>o.DisplayEncounterCreator,Vp:()=>p.Vp,MG:()=>p.MG,bZ:()=>p.bZ,W9:()=>p.W9,GE:()=>p.GE,kI:()=>p.kI,m2:()=>p.m2,YZ:()=>p.YZ,gj:()=>p.gj,fP:()=>p.fP,PD:()=>p.PD,eV:()=>i.GenericDialog,O6:()=>x.O6,Yr:()=>B,sc:()=>N,Th:()=>D,yk:()=>l.NavigationBar,wu:()=>A,RG:()=>k.NewStepperContainer,Dh:()=>x.WE,bL:()=>n.NotificationContainer,TF:()=>a.PatientInfoTab,vP:()=>T.PatientTableListServer,b1:()=>p.b1,el:()=>p.el,pK:()=>p.pK,gq:()=>S,UL:()=>F.SubSteps,A8:()=>p.A8,pj:()=>p.pj,jD:()=>z,zQ:()=>f.z});var l=r(10826),n=r(63536),a=r(4858),i=r(11074),o=r(40065),s=r(94049),d=r(25635),c=r(33077),u=r(2300),x=r(52122),h=r(80498),p=r(33793);r(40931);var m=r(95155);r(12115);var f=r(38638);f.z.secondary,f.z.white,f.z.primary,f.z.primaryFontColor,f.z.secondaryFontColor;var g=r(27184);r(46519),r(47585);let v={circle:{display:"flex",alignItems:"center",justifyContent:"center",height:"20px",width:"20px",borderRadius:"10px",border:"solid 1px #636363",color:"#636363",mx:"5px"},active:{backgroundColor:f.z.primary,color:f.z.white},circleWithLabel:{display:"flex",alignItems:"start"},stepper:{display:"flex",flexDirection:"column",justifyContent:"center",my:"5px",width:"100%"}},j=e=>{let{label:t,active:r,last:l}=e,n={...v.circle?v.circle:{},...r?v.active:{}};return(0,m.jsxs)(s.default,{display:"flex",alignItems:"center",flexDirection:"column",children:[(0,m.jsx)(s.default,{sx:n,children:(0,m.jsx)(d.default,{sx:{fontSize:"16px",fontWeight:400,lineHeight:"24px",letterSpacing:"0em",textAlign:"left"},children:t})}),!l&&(0,m.jsx)(s.default,{sx:{borderLeft:"2px solid #B3B3B3",height:"24px"}})]})},b=e=>{let{circleLabel:t,active:r,label:l,last:n}=e;return(0,m.jsxs)(s.default,{sx:v.circleWithLabel,children:[(0,m.jsx)(j,{label:t,active:r,last:n}),(0,m.jsx)(d.default,{sx:{fontSize:"16px",lineHeight:"24px",color:r?f.z.primary:""},variant:"subtitle2",fontWeight:r?"700":"200",children:l})]})};var y=r(95844),w=r(71908),C=r(64246);let A=e=>{let{steps:t,active:r}=e;return(0,m.jsx)(s.default,{sx:v.stepper,children:t.map((e,l)=>(0,m.jsx)(b,{label:e.label,circleLabel:l+1,active:l==r,last:t.length-1==l},e.id))})},S=e=>{let{steps:t,active:r}=e;return(0,m.jsx)(s.default,{sx:{width:"100%"},children:(0,m.jsx)(y.default,{activeStep:r,alternativeLabel:!0,children:t.map(e=>(0,m.jsx)(w.default,{children:(0,m.jsx)(C.default,{children:e.label})},e.id))})})};var k=r(98896),F=r(40973),I=r(25641);function E(e){let t,{arrival_time:r}=e,{ServerTime:l}=(0,I.useServerTime)(),n=Date.parse(l.getServerTimeString()),a=Math.floor((n-Date.parse(r))/1e3);if(a<60)t="".concat(a," seconds");else{let e=Math.floor(a/60);if(e<60)t="".concat(e," minutes");else{let r=Math.floor(e/60);if(r<24)t="".concat(r," hours");else{let e=Math.floor(r/24),l=r%24;t=l>0?"".concat(e," days ").concat(l," hours"):"".concat(e," days")}}}return t}var T=r(52325);let z=s.default,D=d.default,B=c.default,N=u.default},72833:(e,t,r)=>{r.r(t),r.d(t,{DashedContainer:()=>s,FieldsContainer:()=>i,FormFieldContainerLayout:()=>o,FormFieldContainerMultiple:()=>d});var l=r(95155),n=r(94049),a=r(72478);let i=e=>{let{children:t,sx:r,mr:n="1ch"}=e;return(0,l.jsx)(a.jD,{display:"flex",justifyContent:"flex-start",sx:{...r,"& > :first-of-type":{mr:n}},children:t})},o=e=>{let{children:t,title:r,last:n=!1}=e;return(0,l.jsxs)(a.jD,{sx:{display:"flex",flexDirection:{xs:"column",lg:"row"},my:"1ch",py:"2ch",width:"100%",borderBottom:n?"":"2px dashed #B3B3B3"},children:[(0,l.jsx)(a.Th,{sx:{fontSize:"16px",fontWeight:600,lineHeight:"24px",letterSpacing:"0em",textAlign:"left",width:{lg:"40%"},mb:{xs:"2ch"}},children:r}),(0,l.jsx)(a.jD,{sx:{width:{xs:"100%",lg:"60%"}},children:t})]})},s=e=>{let{children:t,my:r="0.5ch",border:a="top"}=e;return(0,l.jsx)(n.default,{sx:{borderTop:"top"===a||"both"===a?"2px dashed #B3B3B3":void 0,borderBottom:"bottom"===a||"both"===a?"2px dashed #B3B3B3":void 0,my:r,py:"0.5ch"},children:t})},d=e=>{let{children:t}=e;return(0,l.jsx)(n.default,{sx:{display:"flex",flexDirection:{xs:"column",sm:"row"},gap:2,width:"100%","& > *":{width:{xs:"100%",sm:"auto"},flex:1}},children:t})}},75855:(e,t,r)=>{r.d(t,{R:()=>l});let l=(e,t)=>!!t&&t.some(t=>e.flatMap(e=>null==e?void 0:e.split(",")).includes(t))},77638:(e,t,r)=>{r.r(t),r.d(t,{CheckboxesGroup:()=>u});var l=r(95155),n=r(12115),a=r(52641),i=r(17325),o=r(56475),s=r(18369),d=r(22822),c=r(29850);function u(e){let{options:t,name:r,getValue:u,allowFilter:x=!0,disabled:h=!1}=e,[p,m]=(0,n.useState)({}),[f,g]=(0,n.useState)(!1),{setFieldValue:v,hasError:j,errorMessage:b,value:y}=(0,c.W)(r),[w,C]=(0,n.useState)(!1),A=(0,n.useRef)(!1);(0,n.useEffect)(()=>{let e={};for(let r=0;r<t.length;r++)e[t[r].value]=!1;m(e),C(!0)},[]),(0,n.useEffect)(()=>{if(w&&!A.current&&y&&Array.isArray(y)){let e={},t=!1;y.forEach(r=>{e[r.key]=r.value,p[r.key]!==r.value&&(t=!0)}),t&&m(e)}},[y,w]),(0,n.useEffect)(()=>{x&&y&&Array.isArray(y)&&((null==y?void 0:y.filter(e=>null==e?void 0:e.value).length)==2?g(!0):g(!1))},[y]),(0,n.useEffect)(()=>{w&&(A.current=!0,v(r,Object.keys(p).map(e=>({key:e,value:p[e]}))),setTimeout(()=>{A.current=!1},0))},[p,w]);let S=e=>{m({...p,[e.target.value]:e.target.checked})};return(0,n.useEffect)(()=>{u&&u(y)},[y,p]),(0,l.jsxs)(a.A,{error:j,name:r,component:"fieldset",variant:"standard",children:[(0,l.jsx)(i.A,{children:t.map(e=>(0,l.jsx)(o.default,{control:(0,l.jsx)(d.default,{disabled:h||f&&!p[e.value],value:e.value,checked:p[e.value]||!1,onChange:S,name:e.value}),label:e.label},e.value))}),(0,l.jsx)(s.default,{children:b})]})}},78905:(e,t,r)=>{r.r(t),r.d(t,{SelectInputField:()=>u});var l=r(95155),n=r(12115),a=r(94049),i=r(95436),o=r(86973),s=r(52641),d=r(55606),c=r(61361);let u=e=>{let{name:t,id:r,label:u,selectItems:x,sx:h,getValue:p,size:m="medium",width:f="100%"}=e,{value:g,handleChange:v,hasError:j}=(0,c.useFormikField)(t);return(0,n.useEffect)(()=>{p&&p(g)},[g]),(0,l.jsx)(a.default,{sx:{my:"2.3ch",width:f,...h},children:(0,l.jsxs)(s.A,{fullWidth:!0,children:[(0,l.jsx)(i.A,{sx:{backgroundColor:"white"},id:r,children:u}),(0,l.jsx)(d.A,{size:m,name:t,labelId:r,id:r,value:g,label:u,onChange:v,error:j,children:x.map(e=>{let{value:t,name:r}=e;return(0,l.jsx)(o.A,{value:t,children:r},r)})})]})})}},80498:(e,t,r)=>{r.d(t,{W:()=>l.BaseTable,e:()=>l.ServerPaginationTable});var l=r(52645)},82483:(e,t,r)=>{r.r(t),r.d(t,{FormikInit:()=>o});var l=r(95155),n=r(95582),a=r(12115),i=r(52122);let o=e=>{let{children:t,onSubmit:r,validationSchema:a,initialValues:o,submitButton:d=!0,submitButtonText:c="submit",submitVariant:u="primary",loading:x,enableReinitialize:h=!1,getFormValues:p=e=>{},ref:m}=e;return(0,l.jsx)(n.l1,{initialValues:o,onSubmit:r,validationSchema:a,enableReinitialize:h,innerRef:m,children:e=>{let{values:r,setFieldValue:a,errors:o,submitCount:h}=e;return(0,l.jsxs)(n.lV,{children:[(0,l.jsx)(s,{getFormValues:p,values:r}),"function"==typeof t?t({values:r,setFieldValue:a,submitCount:h}):t,d&&(0,l.jsx)(i.O6,{sx:{mt:3},variant:u,type:"submit",title:x?(0,l.jsx)("i",{style:{textTransform:"lowercase"},children:"loading..."}):c,onClick:()=>{}})]})}})},s=e=>{let{values:t,getFormValues:r}=e;return(0,a.useEffect)(()=>{r(t)},[t]),null}},88781:(e,t,r)=>{r.d(t,{A:()=>s});var l=r(95155);r(12115);var n=r(56475),a=r(22822),i=r(18369),o=r(29850);let s=e=>{let{name:t,label:r,helperText:s}=e,{value:d,handleChange:c,hasError:u,errorMessage:x,handleBlur:h}=(0,o.W)(t);return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(n.default,{control:(0,l.jsx)(a.default,{name:t,checked:!!d,onChange:c,color:"primary"}),label:r}),s&&(0,l.jsx)(i.default,{children:s})]})}},97929:(e,t,r)=>{r.r(t),r.d(t,{BackButton:()=>s});var l=r(95155),n=r(56164),a=r(87295),i=r(94049),o=r(25635);function s(e){let{onClick:t,label:r}=e,{navigateBackToProfile:s}=(0,a.cq)();return(0,l.jsxs)(i.default,{onClick:t||s,sx:{display:"flex",alignItems:"center",mb:2,cursor:"pointer"},children:[(0,l.jsx)(i.default,{sx:{width:"24px",height:"24px",fontSize:"20px"},children:(0,l.jsx)(n.ed2,{})}),(0,l.jsx)(o.default,{sx:{fontSize:"14px",fontWeight:400,lineHeight:"21px",letterSpacing:"0em",ml:1},children:r||"Back to Profile"})]})}},98896:(e,t,r)=>{r.r(t),r.d(t,{NewStepperContainer:()=>j});var l=r(95155),n=r(48116),a=r(97998),i=r(98267),o=r(20537),s=r(37960),d=r(25635),c=r(12115),u=r(72478),x=r(94049),h=r(66637),p=r(87295),m=r(26301);let f=(0,n.Ay)(e=>(0,l.jsx)(i.A,{disableGutters:!0,elevation:0,square:!0,...e}))(e=>{let{theme:t}=e;return{border:"1px solid ".concat(t.palette.divider),"&:not(:last-child)":{borderBottom:0},"&:before":{display:"none"}}}),g=(0,n.Ay)(e=>(0,l.jsx)(o.A,{expandIcon:(0,l.jsx)(a.BNo,{}),...e}))(e=>{let{theme:t}=e;return{backgroundColor:"dark"===t.palette.mode?"rgba(255, 255, 255, .05)":"rgba(0, 0, 0, .03)",flexDirection:"row-reverse","& .MuiAccordionSummary-expandIconWrapper.Mui-expanded":{transform:"rotate(90deg)"},"& .MuiAccordionSummary-content":{marginLeft:t.spacing(1)}}}),v=(0,n.Ay)(s.A)(e=>{let{theme:t}=e;return{padding:t.spacing(2),borderTop:"1px solid rgba(0, 0, 0, .125)"}});function j(e){let{children:t,active:r,steps:n,title:i,setActive:o,onBack:s,showSubmittedStatus:j=!1,allowPanelActiveOnClick:b=!0,backButtonProfileText:y="Back to Profile"}=e,{patientId:w,activeVisitId:C}=(0,p.gd)(),{data:A,isLoading:S,isRefetching:k}=(0,h.$O)(w),[F,I]=(0,c.useState)(new Set),E=t.filter(e=>!1!==e),T=[],z=c.Children.toArray(t).filter((e,t)=>!!c.isValidElement(e)&&e.type===u.UL&&(T.push(t),!0));T.sort((e,t)=>t-e).forEach(e=>{E.splice(e,1)});let D=new Map;z.forEach(e=>{if(c.isValidElement(e)){let t=e.props.parent;D.has(t)||D.set(t,[]),D.get(t).push(e.props.children)}});let[B,N]=(0,c.useState)({});return(0,c.useEffect)(()=>{if(j){let e={};n.forEach((t,r)=>{var l,n,a;let i=null==A||null==(l=A.filter(e=>e.encounter_type.uuid===t.encounter).filter(e=>e.visit_id===Number(C)))?void 0:l[0],o=null==i||null==(a=i.obs)||null==(n=a[i.obs.length-1])?void 0:n.obs_datetime;o&&(e[r]=o)}),N(e)}},[A,n,j]),(0,c.useEffect)(()=>{I(e=>new Set(e).add(r))},[r]),(0,l.jsxs)(u.Yr,{container:!0,spacing:5,children:[(0,l.jsx)(u.Yr,{sx:{display:{xs:"none",lg:"block"}},item:!0,lg:3,children:(0,l.jsxs)(u.sc,{elevation:0,sx:{p:"1ch",width:"288px"},children:[(0,l.jsx)(u.Th,{sx:{fontSize:"20px",fontWeight:600,textAlign:"left",ml:"2ch",my:"2ch"},children:i}),(0,l.jsx)(u.wu,{steps:n,active:r})]})}),(0,l.jsx)(u.Yr,{item:!0,xs:1,lg:0}),(0,l.jsx)(u.Yr,{item:!0,xs:10,lg:8,children:(0,l.jsxs)(u.jD,{width:"100%",children:[(0,l.jsx)(u.Yr,{item:!0,sx:{display:{xs:"block",lg:"none"}},xs:12,children:(0,l.jsx)(u.gq,{steps:n,active:r})}),(0,l.jsxs)(u.jD,{onClick:()=>s&&s(),sx:{display:{lg:"flex",xs:"none"},cursor:"pointer"},children:[(0,l.jsx)(u.Th,{sx:{width:"24px",height:"24px",fontSize:"20px"},children:(0,l.jsx)(a.ed2,{})}),(0,l.jsx)(u.Th,{sx:{fontSize:"14px",fontWeight:400,lineHeight:"21px",letterSpacing:"0em",textAlign:"left"},children:y})]}),n.map((e,t)=>{var n;return(0,l.jsxs)(f,{sx:{my:"2ch",backgroundColor:"whitesmoke",borderStyle:"none","& .MuiAccordionSummary-root":{backgroundColor:"whitesmoke",display:"flex",flexDirection:"row",borderBottom:"solid 0.2ch #B3B3B3"}},onChange:()=>{(b||F.has(t))&&o&&o(t)},expanded:t===r,children:[(0,l.jsx)(g,{"aria-controls":"panel".concat(t+1,"-content"),id:"panel".concat(t+1,"-header"),children:(0,l.jsxs)(x.default,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",width:"100%",pr:"2ch"},children:[(0,l.jsx)(d.default,{variant:"h5",sx:{fontSize:"24px",fontWeight:700,textAlign:"left"},children:e.label}),j&&(0,l.jsxs)(x.default,{sx:{display:"flex",alignItems:"flex-start",gap:"0.5rem",width:"30%"},children:[(0,l.jsx)(x.default,{sx:{display:"flex",justifyContent:"center"},children:S||k&&r-1===t?(0,l.jsx)(a.hW,{size:"20px",style:{animation:"spin 1s linear infinite",color:"gray"}}):(0,l.jsx)(a.A7C,{size:"20px",color:B[t]?"green":"gray"})}),(0,l.jsx)(d.default,{sx:{fontSize:"14px",fontWeight:500,color:B[t]?"green":"gray",minWidth:"120px",textAlign:"left",fontStyle:"italic"},children:(0,m.rX)(B[t])||"not submitted"})]})]})}),(0,l.jsx)(v,{children:E[t]}),D.has(t)&&(null==(n=D.get(t))?void 0:n.map((e,t)=>(0,l.jsx)(v,{style:{borderTop:"1px solid rgba(0, 0, 0, .125)"},children:e},t)))]},t)})]})})]})}}}]);