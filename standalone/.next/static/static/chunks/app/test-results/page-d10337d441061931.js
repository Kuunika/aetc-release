(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9276],{4870:(e,t,a)=>{Promise.resolve().then(a.bind(a,44070))},12409:(e,t,a)=>{"use strict";a.d(t,{VQ:()=>n,kC:()=>s,sL:()=>r,uQ:()=>d});var i=a(95155),l=a(72478);let r=e=>{let{children:t,id:a}=e;return(0,i.jsx)(l.Th,{id:a,sx:{fontFamily:"Inter",fontSize:24,fontWeight:700,lineHeight:"29px",letterSpacing:0,textAlign:"center"},children:t})},n=e=>{let{children:t}=e;return(0,i.jsx)(l.Th,{alignSelf:"center",sx:{fontFamily:"Inter",fontSize:14,fontWeight:400,lineHeight:"21px",letterSpacing:0,color:"#636363",width:"50ch",textAlign:"center",my:"2ch"},children:t})},s=e=>{let{children:t,sx:a}=e;return(0,i.jsx)(l.sc,{elevation:0,sx:{display:"flex",flexDirection:"column",justifyContent:"center",px:"5ch",py:"5ch",mb:"2ch",...a},children:t})},d=e=>{let{children:t}=e;return(0,i.jsx)(l.Th,{sx:{fontFamily:"Inter",fontSize:"16px",fontWeight:600,lineHeight:"24px",letterSpacing:"0em",textAlign:"center",my:"2ch"},children:t})}},41186:(e,t,a)=>{"use strict";a.d(t,{A:()=>x});var i=a(95155),l=a(93584),r=a(87295),n=a(12115),s=a(75855),d=a(72478),o=a(15239),c=a(9877);function x(e,t){return function(a){let[d,o]=(0,n.useState)(!1),{navigateTo:x}=(0,r.cq)();(0,n.useLayoutEffect)(()=>{if(localStorage)if(localStorage.getItem("accessToken")){let e=localStorage.getItem("loginTime");if(e){let t=parseInt(e);if(Math.floor((new Date().getTime()-t)%36e5/6e4)>60){o(!1),x("/"),localStorage.clear();return}}o(!0)}else o(!1),localStorage.clear(),x("/")},[]);let h=(0,s.R)(t,(0,c.O)());return d?h?(0,i.jsx)(e,{...a}):(0,i.jsx)(p,{}):(0,i.jsx)(l.OverlayLoader,{open:!d})}}let p=()=>(0,i.jsx)(d.jD,{sx:{width:"100%",height:"100vh",display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"#fff"},children:(0,i.jsx)(o.default,{src:"/403.jpg",height:500,width:500,alt:"403"})})},44070:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>k});var i=a(95155),l=a(72478),r=a(12409),n=a(98624),s=a(41186),d=a(263),o=a(26301),c=a(12115),x=a(87295),p=a(65494),h=a(94706),u=a(39625),f=a(97998),g=a(94049),m=a(78470),j=a(1151),y=a(2300),v=a(25635),A=a(28548),C=a(91871),_=a(50430),S=a(52641),w=a(95436),b=a(55606),N=a(47448),I=a(86973),T=a(81013),B=a(94054);let D=()=>{let[e,t]=(0,c.useState)(!1),[a,r]=(0,c.useState)(""),[n,s]=(0,c.useState)(""),[D,k]=(0,c.useState)(""),[O,P]=(0,c.useState)(!1),[z,E]=(0,c.useState)({plannedBy:[],patientCareArea:[]}),[W,F]=(0,c.useState)({plannedByOptions:[],patientCareAreas:[]}),{navigateTo:R}=(0,x.cq)(),V=1===z.patientCareArea.length?z.patientCareArea[0]:void 0,J=1===z.plannedBy.length?z.plannedBy[0]:void 0,{loading:L,patients:M,paginationModel:H,setPaginationModel:Y,searchText:Q,setSearchText:q,totalPages:U,setOnSwitch:G,totalEntries:K}=(0,T.a)("investigations",V,J),[X,Z]=(0,c.useState)(""),$=(0,B.d)(X,500);(0,c.useEffect)(()=>{q($)},[$]);let ee=null==M?void 0:M.map(e=>({id:null==e?void 0:e.uuid,...e,patient_arrival_time:(0,o.WB)(e.arrival_time)})).filter(e=>e.id!=D);(0,c.useEffect)(()=>{if(!ee||0===ee.length)return;let e=Array.from(new Set(ee.map(e=>e.last_encounter_creator).filter(Boolean))).sort(),t=Array.from(new Set(ee.map(e=>e.patient_care_area).filter(Boolean))).sort();F(a=>{let i=JSON.stringify(a.plannedByOptions)===JSON.stringify(e),l=JSON.stringify(a.patientCareAreas)===JSON.stringify(t);return i&&l?a:{plannedByOptions:e,patientCareAreas:t}})},[ee]);let et=e=>t=>{let a=t.target.value;E(t=>({...t,[e]:"string"==typeof a?a.split(","):a}))},ea=(e,t)=>{E(a=>({...a,[e]:a[e].filter(e=>e!==t)}))},ei=z.plannedBy.length>0||z.patientCareArea.length>0,el=[{field:"triage_result",headerName:"Triage Cat",renderCell:e=>(0,i.jsx)(g.default,{sx:{display:"flex",justifyContent:"center",alignItems:"center",width:"100%",height:"100%"},children:(0,i.jsx)(g.default,{sx:{width:20,height:20,borderRadius:"50%",backgroundColor:"red"==e.value||"Emergency"==e.value?"#B42318":"yellow"==e.value||"Priority"==e.value?"#EDE207":"green"==e.value||"Queue"==e.value?"#016302":"transparent"}})})},{field:"given_name",headerName:"First Name",flex:1},{field:"family_name",headerName:"Last Name",flex:1},{field:"patient_arrival_time",headerName:"Arrival Time"},{field:"waiting",headerName:"WaitingTime",flex:1,renderCell:e=>(0,i.jsx)(l.VJ,{arrival_time:e.row.latest_encounter_time})},{field:"aggreg",headerName:"Aggregate",flex:1,renderCell:e=>(0,i.jsx)(l.VJ,{arrival_time:e.row.arrival_time})},{field:"last_encounter_creator",headerName:"Planned By",flex:1},{field:"patient_care_area",flex:1,headerName:"Patient Care Area"},{field:"action",headerName:"Action",flex:1.2,renderCell:e=>(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(m.A,{title:"patient profile",arrow:!0,children:(0,i.jsx)(j.default,{onClick:()=>R("/patient/".concat(e.id,"/profile")),"aria-label":"Profile",color:"primary",children:(0,i.jsx)(f.gSK,{})})}),(0,i.jsx)(m.A,{title:"Dispose",arrow:!0,children:(0,i.jsx)(j.default,{onClick:()=>R("/patient/".concat(e.id,"/disposition")),"aria-label":"Dispose",sx:{color:"grey"},children:(0,i.jsx)(f.dhv,{})})}),(0,i.jsx)(h.jx,{icon:!0,uuid:e.row.uuid}),(0,i.jsx)(m.A,{title:"Initiate CPR",arrow:!0,children:(0,i.jsx)(j.default,{onClick:()=>{r(e.id),t(!0),s(e.row.visit_uuid)},"aria-label":"initiate CPR",color:"error",children:(0,i.jsx)(f.szJ,{})})})]})}],er=null==ee?void 0:ee.map(e=>({id:e.id,visitNumber:e.aetc_visit_number,firstName:e.given_name,lastName:e.family_name,gender:e.gender,arrivalTime:e.patient_arrival_time,arrivalDateTime:e.arrival_time,actor:(0,i.jsx)(l.uT,{encounterType:d.fA.SOCIAL_HISTORY,patientId:e.id}),aggregate:(0,i.jsx)(l.VJ,{arrival_time:e.arrival_time}),waitingTime:(0,i.jsx)(l.VJ,{arrival_time:null==e?void 0:e.latest_encounter_time}),actionName:"Registered by",action:(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(l.O6,{size:"small",sx:{fontSize:"12px",width:"30%",mr:"1px",mb:"1px"},title:"start",onClick:()=>R("/patient/".concat(e.id,"/profile"))}),(0,i.jsx)(p.R,{sx:{width:"30%"},onDelete:()=>k(e.id),visitId:e.visit_uuid,patientId:e.id}),(0,i.jsx)(h.jx,{sx:{width:"30%"},uuid:e.uuid})]}),age:(0,o.Cb)(e.birthdate),triageResult:e.triage_result}));return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(y.default,{sx:{p:2,mb:2},children:[(0,i.jsxs)(g.default,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",mb:2},children:[(0,i.jsxs)(g.default,{sx:{display:"flex",alignItems:"center",gap:1},children:[(0,i.jsx)(f.YsJ,{}),(0,i.jsx)(v.default,{variant:"h6",children:"Filters"}),ei&&(0,i.jsx)(A.A,{label:"".concat(z.plannedBy.length+z.patientCareArea.length," active"),size:"small",color:"primary"})]}),(0,i.jsxs)(g.default,{sx:{display:"flex",gap:1},children:[ei&&(0,i.jsx)(C.A,{startIcon:(0,i.jsx)(f.QCr,{}),onClick:()=>{E({plannedBy:[],patientCareArea:[]})},size:"small",variant:"outlined",color:"secondary",children:"Clear All"}),(0,i.jsxs)(C.A,{startIcon:O?(0,i.jsx)(f.Ucs,{}):(0,i.jsx)(f.Vr3,{}),onClick:()=>P(!O),size:"small",variant:"outlined",children:[O?"Hide":"Show"," Filters"]})]})]}),(0,i.jsx)(_.A,{in:O,children:(0,i.jsxs)(g.default,{sx:{display:"flex",flexWrap:"wrap",gap:2,mb:2},children:[(0,i.jsxs)(S.A,{sx:{minWidth:200},children:[(0,i.jsx)(w.A,{children:"Planned By"}),(0,i.jsx)(b.A,{multiple:!0,value:z.plannedBy,onChange:et("plannedBy"),input:(0,i.jsx)(N.A,{label:"Planned By"}),renderValue:e=>(0,i.jsx)(g.default,{sx:{display:"flex",flexWrap:"wrap",gap:.5},children:e.map(e=>(0,i.jsx)(A.A,{label:e,size:"small",onDelete:()=>ea("plannedBy",e),onMouseDown:e=>{e.stopPropagation()}},e))}),children:W.plannedByOptions.map(e=>(0,i.jsx)(I.A,{value:e,children:e},e))})]}),(0,i.jsxs)(S.A,{sx:{minWidth:200},children:[(0,i.jsx)(w.A,{children:"Patient Care Area"}),(0,i.jsx)(b.A,{multiple:!0,value:z.patientCareArea,onChange:et("patientCareArea"),input:(0,i.jsx)(N.A,{label:"Patient Care Area"}),renderValue:e=>(0,i.jsx)(g.default,{sx:{display:"flex",flexWrap:"wrap",gap:.5},children:e.map(e=>(0,i.jsx)(A.A,{label:e,size:"small",onDelete:()=>ea("patientCareArea",e),onMouseDown:e=>{e.stopPropagation()}},e))}),children:W.patientCareAreas.map(e=>(0,i.jsx)(I.A,{value:e,children:e},e))})]})]})}),ei&&(0,i.jsxs)(g.default,{sx:{display:"flex",flexWrap:"wrap",gap:1},children:[(0,i.jsx)(v.default,{variant:"body2",sx:{mr:1,alignSelf:"center"},children:"Active filters:"}),z.plannedBy.map(e=>(0,i.jsx)(A.A,{label:"Planned By: ".concat(e),onDelete:()=>ea("plannedBy",e),size:"small",color:"primary",variant:"outlined"},"plannedBy-".concat(e))),z.patientCareArea.map(e=>(0,i.jsx)(A.A,{label:"Care Area: ".concat(e),onDelete:()=>ea("patientCareArea",e),size:"small",color:"primary",variant:"outlined"},"area-".concat(e)))]})]}),(0,i.jsx)(l.vP,{columns:el,data:{data:null!=ee?ee:[],page:H.page,per_page:H.pageSize,total_pages:U,totalEntries:K},searchText:X,setSearchString:Z,setPaginationModel:Y,paginationModel:H,loading:L,formatForMobileView:er||[],onSwitchChange:G,onRowClick:e=>R("/patient/".concat(e.id,"/profile"))}),(0,i.jsx)(u.w8,{patientuuid:a,visituuid:n,open:e,onClose:()=>t(!1)})]})},k=(0,s.A)(function(){return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.V,{title:"Patients waiting for Test & Results",link:"/dashboard"}),(0,i.jsxs)(l.Yr,{container:!0,children:[(0,i.jsx)(l.Yr,{xs:0,lg:0,item:!0}),(0,i.jsxs)(l.Yr,{xs:12,lg:12,sx:{display:"flex",flexDirection:"column",mx:"2ch"},item:!0,children:[(0,i.jsx)("br",{}),(0,i.jsx)("br",{}),(0,i.jsx)(r.sL,{children:"Patients waiting for Test & Results"}),(0,i.jsx)(r.VQ,{children:"This is a list of all patients that are waiting for their test results"}),(0,i.jsx)(r.kC,{sx:{p:0},children:(0,i.jsx)(D,{})})]}),(0,i.jsx)(l.Yr,{lg:0,item:!0})]})]})},[d.Ot.CLINICIAN,d.Ot.NURSE,d.Ot.ADMIN,d.Ot.STUDENT_CLINICIAN])},98624:(e,t,a)=>{"use strict";a.d(t,{V:()=>s});var i=a(95155),l=a(87295),r=a(72478),n=a(56164);let s=e=>{let{title:t,link:a}=e,{navigateTo:s}=(0,l.cq)(),d={fontFamily:"Inter",fontSize:"14px",fontWeight:400,lineHeight:"21px",letterSpacing:"0em",textAlign:"center",mx:"1ch"};return(0,i.jsxs)(r.jD,{sx:{display:"flex",justifyContent:"space-evenly",py:"1ch",borderBottom:"solid 1px #E6E6E6"},children:[(0,i.jsxs)(r.jD,{onClick:()=>s(a),sx:{display:"flex",cursor:"pointer"},children:[(0,i.jsx)(r.Th,{children:(0,i.jsx)(n.oWm,{})}),(0,i.jsx)(r.Th,{sx:d,children:"Go back"})]}),(0,i.jsx)(r.Th,{sx:d,children:t}),(0,i.jsxs)(r.jD,{sx:{display:"flex",alignItems:"center"},children:[(0,i.jsx)(n.M4e,{}),(0,i.jsx)(r.Th,{sx:d,children:"Need any help?"})]})]})}}},e=>{e.O(0,[9503,16,9344,8250,2225,3740,8320,3349,9306,2141,7861,2891,1412,4018,5068,6223,7774,2478,4008,5832,9625,3890,8441,1255,7358],()=>e(e.s=4870)),_N_E=e.O()}]);