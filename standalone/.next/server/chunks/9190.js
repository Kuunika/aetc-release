"use strict";exports.id=9190,exports.ids=[9190],exports.modules={29190:(e,a,i)=>{i.d(a,{U:()=>N,k:()=>g});var l=i(60687),t=i(75018),n=i(55330),r=i(44504),s=i(61939),o=i(62116),d=i(28274),m=i(79534),u=i(78590),c=i(24942),p=i(50772),b=i(30485),S=i(43210),E=i(62085),O=i(63705),h=i(28142),A=i(13923),R=i(60931),I=i(41512),T=i(42938);let v={name:"",formulation:"",medication_dose:0,medication_dose_unit:"",medication_route:"",medication_frequency:"",medication_duration:0,medication_duration_unit:""},x=[{id:T.W.TABLET,label:"Tablet"},{id:T.W.VIAL,label:"Vial"},{id:T.W.INTRAVENOUS,label:"Intravenous"},{id:T.W.POWDER,label:"Powder"},{id:T.W.SOLUTION,label:"Solution"},{id:T.W.EYE_OINTMENT,label:"Eye Ointment"},{id:T.W.CREAM,label:"Cream"},{id:T.W.EYE_DROPS,label:"Eye Drops"},{id:T.W.OINTMENT,label:"Ointment"},{id:T.W.INHALER,label:"Inhaler"},{id:T.W.SUPPOSITORY,label:"Suppository"},{id:T.W.PESSARY,label:"Pessary"},{id:T.W.SUSPENSION,label:"Suspension"},{id:T.W.SHAMPOO,label:"Shampoo"},{id:T.W.EAR_DROPS,label:"Ear Drops"},{id:T.W.EYE_PASTE,label:"Eye Paste"}],_=[{id:"STAT",label:"STAT"},{id:T.W.ONCE_A_DAY,label:"24 Hourly (OD) - Once a day "},{id:T.W.TWICE_A_DAY,label:"12 Hourly (BID) - Twice a day"},{id:T.W.THREE_TIMES_A_DAY,label:"8 Hourly (TID) - Three times a day"},{id:T.W.FOUR_TIMES_A_DAY,label:"6 Hourly (QID) - Four times a day"},{id:T.W.SIX_TIMES_A_DAY,label:"4 Hourly (OD) - Six times a day "},{id:T.W.ONCE_A_WEEK,label:"Once a week"},{id:T.W.ONCE_A_MONTH,label:"Once a month"},{id:T.W.OTHER,label:"Other"}],y=["Milligrams (mg)","Micrograms (\xb5g)","Grams (g)","International Units (IU)","Milliliters (ml)","Millimoles (mmol)"],W={subjective:{name:T.W.SUBJECTIVE,label:"Subjective",bold:!0},objective:{name:"objective",label:"Objective",type:"title",bold:!0,children:[{concept:T.W.MEDICAL_RECORD_OBSERVATIONS,label:"General/Other observation"},{concept:T.W.SYSTOLIC_BLOOD_PRESSURE,label:"Systolic"},{concept:T.W.DIASTOLIC_BLOOD_PRESSURE,label:"Diastolic"},{concept:T.W.PULSE_RATE,label:"Pulse Rate"},{concept:T.W.RESPIRATORY_RATE,label:"Respiratory Rate"},{concept:T.W.BLOOD_OXYGEN_SATURATION,label:"SPO2"},{concept:T.W.TEMPERATURE,label:"Temperature"}]},systolic:{child:!0,name:T.W.SYSTOLIC_BLOOD_PRESSURE,label:"Systolic"},diastolic:{child:!0,name:T.W.DIASTOLIC_BLOOD_PRESSURE,label:"Diastolic"},pulseRate:{child:!0,name:T.W.PULSE_RATE,label:"Pulse Rate"},respiratoryRate:{child:!0,name:T.W.RESPIRATORY_RATE,label:"Respiratory Rate"},spo:{child:!0,name:T.W.BLOOD_OXYGEN_SATURATION,label:"SPO2"},temperature:{child:!0,name:T.W.TEMPERATURE,label:"Temperature"},assessment:{name:T.W.ASSESSMENT,label:"Assessment"},plan:{name:T.W.PLAN,label:"Plan"},evaluation:{name:T.W.EVALUATION,label:"Evaluation"},replan:{name:T.W.REPLAN,label:"Replan"},proceduresConfig:{name:T.W.PROCEDURES,label:"Procedures",multiple:!0,type:"string",hasGroupMembers:!0,bold:!0},supportiveCareConfig:{name:T.W.SUPPORTIVE_CARE,label:"supportive Care",multiple:!0,type:"string",hasGroupMembers:!0,bold:!0}},N=W,j=[{value:T.W.INTRAVENOUS_CANNULATION,label:"Intravenous Cannulation"},{value:T.W.CATHETERIZATION_URETHRAL,label:"Urethral Catheterization"},{value:T.W.SUCTIONING,label:"Suctioning"},{value:T.W.OROPHARYNGEAL_AIRWAY_INSERTION,label:"Oropharyngeal Airway Insertion"},{value:T.W.NASOPHARYNGEAL_AIRWAY_INSERTION,label:"Nasopharyngeal Airway Insertion"},{value:T.W.LARYNGEAL_MASK_AIRWAY_INSERTION,label:"Laryngeal Mask Airway Insertion"},{value:T.W.NASOGASTRIC_TUBE_INSERTION,label:"Nasogastric Tube Insertion"},{value:T.W.OTHER,label:"Other (Specify)"}],f=[{value:T.W.WOUND_DRESSING,label:"Wound Dressing"},{value:T.W.PATIENT_EDUCATION,label:"Patient Education"},{value:T.W.COUNSELLING,label:"Counselling"},{value:T.W.FEEDING,label:"Feeding"},{value:T.W.OXYGENATION,label:"Oxygenation"},{value:T.W.TEPID_SPONGING,label:"Tepid Sponging"},{value:T.W.ELECTROCARDIOGRAPHY_MONITORING,label:"Electrocardiography (ECG) Monitoring"},{value:T.W.TURNING_PATIENTS,label:"Turning Patients"},{value:T.W.ORAL_CARE,label:"Oral Care"},{value:T.W.OTHER,label:"Other (Specify)"}],P=b.Ik().shape({[W.subjective.name]:b.Yj().required(W.subjective.label),[W.objective.name]:b.Yj().required(W.objective.label),[W.assessment.name]:b.Yj().required(W.assessment.label),[W.plan.name]:b.Yj().required(W.plan.label),[W.evaluation.name]:b.Yj().required(W.evaluation.label),[W.replan.name]:b.Yj().required(W.replan.label),procedures:b.YO().of(b.Ik().shape({key:b.Yj().required(),value:b.zM().required()})).transform(e=>Array.isArray(e)?e.filter(e=>!0===e.value):[]).min(1,"At least one procedure must be selected"),otherProcedureSpecify:b.Yj().nullable().when("procedures",{is:e=>e.some(e=>e.key===T.W.OTHER),then:e=>e.required("Please specify the other procedure")}),supportiveCare:b.YO().of(b.Ik().shape({key:b.Yj().required(),value:b.zM().required()})).transform(e=>Array.isArray(e)?e.filter(e=>!0===e.value):[]).min(1,"At least one supportive care option must be selected"),otherSupportiveCareSpecify:b.Yj().nullable().when("supportiveCare",{is:e=>e.some(e=>e.key===T.W.OTHER),then:e=>e.required("Please specify the other supportive care")}),[W.spo.name]:b.ai().min(0).max(100).required().label(W.spo.label),[W.respiratoryRate.name]:b.ai().min(0).max(90).required().label(W.respiratoryRate.label),[W.systolic.name]:b.ai().min(0).max(300).required().label(W.systolic.label),[W.diastolic.name]:b.ai().min(0).max(300).required().label(W.diastolic.label),[W.temperature.name]:b.ai().min(20).max(45).required().label(W.temperature.label)}),D=(0,n.f6)(W);D.medications=[v],D.procedures=[],D.supportiveCare=[],D.otherProcedureSpecify="",D.otherSupportiveCareSpecify="";let g=()=>{let{ServerTime:e}=(0,r.useServerTime)(),{activeVisit:a,patientId:i}=(0,s.gd)(),[b,N]=(0,S.useState)({}),g=(e,a)=>{N(i=>({...i,[e]:a}))},{mutate:C,isPending:M,isSuccess:U}=(0,o.jM)(),[Y,w]=(0,S.useState)({medications:[]}),[L,G]=(0,S.useState)([]),{medicationOptions:q,loadingDrugs:H}=(0,I.A)(),V=["Paracetamol","Ibuprofen","Diclofenac sodium 75mg/ml, 3ml","Diclofenac sodium Slow Release","Diclofenac sodium","Salbutamol","Salbutamol sulphate","Salbutamol solution for nebulising 5mg/ml","Salbutamol sulphate aerosol inhalation, 100mcg/dose, 200 doses","Oxytocin","Dextrose 50%,","Aspirin","Prednisolone","Diazepam"],[k,$]=(0,S.useState)({otherProcedure:!1,otherSupportiveCare:!1}),{navigateBack:B}=(0,s.cq)(),{handleSubmit:F}=(0,s.li)(T.fA.NURSING_CARE_NOTES,()=>B());(0,S.useEffect)(()=>{G(q.filter(e=>V.includes(e.label)))},[q]);let X=l=>{if(0===l.length)return;z(l);let t=e.getServerTimeString(),n=l.map(e=>({concept:T.W.DRUG_GIVEN,value:e.name,obsDateTime:t,groupMembers:[{concept:T.W.MEDICATION_FORMULATION,value:e.formulation,obsDateTime:t,coded:!0},{concept:T.W.MEDICATION_DOSE,value:e.medication_dose,obsDateTime:t},{concept:T.W.MEDICATION_DOSE_UNIT,value:e.medication_dose_unit,obsDateTime:t},{concept:T.W.MEDICATION_FREQUENCY,value:e.medication_frequency,coded:!0,obsDateTime:t},{concept:T.W.MEDICATION_DURATION,value:e.medication_duration,obsDateTime:t},{concept:T.W.MEDICATION_DURATION_UNIT,value:e.medication_duration_unit,obsDateTime:t},{concept:T.W.DESCRIPTION,value:"soapier",obsDateTime:t}]}));C({encounterType:T.fA.SOAPIER_PRESCRIPTION,visit:a,patient:i,encounterDatetime:t,obs:n}),Y.medications=[v]},z=l=>{let t=e.getServerTimeString(),n=l.map(a=>({concept:T.W.DRUG_GIVEN,value:a.name,obsDateTime:t,groupMembers:[{concept:T.W.MEDICATION_DOSE,value:a.medication_dose,obsDateTime:t},{concept:T.W.MEDICATION_ROUTE,value:a.medication_route,obsDatetime:e.getServerTimeString()},{concept:T.W.DESCRIPTION,value:"soapier",obsDateTime:t}]}));C({encounterType:T.fA.SOAPIER_DISPENSING,visit:a,patient:i,encounterDatetime:t,obs:n})},Z=async l=>{let t=e.getServerTimeString(),n=[{concept:T.W.PROCEDURES,value:T.W.PROCEDURES,obsDatetime:t,groupMembers:(l.procedures||[]).filter(e=>!0===e.value).map(e=>({concept:e.key,value:e.key===T.W.OTHER?l.otherProcedureSpecify:e.key,obsDatetime:t}))},{concept:T.W.SUPPORTIVE_CARE,value:T.W.SUPPORTIVE_CARE,obsDatetime:t,groupMembers:(l.supportiveCare||[]).filter(e=>!0===e.value).map(e=>({concept:e.key,value:e.key===T.W.OTHER?l.otherSupportiveCareSpecify:e.key,obsDatetime:t}))}];C({encounterType:T.fA.NURSING_CARE_NOTES,visit:a,patient:i,encounterDatetime:t,obs:n})};return(0,l.jsx)(l.Fragment,{children:(0,l.jsx)(R.h,{loading:M||H,children:(0,l.jsx)(t.PD,{initialValues:D,validationSchema:P,onSubmit:a=>{let{procedures:i,supportiveCare:l,medications:t,otherProcedureSpecify:r,otherSupportiveCareSpecify:s,...o}=a;X(t),Z({procedures:i,supportiveCare:l,otherProcedureSpecify:r,otherSupportiveCareSpecify:s}),F((0,n.gX)(o,e.getServerTimeString()))},submitButton:!1,children:({values:e,setFieldValue:a})=>(0,l.jsx)(l.Fragment,{children:(0,l.jsxs)(d.default,{children:[(0,l.jsxs)(m.default,{sx:{p:2,mb:2},children:[(0,l.jsx)(u.default,{variant:"h6",children:W.subjective.label}),(0,l.jsx)(t.A8,{label:"",name:W.subjective.name,multiline:!0,id:W.subjective.name,rows:3,sx:{width:"100%",mt:0}})]}),(0,l.jsxs)(m.default,{sx:{p:2,mb:2},children:[(0,l.jsx)(u.default,{variant:"h6",children:"Objective"}),(0,l.jsxs)("div",{style:{marginLeft:"50px"},children:[(0,l.jsx)(u.default,{children:W.objective.label}),(0,l.jsx)(t.A8,{label:"",name:W.objective.name,multiline:!0,id:W.objective.name,rows:3,sx:{width:"100%"}}),(0,l.jsx)(u.default,{children:"Vital signs"}),(0,l.jsxs)(t.m2,{children:[(0,l.jsx)(t.A8,{name:W.spo.name,label:W.spo.label,id:W.spo.name,sx:{width:"100%"},unitOfMeasure:"%"}),(0,l.jsx)(t.A8,{name:W.systolic.name,label:W.systolic.label,id:W.systolic.name,sx:{width:"100%"},unitOfMeasure:"mmHg"}),(0,l.jsx)(t.A8,{name:W.diastolic.name,label:W.diastolic.label,id:W.diastolic.name,sx:{width:"100%"},unitOfMeasure:"mmHg"}),(0,l.jsx)(t.A8,{name:W.respiratoryRate.name,label:W.respiratoryRate.label,id:W.respiratoryRate.name,sx:{width:"100%"},unitOfMeasure:"BPM"}),(0,l.jsx)(t.A8,{name:W.pulseRate.name,label:W.pulseRate.label,id:W.pulseRate.name,sx:{width:"100%"},unitOfMeasure:"BPM"}),(0,l.jsx)(t.A8,{name:W.temperature.name,label:W.temperature.label,id:W.temperature.name,sx:{width:"100%"},unitOfMeasure:"\xb0C"})]})]})]}),(0,l.jsxs)(m.default,{sx:{p:2,mb:2},children:[(0,l.jsx)(u.default,{variant:"h6",children:W.assessment.label}),(0,l.jsx)(t.A8,{label:"",name:W.assessment.name,multiline:!0,id:W.assessment.name,rows:3,sx:{width:"100%"}})]}),(0,l.jsxs)(m.default,{sx:{p:2,mb:2},children:[(0,l.jsx)(u.default,{variant:"h6",children:W.plan.label}),(0,l.jsx)(t.A8,{label:"",name:W.plan.name,multiline:!0,id:W.plan.name,rows:3,sx:{width:"100%"}})]}),(0,l.jsxs)(m.default,{sx:{p:2,mb:2},children:[(0,l.jsx)(u.default,{variant:"h6",sx:{mb:2},children:"Intervention/Implementation"}),(0,l.jsxs)("span",{style:{fontSize:"16px",fontWeight:"bold"},children:[" ","Non-pharmacological management"," "]}),(0,l.jsx)("div",{style:{maxWidth:"900px"},children:(0,l.jsxs)(t.GE,{direction:"row",children:[(0,l.jsxs)(t.jD,{sx:{bgcolor:"white",padding:"0.5ch",mb:"2ch",width:"90%"},children:[(0,l.jsx)("h4",{children:"Procedures"}),(0,l.jsx)(t.Z3,{name:"procedures",allowFilter:!1,options:j,getValue:e=>$(a=>({...a,otherProcedure:e.some(e=>e.key===T.W.OTHER&&e.value)}))}),k.otherProcedure&&(0,l.jsx)(t.A8,{id:"otherProcedureSpecify",label:"Specify Other Procedure",name:"otherProcedureSpecify",placeholder:"Specify the procedure"})]}),(0,l.jsxs)(t.jD,{sx:{bgcolor:"white",padding:"2ch",mb:"2ch",width:"90%"},children:[(0,l.jsx)("h4",{children:"Supportive Care"}),(0,l.jsx)(t.Z3,{name:"supportiveCare",allowFilter:!1,options:f,getValue:e=>$(a=>({...a,otherSupportiveCare:e.some(e=>e.key===T.W.OTHER&&e.value)}))}),k.otherSupportiveCare&&(0,l.jsx)(t.A8,{id:"otherSupportiveCareSpecify",label:"Specify Other Supportive Care",name:"otherSupportiveCareSpecify",placeholder:"Specify the care"})]})]})}),(0,l.jsx)("h4",{style:{marginBottom:"1ch"},children:"Pharmacological management"}),(0,l.jsx)(t.fP,{getValues:w}),(0,l.jsx)(E.ED,{name:"medications",children:({push:i,remove:n})=>(0,l.jsx)(O.A,{items:e.medications,setItems:e=>a("medications",e),newItem:v,renderFields:(e,i)=>(0,l.jsxs)(d.default,{sx:{display:"flex",alignItems:"center",gap:1,flexWrap:"wrap",width:"100%"},children:[(0,l.jsx)(t.el,{name:`medications[${i}].name`,label:"Medication Name",options:L,getValue:e=>a(`medications[${i}].name`,e),multiple:!1}),(0,l.jsx)(t.el,{name:`medications[${i}].formulation`,label:"Formulation",options:x,getValue:e=>a(`medications[${i}].formulation`,e),sx:{flex:1},multiple:!1}),(0,l.jsx)(t.pj,{id:`medications[${i}].medication_dose`,label:"Dose",name:`medications[${i}].medication_dose`,unitName:`medications[${i}].medication_dose_unit`,unitOptions:y,placeholder:"e.g., 500",inputIcon:(0,l.jsx)(h.gaX,{})}),b[i]?(0,l.jsx)(t.A8,{id:`medications[${i}].medication_frequency`,name:`medications[${i}].medication_frequency`,label:"Specify frequency",sx:{flex:1}}):(0,l.jsx)(t.el,{name:`medications[${i}].medication_frequency`,label:"Frequency",options:_,getValue:e=>{"Other"===e&&g(i,!0),a(`medications[${i}].medication_frequency`,e)},multiple:!1}),Y?.medications[i]?.medication_frequency!="STAT"&&(0,l.jsx)(t.pj,{id:`medications[${i}].medication_duration`,name:`medications[${i}].medication_duration`,unitName:`medications[${i}].medication_duration_unit`,label:"Duration",unitOptions:T.bH,placeholder:"e.g. 7",inputIcon:(0,l.jsx)(A.YmN,{}),sx:{flex:1}}),(0,l.jsx)(c.A,{id:`medications[${i}].medication_route`,name:`medications[${i}].medication_route`,label:"Route",fullWidth:!0,variant:"outlined"})]})})}),(0,l.jsx)("br",{})]}),(0,l.jsxs)(m.default,{sx:{p:2,mb:2},children:[(0,l.jsx)(u.default,{variant:"h6",children:W.evaluation.label}),(0,l.jsx)(t.A8,{label:"",name:W.evaluation.name,multiline:!0,id:W.evaluation.name,rows:3,sx:{width:"100%"}})]}),(0,l.jsxs)(m.default,{sx:{p:2,mb:2},children:[(0,l.jsx)(u.default,{variant:"h6",children:W.replan.label}),(0,l.jsx)(t.A8,{label:"",name:W.replan.name,multiline:!0,id:W.replan.name,rows:3,sx:{width:"100%"}})]}),(0,l.jsx)(p.A,{variant:"contained",type:"submit",children:"Submit"})]})})})})})}}};