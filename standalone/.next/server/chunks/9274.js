exports.id=9274,exports.ids=[9274],exports.modules={8313:(a,b,c)=>{"use strict";c.d(b,{A:()=>t});var d=c(38301),e=c(43249),f=c(2783),g=c(18168),h=c(68333),i=c(21317),j=c(11801),k=c(21124);let l=(0,j.A)((0,k.jsx)("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"}),"Person");var m=c(29565),n=c(33105);function o(a){return(0,n.Ay)("MuiAvatar",a)}(0,m.A)("MuiAvatar",["root","colorDefault","circular","rounded","square","img","fallback"]);var p=c(20385);let q=(0,g.Ay)("div",{name:"MuiAvatar",slot:"Root",overridesResolver:(a,b)=>{let{ownerState:c}=a;return[b.root,b[c.variant],c.colorDefault&&b.colorDefault]}})((0,h.A)(({theme:a})=>({position:"relative",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,width:40,height:40,fontFamily:a.typography.fontFamily,fontSize:a.typography.pxToRem(20),lineHeight:1,borderRadius:"50%",overflow:"hidden",userSelect:"none",variants:[{props:{variant:"rounded"},style:{borderRadius:(a.vars||a).shape.borderRadius}},{props:{variant:"square"},style:{borderRadius:0}},{props:{colorDefault:!0},style:{color:(a.vars||a).palette.background.default,...a.vars?{backgroundColor:a.vars.palette.Avatar.defaultBg}:{backgroundColor:a.palette.grey[400],...a.applyStyles("dark",{backgroundColor:a.palette.grey[600]})}}}]}))),r=(0,g.Ay)("img",{name:"MuiAvatar",slot:"Img",overridesResolver:(a,b)=>b.img})({width:"100%",height:"100%",textAlign:"center",objectFit:"cover",color:"transparent",textIndent:1e4}),s=(0,g.Ay)(l,{name:"MuiAvatar",slot:"Fallback",overridesResolver:(a,b)=>b.fallback})({width:"75%",height:"75%"}),t=d.forwardRef(function(a,b){let c=(0,i.b)({props:a,name:"MuiAvatar"}),{alt:g,children:h,className:j,component:l="div",slots:m={},slotProps:n={},imgProps:t,sizes:u,src:v,srcSet:w,variant:x="circular",...y}=c,z=null,A={...c,component:l,variant:x},B=function({crossOrigin:a,referrerPolicy:b,src:c,srcSet:e}){let[f,g]=d.useState(!1);return d.useEffect(()=>{if(!c&&!e)return;g(!1);let d=!0,f=new Image;return f.onload=()=>{d&&g("loaded")},f.onerror=()=>{d&&g("error")},f.crossOrigin=a,f.referrerPolicy=b,f.src=c,e&&(f.srcset=e),()=>{d=!1}},[a,b,c,e]),f}({...t,..."function"==typeof n.img?n.img(A):n.img,src:v,srcSet:w}),C=v||w,D=C&&"error"!==B;A.colorDefault=!D,delete A.ownerState;let E=(a=>{let{classes:b,variant:c,colorDefault:d}=a;return(0,f.A)({root:["root",c,d&&"colorDefault"],img:["img"],fallback:["fallback"]},o,b)})(A),[F,G]=(0,p.A)("img",{className:E.img,elementType:r,externalForwardedProps:{slots:m,slotProps:{img:{...t,...n.img}}},additionalProps:{alt:g,src:v,srcSet:w,sizes:u},ownerState:A});return z=D?(0,k.jsx)(F,{...G}):h||0===h?h:C&&g?g[0]:(0,k.jsx)(s,{ownerState:A,className:E.fallback}),(0,k.jsx)(q,{as:l,className:(0,e.A)(E.root,j),ref:b,...y,ownerState:A,children:z})})},14020:(a,b,c)=>{"use strict";c.d(b,{CF:()=>h,J$:()=>i,ec:()=>k,gw:()=>j,nu:()=>g});var d=c(30600),e=c(72124),f=c(21393);let g=()=>(0,e.n)({mutationFn:a=>{let b=a.role.map(a=>({name:a.id})),c={username:a.userName,password:a.password,person:{gender:"Male",age:47,birthdate:"1970-01-01T00:00:00.000+0100",birthdateEstimated:!1,dead:!1,deathDate:null,causeOfDeath:null,names:[{givenName:a.firstName,familyName:a.lastName}]},roles:b};return(0,d.kg)(c).then(a=>a.data)}}),h=()=>(0,f.I)({queryKey:["users"],queryFn:()=>(0,d.lo)().then(a=>a.data),refetchOnWindowFocus:!1,refetchOnMount:!1,refetchOnReconnect:!1}),i=a=>(0,f.I)({queryKey:["search",a],queryFn:()=>(0,d.OV)(a).then(a=>a.data),enabled:!1}),j=()=>(0,e.n)({mutationFn:a=>{let b={username:a.userName,roles:a.role.map(a=>({name:a.label})),password:a.password};return(0,d.TK)(a.userId,b).then(a=>a.data)}}),k=()=>(0,e.n)({mutationFn:a=>{let b={user:{current_password:a.password,password:a.newPassword}};return(0,d.f3)(a.userId,b).then(a=>a.data)}})},22566:(a,b,c)=>{"use strict";c.d(b,{A:()=>l});var d=c(21124),e=c(41640),f=c(82283),g=c(38301),h=c(65689),i=c(80350),j=c(24515),k=c(47721);function l(a,b){return function(c){let[i,j]=(0,g.useState)(!1),{navigateTo:l}=(0,f.cq)(),n=(0,h.R)(b,(0,k.O)());return i?n?(0,d.jsx)(a,{...c}):(0,d.jsx)(m,{}):(0,d.jsx)(e.OverlayLoader,{open:!i})}}let m=()=>(0,d.jsx)(i.jD,{sx:{width:"100%",height:"100vh",display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"#fff"},children:(0,d.jsx)(j.default,{src:"/403.jpg",height:500,width:500,alt:"403"})})},24486:(a,b,c)=>{"use strict";c.d(b,{O:()=>f});var d=c(70553),e=c(21393);let f=()=>(0,e.I)({queryKey:["roles"],queryFn:()=>(0,d.UK)("/roles?paginate=false").then(a=>a.data),enabled:!0})},27114:(a,b,c)=>{"use strict";c.d(b,{A:()=>n});var d=c(38301),e=c(43249),f=c(2783),g=c(18168),h=c(21317),i=c(29565),j=c(33105);function k(a){return(0,j.Ay)("MuiCardContent",a)}(0,i.A)("MuiCardContent",["root"]);var l=c(21124);let m=(0,g.Ay)("div",{name:"MuiCardContent",slot:"Root",overridesResolver:(a,b)=>b.root})({padding:16,"&:last-child":{paddingBottom:24}}),n=d.forwardRef(function(a,b){let c=(0,h.b)({props:a,name:"MuiCardContent"}),{className:d,component:g="div",...i}=c,j={...c,component:g},n=(a=>{let{classes:b}=a;return(0,f.A)({root:["root"]},k,b)})(j);return(0,l.jsx)(m,{as:g,className:(0,e.A)(n.root,d),ownerState:j,ref:b,...i})})},27124:(a,b,c)=>{Promise.resolve().then(c.bind(c,36316))},30600:(a,b,c)=>{"use strict";c.d(b,{OV:()=>h,TK:()=>j,f3:()=>k,kg:()=>f,kl:()=>i,lo:()=>g});var d=c(70553);let e="/users",f=a=>(0,d.vt)(a,e),g=()=>(0,d.UK)(`${e}?paginate=false`),h=a=>(0,d.UK)(e+"?paginate=false&username="+a),i=a=>(0,d.HD)(a,e),j=(a,b)=>(0,d.hc)(a,b,e),k=(a,b)=>(0,d.yo)(a,e,b)},36316:(a,b,c)=>{"use strict";c.r(b),c.d(b,{default:()=>d});let d=(0,c(97954).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/home/runner/work/hwis/hwis/aetc/app/config/layout.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/home/runner/work/hwis/hwis/aetc/app/config/layout.tsx","default")},37770:(a,b,c)=>{"use strict";c.r(b),c.d(b,{default:()=>h});var d=c(21124),e=c(80350),f=c(68096),g=c(82283);function h({children:a}){let{navigateTo:b}=(0,g.cq)(),c=[{label:"users",icon:(0,d.jsx)(f.YXz,{}),link:"/config"},{label:"DDE merge",icon:(0,d.jsx)(f.Z3s,{}),link:"/config/dde"},{label:"Printers",icon:(0,d.jsx)(f.n4o,{}),link:"/config/printers"}];return(0,d.jsx)(d.Fragment,{children:(0,d.jsxs)(e.Yr,{sx:{mt:"10ch"},container:!0,children:[(0,d.jsx)(e.Yr,{item:!0,xs:0,lg:2}),(0,d.jsx)(e.Yr,{item:!0,xs:12,lg:8,children:(0,d.jsxs)(e.jD,{display:"flex",children:[(0,d.jsx)(e.jD,{sx:{width:"20%"},children:c.map(a=>(0,d.jsxs)(e.jD,{onClick:()=>b(a.link),sx:{display:"flex",justifyContent:"start",alignItems:"center",borderRadius:"5px",p:"1ch",textTransform:"capitalize",cursor:"pointer","&:hover":{backgroundColor:"#DDE0E5"}},children:[a.icon,(0,d.jsx)(e.Th,{ml:"2ch",variant:"body2",children:a.label})]}))}),(0,d.jsx)(e.jD,{sx:{width:"80%",ml:"1ch",minHeight:"100vh"},children:a})]})}),(0,d.jsx)(e.Yr,{item:!0,xs:0,lg:2})]})})}},60499:(a,b,c)=>{"use strict";c.d(b,{q:()=>D,H:()=>w});var d=c(21124),e=c(82283),f=c(14020),g=c(81637),h=c(30902),i=c(37674),j=c(82666),k=c(30818),l=c(27114),m=c(8313),n=c(79515),o=c(53773),p=c(41893),q=c(48875),r=c(66131),s=c(38301);let t=(0,c(11801).A)((0,d.jsx)("path",{d:"M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5M12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5m0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3"}),"Visibility");var u=c(12033);let v=a=>{let b=0;for(let c=0;c<a.length;c++)b=a.charCodeAt(c)+((b<<5)-b);let c=b%360;return`hsl(${c}, 70%, 80%)`},w=()=>{let{navigateTo:a}=(0,e.cq)(),{data:b,isLoading:c}=(0,f.CF)(),[w,x]=(0,s.useState)(""),[y,z]=(0,s.useState)(1),A=(0,s.useMemo)(()=>b?b.filter(a=>{let b=`${a?.person?.names[0]?.given_name} ${a?.person?.names[0]?.family_name}`.toLowerCase();return a?.username?.toLowerCase().includes(w.toLowerCase())||b.includes(w.toLowerCase())}):[],[b,w]),B=Math.ceil(A.length/8),C=A.slice((y-1)*8,8*y);return c?(0,d.jsx)(g.default,{display:"flex",justifyContent:"center",mt:4,children:(0,d.jsx)(h.A,{})}):(0,d.jsxs)(g.default,{children:[(0,d.jsx)(g.default,{mb:2,display:"flex",justifyContent:"space-between",children:(0,d.jsx)(i.A,{size:"small",placeholder:"Search user...",value:w,onChange:a=>{z(1),x(a.target.value)},sx:{width:"300px"}})}),(0,d.jsx)(j.default,{container:!0,spacing:2,children:C.map(b=>{let c=b?.uuid,e=b?.user_roles?.map(a=>a?.role?.role).filter(Boolean)||[],f=b?.person?.names[0]?.given_name||"",h=b?.person?.names[0]?.family_name||"",i=b?.username||"User";return(0,d.jsx)(j.default,{item:!0,xs:12,sm:6,md:4,lg:3,children:(0,d.jsxs)(k.A,{sx:{borderRadius:2,boxShadow:"0 2px 8px rgba(0,0,0,0.08)",height:"100%",display:"flex",flexDirection:"column"},children:[(0,d.jsxs)(l.A,{sx:{flexGrow:1},children:[(0,d.jsxs)(g.default,{display:"flex",alignItems:"center",mb:1,children:[(0,d.jsx)(m.A,{sx:{bgcolor:v(i),mr:2},children:i.charAt(0).toUpperCase()}),(0,d.jsx)(n.default,{variant:"h6",fontWeight:600,children:i})]}),(0,d.jsxs)(n.default,{variant:"body2",color:"text.secondary",children:[f," ",h]}),(0,d.jsx)(o.A,{direction:"row",spacing:1,flexWrap:"wrap",mt:1,children:e.length>0?e.map((a,b)=>(0,d.jsx)(p.A,{label:a,size:"small",sx:{backgroundColor:v(a),fontSize:"12px"}},b)):(0,d.jsx)(n.default,{variant:"body2",color:"text.secondary",children:"â€” No roles"})})]}),(0,d.jsxs)(g.default,{sx:{display:"flex",justifyContent:"flex-end",gap:1,p:1},children:[(0,d.jsx)(q.default,{color:"primary",size:"small",onClick:()=>{},children:(0,d.jsx)(t,{fontSize:"small"})}),(0,d.jsx)(q.default,{color:"secondary",size:"small",onClick:()=>a(`config/users/${c}`),children:(0,d.jsx)(u.A,{fontSize:"small"})})]})]})},c)})}),B>1&&(0,d.jsx)(g.default,{display:"flex",justifyContent:"center",mt:3,children:(0,d.jsx)(r.A,{count:B,page:y,onChange:(a,b)=>z(b),color:"primary"})})]})};var x=c(24486),y=c(80350),z=c(48936),A=c(68730);let B={userName:{name:"userName",label:"Username"},firstName:{name:"firstName",label:"First Name"},lastName:{name:"lastName",label:"Last Name"},password:{name:"password",label:"Password"},passwordConfirmation:{name:"passwordConfirmation",label:"Password Confirmation"},role:{name:"role",label:"Roles"}},C=z.Ik({[B.userName.name]:z.Yj().required().label(B.userName.label),[B.firstName.name]:z.Yj().required().label(B.firstName.label),[B.lastName.name]:z.Yj().required().label(B.lastName.label),[B.password.name]:z.Yj().required().label(B.password.label),[B.role.name]:z.YO().required().label(B.role.label),[B.passwordConfirmation.name]:z.Yj().required().oneOf([z.KR(B.password.name)],"Passwords must match").label(B.passwordConfirmation.label)}),D=({initialValues:a,onSubmit:b})=>{let{isLoading:c,data:e}=(0,x.O)(),[g,h]=(0,s.useState)(""),{refetch:i,data:j,isFetching:k}=(0,f.J$)(g);(0,s.useEffect)(()=>{g&&i()},[g]);let l=j?.length==0?"username is available":"username already taken";return(0,d.jsxs)(y.PD,{initialValues:a,validationSchema:C,onSubmit:b,submitButton:!1,children:[(0,d.jsx)(y.A8,{name:B.userName.name,label:B.userName.label,id:B.userName.name,sx:{width:"100%"},getValue:a=>h(a)}),k&&(0,d.jsx)(E,{}),g?.length>0&&!k&&(0,d.jsx)(n.default,{fontWeight:600,variant:"body1",my:"1ch",children:l}),(0,d.jsxs)(y.jD,{sx:{display:"flex"},children:[(0,d.jsx)(y.A8,{name:B.password.name,label:B.password.label,id:B.password.name,type:"password",sx:{width:"100%",mr:"1ch"}}),(0,d.jsx)(y.A8,{name:B.passwordConfirmation.name,label:B.passwordConfirmation.label,id:B.passwordConfirmation.name,type:"password",sx:{width:"100%"}})]}),(0,d.jsxs)(y.jD,{sx:{display:"flex"},children:[(0,d.jsx)(y.A8,{name:B.firstName.name,label:B.firstName.label,id:B.firstName.name,sx:{width:"100%",mr:"1ch"}}),(0,d.jsx)(y.A8,{name:B.lastName.name,label:B.lastName.label,id:B.lastName.name,sx:{width:"100%"}})]}),(0,d.jsx)(y.el,{label:"Roles",name:B.role.name,options:e?e.map(a=>({id:a.role,label:a.role})):[]}),(0,d.jsx)(A.A,{variant:"contained",disabled:j&&j?.length>0,type:"submit",children:"Submit"})]})};function E(){return(0,d.jsx)(g.default,{sx:{display:"flex"},children:(0,d.jsx)(h.A,{})})}},86804:(a,b,c)=>{Promise.resolve().then(c.bind(c,37770))}};