(()=>{var e={};e.id=3164,e.ids=[3164],e.modules={3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},7304:(e,r,t)=>{"use strict";t.d(r,{C:()=>n});var s=t(43210),a=t(76831);let n=()=>{let{data:e,isLoading:r}=(0,a.X)("Service areas"),[t,n]=(0,s.useState)([]);return(0,s.useEffect)(()=>{if(e){let r=e.map(e=>({label:e.name,id:e.uuid}));n(r),r.find(e=>"Other"===e.label)}},[e]),{serviceAreaOptions:t,serviceAreaLoading:r,serviceAreas:e}}},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},12412:e=>{"use strict";e.exports=require("assert")},15829:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>l});var s=t(60687),a=t(17847),n=t(95602),i=t(61939);function l(){let{navigateTo:e}=(0,i.cq)(),{params:r}=(0,i.KU)();return(0,s.jsx)(s.Fragment,{children:(0,s.jsx)(a.f,{title:"Prescreening",children:(0,s.jsx)(n.O,{onSubmit:e=>{console.log({values:e})}})})})}},17847:(e,r,t)=>{"use strict";t.d(r,{f:()=>i});var s=t(60687),a=t(75018),n=t(7799);function i({children:e,title:r,rightChildComponent:t,leftChildComponent:i,leftGridSize:l=2,middleGridSize:o=7,rightGridSize:p=3,showBackButton:u=!0}){return(0,s.jsxs)(a.Yr,{container:!0,spacing:1,children:[(0,s.jsx)(a.Yr,{item:!0,lg:l,md:1,children:i}),(0,s.jsx)(a.Yr,{item:!0,lg:o,md:10,sx:{padding:"2ch",mt:"2ch",width:"100%"},children:(0,s.jsxs)(a.sc,{elevation:0,sx:{padding:"2ch",mt:"2ch"},children:[u&&(0,s.jsx)(n.oq,{}),u&&(0,s.jsx)("br",{}),(0,s.jsx)(a.Th,{variant:"h4",color:"gray",children:r}),(0,s.jsx)("br",{}),e]})}),(0,s.jsx)(a.Yr,{item:!0,lg:p,md:1,children:t})]})}},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},21820:e=>{"use strict";e.exports=require("os")},27910:e=>{"use strict";e.exports=require("stream")},28354:e=>{"use strict";e.exports=require("util")},29021:e=>{"use strict";e.exports=require("fs")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},33873:e=>{"use strict";e.exports=require("path")},41942:(e,r,t)=>{"use strict";t.r(r),t.d(r,{GlobalError:()=>i.a,__next_app__:()=>d,pages:()=>u,routeModule:()=>c,tree:()=>p});var s=t(65239),a=t(48088),n=t(88170),i=t.n(n),l=t(30893),o={};for(let e in l)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>l[e]);t.d(r,o);let p={children:["",{children:["prescreening",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,75191)),"/Users/pk/App/hwis/aetc/app/prescreening/page.tsx"]}]},{metadata:{icon:[async e=>(await Promise.resolve().then(t.bind(t,46055))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(t.bind(t,20800)),"/Users/pk/App/hwis/aetc/app/layout.tsx"],error:[()=>Promise.resolve().then(t.bind(t,52608)),"/Users/pk/App/hwis/aetc/app/error.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,57398,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(t.t.bind(t,89999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(t.t.bind(t,65284,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(t.bind(t,46055))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]}.children,u=["/Users/pk/App/hwis/aetc/app/prescreening/page.tsx"],d={require:t,loadChunk:()=>Promise.resolve()},c=new s.AppPageRouteModule({definition:{kind:a.RouteKind.APP_PAGE,page:"/prescreening/page",pathname:"/prescreening",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:p}})},46055:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>a});var s=t(31658);let a=async e=>[{type:"image/x-icon",sizes:"305x298",url:(0,s.fillMetadataSegment)(".",await e.params,"favicon.ico")+""}]},55330:(e,r,t)=>{"use strict";t.d(r,{iE:()=>a,Zt:()=>u,iL:()=>p,f6:()=>l,gX:()=>o,ZM:()=>d,k$:()=>c}),t(96851);var s=t(77567);let a=({title:e,text:r,icon:t,onConfirm:a,confirmButtonText:n,cancelButtonText:i="Cancel"})=>{s.A.fire({title:e,text:r,icon:t,showCancelButton:!0,confirmButtonColor:"#006401",confirmButtonText:n,cancelButtonText:i}).then(e=>{e.isConfirmed&&a()})};var n=t(42938),i=t(88794);let l=e=>Object.keys(e).reduce((r,t)=>(r[e[t].name]="",r),{}),o=(e,r)=>Object.keys(e).map(t=>({concept:t,value:e[t],obsDatetime:r})),p=(e,r,t)=>{let s=Object.keys(e).map(r=>({concept:e[r].name,label:e[r].label})),a=r.map(e=>({concept:e.id,label:e.label}));return[...s,...t.map(e=>({concept:e.value,label:e.label})),...a]},u=async e=>(await i.Fh.initialize(),e.map(e=>({concept:n.W.IMAGE_PART_NAME,value:e.label,obsDateTime:i.Fh.getServerTimeString(),groupMembers:e.formData.obs}))),d=(e,r,t,s=!1)=>Array.isArray(e)?e.map(e=>({concept:r,value:e.id,obsDatetime:t})):[],c=async(e,r,t)=>(await i.Fh.initialize(),Object.entries(r).map(([r,s])=>{let a=Object.keys(e).find(t=>e[t].name===r);if(!a)return null;let n=e[a].name,l=e[a].coded;return Array.isArray(s)&&s.every(e=>e&&void 0!==e.id)?s.map(e=>({key:n,value:e.id,coded:l})):{concept:n,value:s,coded:l,obsDatetime:t||i.Fh.getServerTimeString()}}).flat().filter(Boolean))},55511:e=>{"use strict";e.exports=require("crypto")},55591:e=>{"use strict";e.exports=require("https")},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},74075:e=>{"use strict";e.exports=require("zlib")},75191:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>s});let s=(0,t(12907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/Users/pk/App/hwis/aetc/app/prescreening/page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/pk/App/hwis/aetc/app/prescreening/page.tsx","default")},76831:(e,r,t)=>{"use strict";t.d(r,{X:()=>n});var s=t(62116),a=t(29494);let n=e=>{let r=async()=>{let r=await (0,s.P$)(e);return r.data?.length?r.data[0].set_members.map(({names:e})=>({name:e[0]?.name||"Unknown",uuid:e[0]?.uuid||"N/A"})):[]};return(0,a.I)({queryKey:[e],queryFn:r,enabled:!!e})}},79551:e=>{"use strict";e.exports=require("url")},81630:e=>{"use strict";e.exports=require("http")},83997:e=>{"use strict";e.exports=require("tty")},88350:(e,r,t)=>{Promise.resolve().then(t.bind(t,15829))},93078:(e,r,t)=>{Promise.resolve().then(t.bind(t,75191))},94735:e=>{"use strict";e.exports=require("events")},95602:(e,r,t)=>{"use strict";t.d(r,{O:()=>c});var s=t(60687),a=t(43210),n=t(75018),i=t(30485),l=t(55330),o=t(42938),p=t(7304);let u={referred:{name:o.W.IS_PATIENT_REFERRED,label:"Is the patient referred?"},urgent:{name:o.W.IS_SITUATION_URGENT,label:" Is the situation urgent?"},Referred:{name:o.W.PATIENT_REFERRED_TO,label:"Patient Referred to"}},d=i.Ik({[u.referred.name]:i.Yj().required().label(u.referred.label),[u.urgent.name]:i.Yj().required().label(u.urgent.label),[u.Referred.name]:i.Yj().label(u.Referred.label)});function c({onSubmit:e}){let{serviceAreaOptions:r}=(0,p.C)(),[t,i]=(0,a.useState)({}),c=[{label:"Yes",value:o._Y},{label:"No",value:o.NO}],m=r.map(e=>({id:e.label,label:e.label})),b=t[u.referred.name]==o._Y?m:m.filter(e=>"OPD 2"!==e.id);return(0,s.jsxs)(n.PD,{validationSchema:d,initialValues:(0,l.f6)(u),onSubmit:e,children:[(0,s.jsx)(n.fP,{getValues:i}),(0,s.jsxs)(n.Vp,{children:[(0,s.jsx)(n.b1,{name:u.referred.name,label:u.referred.label,options:c}),(0,s.jsx)(n.b1,{name:u.urgent.name,label:u.urgent.label,options:[...c,{label:"Elective",value:o.W.ELECTIVE}]})]}),t[u.urgent.name]==o.NO&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("br",{}),(0,s.jsx)(n.el,{name:u.Referred.name,label:u.Referred.label,options:b,multiple:!1,sx:{mr:"1ch"}})]}),(t[u.urgent.name]==o._Y||t[u.urgent.name]==o.W.ELECTIVE)&&(0,s.jsx)(n.bL,{message:"Proceed with registration"})]})}}};var r=require("../../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),s=r.X(0,[4447,6724,346,1658,485,7567,1146],()=>t(41942));module.exports=s})();