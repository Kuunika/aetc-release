"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9487],{4154:(e,t,l)=>{l.r(t),l.d(t,{default:()=>s});var r=l(95155),n=l(12115),a=l(22483);l(41470);var i=l(99284),o=l(8363);let s=e=>{let{onICD11Selection:t,iNo:l,label:s}=e;return(0,n.useEffect)(()=>(a.Handler.configure({apiServerUrl:"http://10.43.32.12:8382",wordsAvailable:!1,autoBind:!1},{selectedEntityFunction:e=>{console.log("Entity selected:",e),t&&t(e),a.Handler.clear(l)}}),a.Handler.bind(l),()=>{a.Handler.clear(l)}),[t,l]),(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{style:{position:"relative",width:"full"},children:[(0,r.jsx)(i.A,{sx:{mb:"1ch",fontSize:"0.76rem",color:"text.secondary"},children:s}),(0,r.jsx)(o.zfp,{style:{position:"absolute",left:"10px",top:"60%",transform:"translateY(-50%)",cursor:"pointer",color:"gray"}}),(0,r.jsx)("input",{type:"text",className:"ctw-input",autoComplete:"on","data-ctw-ino":l,style:{marginBottom:"1ch",paddingInline:"3ch",fontSize:".96rem",color:"text.secondary",height:"48px",width:"100%",borderRadius:"5px"}})]}),(0,r.jsx)("div",{className:"ctw-window",style:{background:"white",marginLeft:"40px",position:"relative",zIndex:9999},"data-ctw-ino":l})]})}},4183:(e,t,l)=>{l.r(t),l.d(t,{FormDatePickerToday:()=>j});var r=l(95155),n=l(30832),a=l.n(n),i=l(9952),o=l(77952),s=l(32987),d=l(12115),c=l(48453),u=l(52269),h=l(99284),x=l(73816),p=l(53494),m=l(39347),f=l(59487),g=l(93431),v=l(15843);let j=e=>{let{name:t,label:l,width:n="25ch",sx:j,size:b="medium",getValue:y,disabled:C=!1,onAddClick:w}=e,{value:A,setFieldValue:S,initialValues:k,errorMessage:F}=(0,c.W)(t),[T,I]=(0,d.useState)(!1),[E,z]=(0,d.useState)(k&&"object"==typeof k&&k[t]?a()(k[t]):null);(0,d.useEffect)(()=>{y&&y(A)},[A]);let B=()=>{C||I(!0)};return(0,r.jsx)(o.$,{dateAdapter:i.R,children:(0,r.jsxs)(u.default,{sx:{display:"flex",flexDirection:"column",width:n},children:[(0,r.jsx)(h.A,{sx:{mb:"1ch",fontSize:"0.76rem",color:"text.secondary"},children:l}),(0,r.jsx)(s.l,{value:E,open:T,onOpen:()=>I(!0),onClose:()=>I(!1),views:["year","month","day"],sx:{backgroundColor:"white","& fieldset":{borderRadius:"5px"},...j,width:"100%"},slotProps:{textField:{onClick:B,InputProps:{startAdornment:(0,r.jsx)(x.A,{position:"start",sx:{display:"flex",alignItems:"center",mr:1},children:(0,r.jsx)(p.default,{edge:"start",onClick:B,disabled:C,size:"small",children:(0,r.jsx)(g.A,{})})}),endAdornment:(0,r.jsxs)(x.A,{position:"end",sx:{display:"flex",alignItems:"center"},children:[w&&(0,r.jsx)(p.default,{edge:"end",onClick:w,disabled:C,size:"small",sx:{mr:1},children:(0,r.jsx)(v.A,{})}),(0,r.jsx)(m.A,{variant:"contained",color:"primary",onClick:e=>{e.stopPropagation();let l=a()();z(l),S(t,l.format("YYYY-MM-DD")),I(!1)},disabled:C,size:"small",sx:{mr:1,textTransform:"none"},children:"Today"})]})}}},onChange:(e,l)=>{null===l.validationError&&"day"===l.view&&(z(e),S(t,e?a()(e).format("YYYY-MM-DD"):null),I(!1))},disabled:C}),(0,r.jsx)(f.Th,{color:"red",variant:"subtitle2",children:F})]})})}},5154:(e,t,l)=>{l.r(t),l.d(t,{DisplayEncounterCreator:()=>o});var r=l(95155),n=l(66766),a=l(83436),i=l(59487);let o=e=>{var t;let{patientId:l,encounterType:o}=e,{data:s,isLoading:d}=(0,a.$O)(l);if(d)return(0,r.jsx)(n.default,{src:"/loader.svg",width:20,height:20,alt:"loader"});let c=null==s?void 0:s.filter(e=>e.encounter_type.uuid==o);return c?(0,r.jsx)(i.Th,{children:null==(t=c[(null==c?void 0:c.length)-1])?void 0:t.created_by}):""}},8541:(e,t,l)=>{l.r(t),l.d(t,{CheckboxesGroup:()=>u});var r=l(95155),n=l(12115),a=l(77498),i=l(69439),o=l(54102),s=l(83025),d=l(43388),c=l(48453);function u(e){let{options:t,name:l,getValue:u,allowFilter:h=!0,disabled:x=!1}=e,[p,m]=(0,n.useState)({}),[f,g]=(0,n.useState)(!1),{setFieldValue:v,hasError:j,errorMessage:b,value:y}=(0,c.W)(l),[C,w]=(0,n.useState)(!1),A=(0,n.useRef)(!1);(0,n.useEffect)(()=>{let e={};for(let l=0;l<t.length;l++)e[t[l].value]=!1;m(e),w(!0)},[]),(0,n.useEffect)(()=>{if(C&&!A.current&&y&&Array.isArray(y)){let e={},t=!1;y.forEach(l=>{e[l.key]=l.value,p[l.key]!==l.value&&(t=!0)}),t&&m(e)}},[y,C]),(0,n.useEffect)(()=>{h&&y&&Array.isArray(y)&&((null==y?void 0:y.filter(e=>null==e?void 0:e.value).length)==2?g(!0):g(!1))},[y]),(0,n.useEffect)(()=>{C&&(A.current=!0,v(l,Object.keys(p).map(e=>({key:e,value:p[e]}))),setTimeout(()=>{A.current=!1},0))},[p,C]);let S=e=>{m({...p,[e.target.value]:e.target.checked})};return(0,n.useEffect)(()=>{u&&u(y)},[y,p]),(0,r.jsxs)(a.A,{error:j,name:l,component:"fieldset",variant:"standard",children:[(0,r.jsx)(i.A,{children:t.map(e=>(0,r.jsx)(o.default,{control:(0,r.jsx)(d.default,{disabled:x||f&&!p[e.value],value:e.value,checked:p[e.value]||!1,onChange:S,name:e.value}),label:e.label},e.value))}),(0,r.jsx)(s.default,{children:b})]})}},9311:(e,t,l)=>{l.r(t),l.d(t,{FormContainer:()=>a});var r=l(95155),n=l(59487);let a=e=>{let{children:t}=e;return(0,r.jsxs)(n.Yr,{container:!0,children:[(0,r.jsx)(n.Yr,{item:!0,xs:0,lg:1}),(0,r.jsxs)(n.Yr,{item:!0,xs:12,lg:10,children:[(0,r.jsx)("br",{}),(0,r.jsx)("br",{}),t]})]})}},10651:(e,t,l)=>{l.r(t),l.d(t,{PatientInfoTab:()=>s});var r=l(95155),n=l(6314),a=l(70482),i=l(9890),o=l(59487);let s=()=>{var e,t;let{params:l}=(0,a.KU)(),{data:s,isLoading:c}=(0,i.GN)(null==l?void 0:l.id);return(0,r.jsxs)(o.sc,{sx:{display:"flex",flexWrap:"wrap",justifyContent:{xs:"center",md:"space-evenly"},gap:"16px",padding:{lg:"24px 108px",xs:"24px 20px"},backgroundColor:"#fff",borderBottom:"1px solid #B3B3B3",boxShadow:"0px 8px 24px 0px #084A231A",borderRadius:"8px"},children:[(0,r.jsx)(d,{label:"Full Name",value:"".concat(null==s?void 0:s.given_name," ").concat(null==s?void 0:s.family_name)}),(0,r.jsx)(d,{label:"ID",value:null!=(t=null==s||null==(e=s.identifiers[0])?void 0:e.identifier)?t:""}),(0,r.jsx)(d,{label:"Age",value:"".concat((0,n.Cb)(null==s?void 0:s.birthdate),"yr (").concat(null==s?void 0:s.birthdate,")")}),(0,r.jsx)(d,{label:"Category",value:"Referral"}),(0,r.jsx)(d,{label:"Gender",value:s?null==s?void 0:s.gender:""})]})},d=e=>{let{label:t,value:l,sx:n}=e;return(0,r.jsxs)(o.jD,{sx:{display:"flex",flexDirection:"column",alignItems:"flex-start",gap:"4px",...n},children:[(0,r.jsxs)(o.Th,{sx:{fontFamily:"Inter",fontSize:{xs:"12px",md:"14px"},fontWeight:400,lineHeight:"21px",letterSpacing:"0em",textAlign:"left",color:"#6B7280"},children:[t,":"]}),(0,r.jsx)(o.Th,{sx:{fontFamily:"Inter",fontSize:{xs:"14px",md:"16px"},fontWeight:500,lineHeight:"20px",letterSpacing:"0em",textAlign:"left",color:"#111827"},children:l})]})}},11508:(e,t,l)=>{l.r(t),l.d(t,{SelectInputField:()=>u});var r=l(95155),n=l(12115),a=l(52269),i=l(99284),o=l(50095),s=l(77498),d=l(26403),c=l(66118);let u=e=>{let{name:t,id:l,label:u,selectItems:h,sx:x,getValue:p,size:m="medium",width:f="100%"}=e,{value:g,handleChange:v,hasError:j}=(0,c.useFormikField)(t);return(0,n.useEffect)(()=>{p&&p(g)},[g]),(0,r.jsx)(a.default,{sx:{my:"2.3ch",width:f,...x},children:(0,r.jsxs)(s.A,{fullWidth:!0,children:[(0,r.jsx)(i.A,{sx:{backgroundColor:"white"},id:l,children:u}),(0,r.jsx)(d.A,{size:m,name:t,labelId:l,id:l,value:g,label:u,onChange:v,error:j,children:h.map(e=>{let{value:t,name:l}=e;return(0,r.jsx)(o.A,{value:t,children:l},l)})})]})})}},13067:(e,t,l)=>{l.r(t),l.d(t,{FormTimePicker:()=>u});var r=l(95155),n=l(30832),a=l.n(n),i=l(9952),o=l(77952),s=l(40727),d=l(12115),c=l(48453);let u=e=>{let{name:t,label:l,width:n="100%",sx:u,getValue:h,disabled:x=!1}=e,{value:p,setFieldValue:m}=(0,c.W)(t);return(0,d.useEffect)(()=>{h&&h(p)},[p]),(0,r.jsx)(o.$,{dateAdapter:i.R,children:(0,r.jsx)(s.A,{timeSteps:{hours:1,minutes:1,seconds:1},sx:{width:n,my:"1ch",mr:"1ch","& fieldset":{borderRadius:"10px"},...u},label:l,onChange:e=>{m(t,a()(e).format("HH:mm:ss"))},disabled:x})})}},14120:(e,t,l)=>{l.d(t,{bJ:()=>x,AU:()=>p,Ov:()=>f,bW:()=>m});var r=l(49262),n=l(33764),a=l(44919);let i="/people",o=e=>(0,a.vt)(e,i),s=e=>(0,a.vt)(e,"/relationships"),d=e=>(0,a.UK)(i+"/search",e+"&paginate=false");var c=l(26715),u=l(5041),h=l(19373);let x=()=>{let{ServerTime:e}=(0,r.useServerTime)(),t=(0,c.jE)();return(0,u.n)({mutationFn:t=>o({names:[{givenName:t.nextOfKinFirstName,familyName:t.nextOfKinLastName}],birthdate:e.getServerTimeString()}).then(e=>e.data),onSuccess:e=>{t.invalidateQueries({})}})},p=()=>{let e=async e=>s({person_a:e.patient,person_b:e.person,relationship:e.nextOfKinRelationship}).then(e=>e.data);return(0,u.n)({mutationFn:e})},m=e=>{let t=e=>{let t=e.firstName,l=e.lastName,r=e.gender;return d("given_name=".concat(t,"&family_name=").concat(l,"&gender=").concat(r,"&middle_name&paginate=false")).then(e=>e.data.map(e=>({person_id:e.person_id,uuid:e.uuid,given_name:e.names[0].given_name,family_name:e.names[0].family_name,gender:e.gender,birthdate:e.birthdate})))};return(0,h.I)({queryKey:["search"],queryFn:()=>t(e),enabled:!1})},f=e=>{let t=e=>(0,n.cv)(e).then(e=>e.data);return(0,h.I)({queryKey:["search_npid",e],queryFn:()=>t(e),enabled:!1})}},14352:(e,t,l)=>{l.r(t),l.d(t,{PatientTableList:()=>b,PatientTableListServer:()=>y});var r=l(95155),n=l(70482),a=l(6314),i=l(81063),o=l(52269),s=l(9670),d=l(67569),c=l(68086),u=l(54102),h=l(9520),x=l(32582),p=l(39347),m=l(12115);let f=e=>{let{gender:t,visitNumber:l,firstName:n,lastName:a,actor:d,actionName:c,arrivalTime:u,waitingTime:h,aggregate:x,action:p,age:m}=e;return(0,r.jsxs)(i.default,{sx:{display:"flex",p:"1ch",m:"1ch"},children:[(0,r.jsxs)(o.default,{sx:{flex:"0.2"},children:[(0,r.jsx)(s.default,{variant:"h6",children:"Visit No"}),(0,r.jsx)(s.default,{variant:"h4",children:l})]}),(0,r.jsxs)(o.default,{sx:{flex:"0.6"},children:[(0,r.jsxs)(o.default,{sx:{display:"flex",alignItems:"center"},children:[(0,r.jsx)(s.default,{variant:"h4",children:"".concat(n," ").concat(a)}),(0,r.jsxs)(s.default,{variant:"h4",children:["(","".concat(t[0]),")"]})]}),(0,r.jsxs)(s.default,{variant:"h5",children:["Age: ",m]}),(0,r.jsxs)(s.default,{variant:"body2",children:["Arrival Time: ",u," ~ Waiting time: ",h,"~ Aggregate:"," ",x]}),(0,r.jsx)("br",{}),(0,r.jsx)(s.default,{variant:"body2",children:"".concat(c)}),(0,r.jsx)(s.default,{children:d})]}),(0,r.jsx)(o.default,{sx:{flex:"0.2"},children:p})]})},g=e=>{let{dataList:t,loading:l}=e,[n,i]=(0,m.useState)(""),[p,g]=(0,m.useState)(t),[v,j]=(0,m.useState)(!1);(0,m.useEffect)(()=>{g(t)},[t]),(0,m.useEffect)(()=>{b("")},[v]);let b=e=>{i(e);let l=t.filter(t=>Object.keys(t).some(l=>{var r,n,a;return null==(a=t[l])||null==(n=a.toString())||null==(r=n.toLowerCase())?void 0:r.includes(e.toLowerCase())}));v&&(l=l.filter(e=>(0,a.cK)(null==e?void 0:e.arrivalDateTime))),g(l)};return l?(0,r.jsxs)(d.A,{sx:{m:"1ch"},spacing:1,children:[(0,r.jsx)(c.A,{variant:"rounded",width:"100%",height:200}),(0,r.jsx)(c.A,{variant:"rounded",width:"100%",height:200}),(0,r.jsx)(c.A,{variant:"rounded",width:"100%",height:200}),(0,r.jsx)(c.A,{variant:"rounded",width:"100%",height:200}),(0,r.jsx)(c.A,{variant:"rounded",width:"100%",height:200}),(0,r.jsx)(c.A,{variant:"rounded",width:"100%",height:200}),(0,r.jsx)(c.A,{variant:"rounded",width:"100%",height:200}),(0,r.jsx)(c.A,{variant:"rounded",width:"100%",height:200}),(0,r.jsx)(c.A,{variant:"rounded",width:"100%",height:200}),(0,r.jsx)(c.A,{variant:"rounded",width:"100%",height:200}),(0,r.jsx)(c.A,{variant:"rounded",width:"100%",height:200})]}):0==t.length?(0,r.jsx)(s.default,{variant:"body1",children:"No patients on this list"}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(o.default,{sx:{display:"flex",flexDirection:"column",px:"1ch"},children:[(0,r.jsx)(u.default,{control:(0,r.jsx)(h.A,{onChange:e=>{j(e.target.checked)},name:"",size:"medium"}),label:"Show only patients registered today"}),(0,r.jsx)(x.A,{sx:{m:1},variant:"outlined",placeholder:"Search…",value:n,onChange:e=>b(e.target.value)})]}),p.map(e=>(0,r.jsx)(f,{...e},e.id))]})},v=e=>{let{dataList:t,loading:l,searchText:n,setSearchString:a,rowCount:i,setPaginationModel:u,pagination:h,totalPages:m}=e,g=e=>{u(t=>({page:t.page+e,pageSize:t.pageSize}))};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(o.default,{sx:{display:"flex",flexDirection:"column",px:"1ch"},children:(0,r.jsx)(x.A,{sx:{m:1},variant:"outlined",placeholder:"Search…",value:n,onChange:e=>a(e.target.value)})}),l?(0,r.jsx)(()=>(0,r.jsxs)(d.A,{sx:{m:"1ch"},spacing:1,children:[(0,r.jsx)(c.A,{variant:"rounded",width:"100%",height:200}),(0,r.jsx)(c.A,{variant:"rounded",width:"100%",height:200}),(0,r.jsx)(c.A,{variant:"rounded",width:"100%",height:200}),(0,r.jsx)(c.A,{variant:"rounded",width:"100%",height:200}),(0,r.jsx)(c.A,{variant:"rounded",width:"100%",height:200}),(0,r.jsx)(c.A,{variant:"rounded",width:"100%",height:200}),(0,r.jsx)(c.A,{variant:"rounded",width:"100%",height:200}),(0,r.jsx)(c.A,{variant:"rounded",width:"100%",height:200}),(0,r.jsx)(c.A,{variant:"rounded",width:"100%",height:200}),(0,r.jsx)(c.A,{variant:"rounded",width:"100%",height:200}),(0,r.jsx)(c.A,{variant:"rounded",width:"100%",height:200})]}),{}):t.length>0?t.map(e=>(0,r.jsx)(f,{...e},e.id)):(0,r.jsx)(s.default,{variant:"body1",children:"No patients on this list"}),(0,r.jsxs)(o.default,{children:[(0,r.jsx)(p.A,{disabled:h.page-1==0,onClick:()=>g(-1),children:"Previous"}),(0,r.jsx)(p.A,{disabled:h.page+1>m,onClick:()=>g(1),children:"Next"})]})]})};var j=l(58301);let b=e=>{let{isLoading:t,columns:l,rows:a,formatForMobileView:i}=e,{isMediumOrSmall:o}=(0,n.Uq)();return o?(0,r.jsx)(g,{loading:t,dataList:i||[]}):(0,r.jsx)(j.W,{loading:t,columns:l,rows:a||[]})},y=e=>{var t;let{loading:l,searchText:a,setPaginationModel:i,setSearchString:o,paginationModel:s,columns:d,data:c,formatForMobileView:u,onSwitchChange:h,onRowClick:x}=e,{isMediumOrSmall:p}=(0,n.Uq)();return p?(0,r.jsx)(v,{totalPages:null==c?void 0:c.total_pages,searchText:a,setSearchString:o,rowCount:10,setPaginationModel:i,pagination:s,loading:l,dataList:u||[]}):(0,r.jsx)(j.e,{searchText:a,setSearchString:o,rowCount:(null==c?void 0:c.data)?null==c?void 0:c.totalEntries:0,setPaginationModel:i,paginationModel:s,loading:l,rows:(null==c?void 0:c.data)?null==c||null==(t=c.data)?void 0:t.map(e=>({id:e.uuid,...e})):[],columns:d,onSwitchChange:h,onRowClick:x})}},16150:(e,t,l)=>{l.r(t),l.d(t,{SearchComboBox:()=>x});var r=l(95155),n=l(12115),a=l(55028),i=l(73746),o=l(99284),s=l(89346),d=l(48453),c=l(59487),u=l(83436);let h=(0,a.default)(()=>l.e(3170).then(l.bind(l,83170)).then(e=>e.default),{loadableGenerated:{webpack:()=>[83170]},ssr:!1,loading:()=>null}),x=e=>{let{options:t,name:l,label:a,width:x="100%",sx:p,getValue:m,manualInitialValues:f,disabled:g=!1,multiple:v=!0,applyPadding:j=!0,coded:b=!1}=e,y=(0,i.A)(),[C,w]=(0,n.useState)(!1),{hasError:A,setFieldValue:S,value:k,errorMessage:F}=(0,d.W)(l);(0,n.useEffect)(()=>{w(!0)},[]);let T=t.map(e=>({value:e.id,label:e.label})),I=async e=>{let t=v?e.map(e=>({id:e.value,label:e.label})):null==e?void 0:e.value;b&&(t=v?await (0,u.sV)(t):(await (0,u.sV)([{id:t,label:""}]))[0].id),S(l,t),null==m||m(t)},E=j?{paddingTop:"1ch",paddingBottom:"1ch"}:{};return C?(0,r.jsxs)(c.jD,{sx:{width:x,...p,borderRadius:y.shape.borderRadius},children:[(0,r.jsx)(o.A,{shrink:!0,sx:{color:A?y.palette.error.main:"inherit"},children:a}),(0,r.jsx)(h,{isDisabled:g,isMulti:v,options:T,value:k?null==T?void 0:T.find(e=>e.value===k):k,styles:{control:(e,t)=>({...e,borderColor:A?y.palette.error.main:t.isFocused?y.palette.primary.main:y.palette.divider,boxShadow:t.isFocused?"0 0 0 1px ".concat(y.palette.primary.main):"none","&:hover":{borderColor:A?y.palette.error.main:y.palette.primary.main},backgroundColor:g?y.palette.action.disabledBackground:y.palette.background.paper,minHeight:"40px",...E}),menu:e=>({...e,zIndex:y.zIndex.modal+1,backgroundColor:y.palette.background.paper}),menuPortal:e=>({...e,zIndex:y.zIndex.modal+1}),option:(e,t)=>({...e,backgroundColor:t.isSelected?y.palette.action.selected:t.isFocused?y.palette.action.hover:y.palette.background.paper,color:y.palette.text.primary,"&:active":{backgroundColor:y.palette.action.selected}}),multiValue:e=>({...e,backgroundColor:y.palette.grey[200]}),multiValueLabel:e=>({...e,color:y.palette.text.primary}),multiValueRemove:e=>({...e,color:y.palette.text.secondary,":hover":{backgroundColor:y.palette.grey[300],color:y.palette.text.primary}}),placeholder:e=>({...e,color:y.palette.text.disabled}),singleValue:e=>({...e,color:y.palette.text.primary}),indicatorSeparator:e=>({...e,backgroundColor:y.palette.divider}),dropdownIndicator:e=>({...e,color:y.palette.text.secondary,":hover":{color:y.palette.text.primary}}),clearIndicator:e=>({...e,color:y.palette.text.secondary,":hover":{color:y.palette.text.primary}})},menuPortalTarget:document.body,menuPosition:"fixed",onChange:I,defaultValue:null==f?void 0:f.map(e=>({value:e.id,label:e.label})),components:(0,s.Ay)(),theme:e=>({...e,colors:{...e.colors,primary:y.palette.primary.main,primary25:y.palette.action.hover,primary50:y.palette.action.selected,neutral0:y.palette.background.paper,neutral20:y.palette.divider,neutral30:y.palette.action.active,neutral40:y.palette.text.secondary,neutral50:y.palette.text.disabled,neutral60:y.palette.text.secondary,neutral80:y.palette.text.primary}})}),A&&(0,r.jsx)(c.Th,{color:"error.main",variant:"caption",children:F})]}):null}},18843:(e,t,l)=>{l.d(t,{x:()=>a});var r=l(95155),n=l(5056);let a=e=>{let{children:t,anchorEl:l,onClose:a,anchorOrigin:i={vertical:"top",horizontal:"right"},transformOrigin:o={vertical:"top",horizontal:"left"},maxHeight:s="500px"}=e,d=!!l;return(0,r.jsx)(n.default,{id:d?"simple-popover":void 0,open:d,anchorEl:l,onClose:a,anchorOrigin:i,transformOrigin:o,sx:{"& .MuiPopover-paper":{maxHeight:s,overflow:"auto"}},children:t})}},20256:(e,t,l)=>{l.d(t,{O:()=>r});let r=()=>{var e;return null==(e=window.localStorage.getItem("roles"))?void 0:e.split(",")}},21184:(e,t,l)=>{l.d(t,{R:()=>r});let r=(e,t)=>!!t&&t.some(t=>e.flatMap(e=>null==e?void 0:e.split(",")).includes(t))},21301:(e,t,l)=>{l.d(t,{z:()=>r});let r={primaryLight:"#63a7c8",primary:"#006401",primaryDark:"#004966",primaryFontColor:"#fff",secondary:"#888888",secondaryVariant:"#787878",secondaryFontColor:"#fff",buttonColor:"#EDF0F7",buttonTextColor:"#2D3648",buttonHoverColor:"#2D3648",background:"#fff",surface:"#fff",error:"#B00020",white:"#fff"}},22697:(e,t,l)=>{l.r(t),l.d(t,{NewStepperContainer:()=>j});var r=l(95155),n=l(35881),a=l(55253),i=l(50532),o=l(98358),s=l(90912),d=l(9670),c=l(12115),u=l(59487),h=l(52269),x=l(83436),p=l(70482),m=l(6314);let f=(0,n.Ay)(e=>(0,r.jsx)(i.A,{disableGutters:!0,elevation:0,square:!0,...e}))(e=>{let{theme:t}=e;return{border:"1px solid ".concat(t.palette.divider),"&:not(:last-child)":{borderBottom:0},"&:before":{display:"none"}}}),g=(0,n.Ay)(e=>(0,r.jsx)(o.A,{expandIcon:(0,r.jsx)(a.BNo,{}),...e}))(e=>{let{theme:t}=e;return{backgroundColor:"dark"===t.palette.mode?"rgba(255, 255, 255, .05)":"rgba(0, 0, 0, .03)",flexDirection:"row-reverse","& .MuiAccordionSummary-expandIconWrapper.Mui-expanded":{transform:"rotate(90deg)"},"& .MuiAccordionSummary-content":{marginLeft:t.spacing(1)}}}),v=(0,n.Ay)(s.A)(e=>{let{theme:t}=e;return{padding:t.spacing(2),borderTop:"1px solid rgba(0, 0, 0, .125)"}});function j(e){let{children:t,active:l,steps:n,title:i,setActive:o,onBack:s,showSubmittedStatus:j=!1,allowPanelActiveOnClick:b=!0,backButtonProfileText:y="Back to Profile"}=e,{patientId:C,activeVisitId:w}=(0,p.gd)(),{data:A,isLoading:S,isRefetching:k}=(0,x.$O)(C),[F,T]=(0,c.useState)(new Set),I=t.filter(e=>!1!==e),E=[],z=c.Children.toArray(t).filter((e,t)=>!!c.isValidElement(e)&&e.type===u.UL&&(E.push(t),!0));E.sort((e,t)=>t-e).forEach(e=>{I.splice(e,1)});let B=new Map;z.forEach(e=>{if(c.isValidElement(e)){let t=e.props.parent;B.has(t)||B.set(t,[]),B.get(t).push(e.props.children)}});let[D,P]=(0,c.useState)({});return(0,c.useEffect)(()=>{if(j){let e={};n.forEach((t,l)=>{var r,n,a;let i=null==A||null==(r=A.filter(e=>e.encounter_type.uuid===t.encounter).filter(e=>e.visit_id===Number(w)))?void 0:r[0],o=null==i||null==(a=i.obs)||null==(n=a[i.obs.length-1])?void 0:n.obs_datetime;o&&(e[l]=o)}),P(e)}},[A,n,j]),(0,c.useEffect)(()=>{T(e=>new Set(e).add(l))},[l]),(0,r.jsxs)(u.Yr,{container:!0,spacing:5,children:[(0,r.jsx)(u.Yr,{sx:{display:{xs:"none",lg:"block"}},item:!0,lg:3,children:(0,r.jsxs)(u.sc,{elevation:0,sx:{p:"1ch",width:"288px"},children:[(0,r.jsx)(u.Th,{sx:{fontSize:"20px",fontWeight:600,textAlign:"left",ml:"2ch",my:"2ch"},children:i}),(0,r.jsx)(u.wu,{steps:n,active:l})]})}),(0,r.jsx)(u.Yr,{item:!0,xs:1,lg:0}),(0,r.jsx)(u.Yr,{item:!0,xs:10,lg:8,children:(0,r.jsxs)(u.jD,{width:"100%",children:[(0,r.jsx)(u.Yr,{item:!0,sx:{display:{xs:"block",lg:"none"}},xs:12,children:(0,r.jsx)(u.gq,{steps:n,active:l})}),(0,r.jsxs)(u.jD,{onClick:()=>s&&s(),sx:{display:{lg:"flex",xs:"none"},cursor:"pointer"},children:[(0,r.jsx)(u.Th,{sx:{width:"24px",height:"24px",fontSize:"20px"},children:(0,r.jsx)(a.ed2,{})}),(0,r.jsx)(u.Th,{sx:{fontSize:"14px",fontWeight:400,lineHeight:"21px",letterSpacing:"0em",textAlign:"left"},children:y})]}),n.map((e,t)=>{var n;return(0,r.jsxs)(f,{sx:{my:"2ch",backgroundColor:"whitesmoke",borderStyle:"none","& .MuiAccordionSummary-root":{backgroundColor:"whitesmoke",display:"flex",flexDirection:"row",borderBottom:"solid 0.2ch #B3B3B3"}},onChange:()=>{(b||F.has(t))&&o&&o(t)},expanded:t===l,children:[(0,r.jsx)(g,{"aria-controls":"panel".concat(t+1,"-content"),id:"panel".concat(t+1,"-header"),children:(0,r.jsxs)(h.default,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",width:"100%",pr:"2ch"},children:[(0,r.jsx)(d.default,{variant:"h5",sx:{fontSize:"24px",fontWeight:700,textAlign:"left"},children:e.label}),j&&(0,r.jsxs)(h.default,{sx:{display:"flex",alignItems:"flex-start",gap:"0.5rem",width:"30%"},children:[(0,r.jsx)(h.default,{sx:{display:"flex",justifyContent:"center"},children:S||k&&l-1===t?(0,r.jsx)(a.hW,{size:"20px",style:{animation:"spin 1s linear infinite",color:"gray"}}):(0,r.jsx)(a.A7C,{size:"20px",color:D[t]?"green":"gray"})}),(0,r.jsx)(d.default,{sx:{fontSize:"14px",fontWeight:500,color:D[t]?"green":"gray",minWidth:"120px",textAlign:"left",fontStyle:"italic"},children:(0,m.rX)(D[t])||"not submitted"})]})]})}),(0,r.jsx)(v,{children:I[t]}),B.has(t)&&(null==(n=B.get(t))?void 0:n.map((e,t)=>(0,r.jsx)(v,{style:{borderTop:"1px solid rgba(0, 0, 0, .125)"},children:e},t)))]},t)})]})})]})}},23410:(e,t,l)=>{l.d(t,{A:()=>s});var r=l(95155);l(12115);var n=l(54102),a=l(43388),i=l(83025),o=l(48453);let s=e=>{let{name:t,label:l,helperText:s}=e,{value:d,handleChange:c,hasError:u,errorMessage:h,handleBlur:x}=(0,o.W)(t);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.default,{control:(0,r.jsx)(a.default,{name:t,checked:!!d,onChange:c,color:"primary"}),label:l}),s&&(0,r.jsx)(i.default,{children:s})]})}},25694:(e,t,l)=>{l.d(t,{A8:()=>a.TextInputField,GE:()=>o.FormFieldContainer,MG:()=>c.FormContainer,PD:()=>r.FormikInit,Vp:()=>d.FieldsContainer,W9:()=>p.FormDatePickerToday,YZ:()=>x.FormTimePicker,Z3:()=>f.CheckboxesGroup,b1:()=>i.RadioGroupInput,bZ:()=>h.FormDatePicker,el:()=>s.SearchComboBox,fP:()=>u.FormValuesListener,f_:()=>d.DashedContainer,gj:()=>m.FormTimePickerNow,kI:()=>d.FormFieldContainerLayout,m2:()=>d.FormFieldContainerMultiple,pK:()=>n.SelectInputField,pj:()=>g.UnitInputField});var r=l(96756),n=l(11508),a=l(80233),i=l(39810),o=l(27859);l(94836);var s=l(16150),d=l(88904),c=l(9311),u=l(54028),h=l(90584),x=l(13067),p=l(4183),m=l(54729),f=l(8541);l(82545),l(23410);var g=l(35950);l(4154),l(62564)},25934:(e,t,l)=>{l.r(t),l.d(t,{MainButton:()=>i});var r=l(95155),n=l(39347),a=l(62764);let i=e=>{let{variant:t="primary",title:l,startIcon:i,onClick:o,type:s,sx:d,icon:c,iconRight:u,disabled:h=!1,size:x}=e,p=a.V[t];return(0,r.jsxs)(n.A,{size:x,type:s,disabled:h,sx:{...p,textTransform:"capitalize",color:"#fff",borderRadius:"1px",...d},onClick:o,children:[c,l,u]})}},27859:(e,t,l)=>{l.r(t),l.d(t,{FormFieldContainer:()=>a});var r=l(95155),n=l(52269);let a=e=>{let{direction:t,children:l}=e;return(0,r.jsx)(n.default,{sx:{display:"flex",flexDirection:t},children:l})}},29408:(e,t,l)=>{l.d(t,{W:()=>i,x:()=>a});var r=l(21184),n=l(20256);let a=e=>{let{roles:t,children:l}=e;return(0,r.R)(t,(0,n.O)())?l:null},i=e=>(0,r.R)(e,(0,n.O)())},35950:(e,t,l)=>{l.r(t),l.d(t,{UnitInputField:()=>x});var r=l(95155),n=l(12115),a=l(99284),i=l(52269),o=l(32582),s=l(73816),d=l(26403),c=l(50095),u=l(48453),h=l(59487);let x=e=>{let{disabled:t=!1,id:l,label:x,name:p,unitName:m,placeholder:f="",unitOptions:g,sx:v,inputIcon:j,handleBlurEvent:b}=e,{value:y,hasError:C,errorMessage:w,handleChange:A,setFieldValue:S,handleBlur:k}=(0,u.W)(p),{value:F,setFieldValue:T}=(0,u.W)(m),[I,E]=(0,n.useState)(F||g[0]);return(0,n.useEffect)(()=>{F||T(m,g[0])},[F,g,m,T]),(0,r.jsxs)(h.jD,{sx:{mb:"1ch",marginTop:"1ch",...v},children:[(0,r.jsx)(a.A,{shrink:!0,htmlFor:l,children:x}),(0,r.jsxs)(i.default,{position:"relative",display:"flex",alignItems:"center",children:[(0,r.jsx)(o.A,{disabled:t,id:l,name:p,value:y,onChange:A,placeholder:f,variant:"outlined",sx:{flexGrow:1,background:"white",height:56},error:C,onBlur:e=>{k(e),b&&b(e.target.value)},InputProps:{startAdornment:j&&(0,r.jsx)(s.A,{position:"start",children:j})}}),(0,r.jsx)(d.A,{disabled:t,value:I,onChange:e=>{let t=e.target.value;T(m,e.target.value),E(t)},variant:"outlined",sx:{position:"absolute",right:0,width:100,height:"100%",background:"white",borderTopLeftRadius:0,borderBottomLeftRadius:0,alignItems:"center"},MenuProps:{PaperProps:{style:{maxHeight:200}},disableScrollLock:!0},children:g.map(e=>(0,r.jsx)(c.A,{value:e,children:e},e))})]}),(0,r.jsx)(h.Th,{color:"red",variant:"subtitle2",children:w})]})}},37415:(e,t,l)=>{l.r(t),l.d(t,{MainCard:()=>i});var r=l(95155),n=l(84256);let a={main:{display:"flex",flexDirection:"column",px:"1ch",py:"2ch"}},i=e=>{let{children:t,elevation:l=0,sx:i}=e;return(0,r.jsx)(n.A,{sx:{...a.main,...i},elevation:l,children:t})}},39810:(e,t,l)=>{l.r(t),l.d(t,{BaseRadioInput:()=>x,RadioGroupInput:()=>h});var r=l(95155),n=l(12115),a=l(52121),i=l(67384),o=l(54102),s=l(77498),d=l(47298),c=l(48453),u=l(83436);let h=e=>{let{label:t,name:l,options:a,getValue:i,row:o,sx:s,disabled:d=!1,coded:h}=e,{value:p,handleChange:m,hasError:f}=(0,c.W)(l),[g,v]=(0,n.useState)(a);return(0,n.useEffect)(()=>{i&&i(p)},[p]),(0,n.useEffect)(()=>{(async()=>{h?v(await (0,u.tu)(a).then(e=>e.map(e=>({...e,value:e.value||""})))):v(a)})()},[a,h]),(0,r.jsx)(x,{sx:s,label:t,handleChange:m,options:g,hasError:f,value:p,name:l,row:o,disabled:d})},x=e=>{let{handleChange:t,hasError:l,label:n,name:c,options:u,value:h,row:x=!1,sx:p,disabled:m=!1}=e;return(0,r.jsxs)(s.A,{disabled:m,fullWidth:!0,sx:{mx:"0.5ch",...p},error:l,children:[(0,r.jsx)(d.A,{id:c,children:n}),(0,r.jsx)(i.A,{row:x,value:h,onChange:t,name:c,children:null==u?void 0:u.map(e=>{let{label:t,value:l}=e;return(0,r.jsx)(o.default,{value:l,control:(0,r.jsx)(a.A,{}),label:t},t)})})]})}},40478:(e,t,l)=>{l.r(t),l.d(t,{SubSteps:()=>n});var r=l(95155);function n(e){let{parent:t,children:l}=e;return(0,r.jsx)(r.Fragment,{children:l})}},47607:(e,t,l)=>{l.r(t),l.d(t,{NotificationContainer:()=>a});var r=l(95155),n=l(59487);let a=e=>{let{message:t}=e;return(0,r.jsx)(n.jD,{sx:{backgroundColor:"#B9E6FE",color:"#026AA2",py:"2ch",px:"1ch",my:"1ch"},children:(0,r.jsx)(n.Th,{children:t})})}},48339:(e,t,l)=>{l.r(t),l.d(t,{GenericDialog:()=>o});var r=l(95155);l(12115);var n=l(12422),a=l(62966),i=l(29716);function o(e){let{onClose:t,open:l,children:o,title:s,maxWidth:d="lg",sx:c}=e;return(0,r.jsxs)(i.A,{maxWidth:d,fullWidth:!0,onClose:()=>{t()},open:l,children:[(0,r.jsx)(a.A,{children:s}),(0,r.jsx)(n.A,{sx:{...c,overflow:"visible"},children:o})]})}},48453:(e,t,l)=>{l.d(t,{W:()=>r.useFormikField});var r=l(66118)},49094:(e,t,l)=>{l.r(t),l.d(t,{NextButton:()=>o});var r=l(95155),n=l(39347),a=l(62764),i=l(70482);let o=e=>{let{variant:t="primary",title:l,type:o,sx:s,icon:d,iconRight:c,disabled:u=!1,size:h,url:x}=e,p=a.V[t],{navigateTo:m}=(0,i.cq)();return(0,r.jsxs)(n.A,{size:h,type:o,disabled:u,sx:{...p,textTransform:"capitalize",color:"#fff",...s},onClick:()=>{x&&m(x)},children:[d,l,c]})}},52227:(e,t,l)=>{l.d(t,{O6:()=>n.MainButton,WE:()=>a.NextButton,oq:()=>r.BackButton});var r=l(84848),n=l(25934),a=l(49094)},53485:(e,t,l)=>{l.r(t),l.d(t,{NavigationBar:()=>E});var r=l(95155),n=l(12115),a=l(53687),i=l(52269),o=l(3737),s=l(53494),d=l(9670),c=l(33881),u=l(66587),h=l(50095),x=l(59487),p=l(98167),m=l(6314),f=l(81063),g=l(91095),v=l(5056),j=l(89915),b=l(84092),y=l(14099),C=l(70482),w=l(9890),A=l(77952),S=l(55929),k=l(9952),F=l(14120),T=l(29408),I=l(23312);function E(e){let{onTitleClick:t,handleLogout:l,loggedIn:E}=e,[z,B]=(0,n.useState)(null),[D,P]=(0,n.useState)(""),[N,M]=(0,n.useState)(null),W=!!N&&""!==D.trim(),[R,_]=(0,n.useState)({firstName:"",lastName:"",gender:""}),O=function(e,t){let[l,r]=(0,n.useState)(e);return(0,n.useEffect)(()=>{let t=setTimeout(()=>{r(e)},300);return()=>{clearTimeout(t)}},[e,300]),l}(D,300);(0,n.useEffect)(()=>{O&&""!==O.trim()?M(document.getElementById("search-input")):M(null)},[O]),(0,n.useEffect)(()=>{if(!O||""===O.trim())return;let e=eo(O);_({firstName:e.given_name,lastName:e.family_name,gender:e.gender})},[O]);let L=()=>{B(null)},H=()=>{M(null)},{navigateTo:V}=(0,C.cq)(),[Y,G]=(0,n.useState)("");(0,n.useEffect)(()=>{(async()=>{await m.Fh.initialize();let e=m.Fh.getServerTimeString();G((0,m.k)(e))})()},[]);let{refetch:q,isFetching:K,isSuccess:U,data:$,isError:Z}=(0,w.L3)(R.firstName,R.lastName,R.gender),{refetch:J,isFetching:Q,isSuccess:X,data:ee,isError:et}=(0,w.jL)(R.firstName,R.lastName,R.gender),{refetch:el,isFetching:er,isSuccess:en,data:ea,isError:ei}=(0,F.Ov)(R.firstName);(0,n.useEffect)(()=>{R.firstName&&(J(),el()),R.firstName&&R.lastName&&R.gender&&q()},[R,q,J,el]);let eo=e=>{let t=e.split(" ");return{given_name:t[0]||"",family_name:t.length>=2?t[1]:"",gender:t.length>=3?t[2]:""}},es=(0,n.useMemo)(()=>$?[...$.locals||[],...$.remotes||[]].map(e=>{var t,l,r,n,a,i,o,s,d,c,u,h,x,p,m,f,g,v;return{fullname:(null==e?void 0:e.given_name)+" "+(null==e?void 0:e.family_name),birthday:null==e?void 0:e.birthdate,gender:null==e?void 0:e.gender,currentAddress:"".concat(null!=(x=null==e||null==(l=e.addresses)||null==(t=l[0])?void 0:t.current_district)?x:"",",").concat(null!=(p=null==e||null==(n=e.addresses)||null==(r=n[0])?void 0:r.current_traditional_authority)?p:"",",").concat(null!=(m=null==e||null==(i=e.addresses)||null==(a=i[0])?void 0:a.address2)?m:""," "),homeAddress:"".concat(null!=(f=null==e||null==(s=e.addresses)||null==(o=s[0])?void 0:o.address1)?f:"",",").concat(null!=(g=null==e||null==(c=e.addresses)||null==(d=c[0])?void 0:d.county_district)?g:"",",").concat(null!=(v=null==e||null==(h=e.addresses)||null==(u=h[1])?void 0:u.address1)?v:""," "),phone:"",id:e.uuid}}):[],[$]),ed=(0,n.useMemo)(()=>ee?ee.map(e=>{var t,l,r,n,a,i,o,s,d,c,u,h,x,p,m,f,g,v;return{fullname:(null==e?void 0:e.given_name)+" "+(null==e?void 0:e.family_name),birthday:null==e?void 0:e.birthdate,gender:null==e?void 0:e.gender,currentAddress:"".concat(null!=(x=null==e||null==(l=e.addresses)||null==(t=l[0])?void 0:t.current_district)?x:"",",").concat(null!=(p=null==e||null==(n=e.addresses)||null==(r=n[0])?void 0:r.current_traditional_authority)?p:"",",").concat(null!=(m=null==e||null==(i=e.addresses)||null==(a=i[0])?void 0:a.address2)?m:""," "),homeAddress:"".concat(null!=(f=null==e||null==(s=e.addresses)||null==(o=s[0])?void 0:o.address1)?f:"",",").concat(null!=(g=null==e||null==(c=e.addresses)||null==(d=c[0])?void 0:d.county_district)?g:"",",").concat(null!=(v=null==e||null==(h=e.addresses)||null==(u=h[1])?void 0:u.address1)?v:""," "),phone:"",id:e.uuid}}):[],[ee]),ec=(0,n.useMemo)(()=>{if(!ea)return[];let e=[...ea.locals||[],...ea.remotes||[]];return(console.log("\uD83D\uDE80 ~ returndataNPID.map ~ dataNPID:",e),e)?e.map(e=>{var t,l,r,n,a,i,o,s,d,c,u,h,x,p,m,f,g,v;return{fullname:(null==e?void 0:e.given_name)+" "+(null==e?void 0:e.family_name),birthday:null==e?void 0:e.birthdate,gender:null==e?void 0:e.gender,currentAddress:"".concat(null!=(x=null==e||null==(l=e.addresses)||null==(t=l[0])?void 0:t.current_district)?x:"",",").concat(null!=(p=null==e||null==(n=e.addresses)||null==(r=n[0])?void 0:r.current_traditional_authority)?p:"",",").concat(null!=(m=null==e||null==(i=e.addresses)||null==(a=i[0])?void 0:a.address2)?m:""," "),homeAddress:"".concat(null!=(f=null==e||null==(s=e.addresses)||null==(o=s[0])?void 0:o.address1)?f:"",",").concat(null!=(g=null==e||null==(c=e.addresses)||null==(d=c[0])?void 0:d.county_district)?g:"",",").concat(null!=(v=null==e||null==(h=e.addresses)||null==(u=h[1])?void 0:u.address1)?v:""," "),phone:"",id:e.uuid}}):[]},[ea]),eu=(0,n.useMemo)(()=>ec.length>0?ec:es.length>0?es:ed,[ed,es]),eh=(0,n.useMemo)(()=>[{accessorKey:"fullname",id:"fullname",header:"Fullname"},{accessorKey:"birthday",header:"Birthday",size:100},{accessorKey:"gender",header:"Gender",size:40},{accessorKey:"currentAddress",header:"Current Address"},{accessorKey:"homeAddress",header:"Home Address"},{accessorKey:"phone",header:"Phone",size:100}],[]),ex=[I.Ot.ADMIN,I.Ot.CLINICIAN,I.Ot.NURSE];return(0,r.jsx)(r.Fragment,{children:E&&(0,r.jsx)(i.default,{sx:{flexGrow:1},children:(0,r.jsx)(a.A,{position:"static",sx:{backgroundColor:"#006401"},children:(0,r.jsxs)(o.A,{style:{justifyContent:"space-between"},children:[(0,r.jsxs)("div",{style:{display:"flex",alignItems:"center",marginRight:"10px"},children:[(0,r.jsx)(s.default,{size:"large",edge:"start",color:"inherit","aria-label":"menu",children:(0,r.jsx)(p.A,{})}),(0,r.jsx)(d.default,{variant:"h6",noWrap:!0,component:"div",onClick:()=>t(),sx:{flexGrow:1,display:{xs:"none",sm:"block",cursor:"pointer"}},children:(0,r.jsxs)("div",{style:{lineHeight:"1em"},children:[(0,r.jsx)("div",{style:{fontSize:"16px"},children:"MaHIS (AETC)"}),(0,r.jsx)("div",{children:(0,r.jsxs)("span",{style:{fontSize:"14px"},children:["Queen Elizabeth Central Hospital |"," ",(0,r.jsxs)("span",{style:{color:"rgb(116, 255, 21)"},children:[Y," "]})]})})]})})]}),(0,T.W)(ex)&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(f.default,{component:"div",id:"search-input",sx:{p:"2px 4px",display:"flex",alignItems:"center",minWidth:"45%"},children:[(0,r.jsx)(s.default,{sx:{p:"10px"},"aria-label":"search",children:(0,r.jsx)(b.A,{})}),(0,r.jsx)(g.Ay,{value:D,onChange:e=>{P(e.target.value)},sx:{ml:1,flex:1,width:"100%"},placeholder:"Add or search for a client by MRN, name, or by scanning a barcode/QR code.",inputProps:{"aria-label":"search patients"}}),(0,r.jsx)(s.default,{color:"primary",sx:{p:"10px",color:"#000"},"aria-label":"add new patient",onClick:()=>{V("/registration/new")},children:(0,r.jsx)(y.A,{})})]}),(0,r.jsx)(v.default,{id:W?"search-popover":void 0,open:W,anchorEl:N,onClose:H,anchorOrigin:{vertical:"bottom",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"left"},sx:{mt:.1},slotProps:{paper:{sx:{width:"97.5vw",maxWidth:"none"}}},disableEnforceFocus:!0,disableAutoFocus:!0,children:(0,r.jsxs)("div",{style:{width:"100%"},children:[(K||Q)&&(0,r.jsx)(i.default,{sx:{display:"flex",justifyContent:"center",p:2},children:(0,r.jsx)(j.A,{})}),!K&&!Q&&eu.length>0&&(0,r.jsx)(A.$,{dateAdapter:k.R,children:(0,r.jsx)(S.w,{data:eu,columns:eh,title:"",showGlobalFilter:!1,enableColumnOrdering:!1,enableColumnActions:!1,enableColumnFilters:!1,enableSorting:!1,initialState:{showColumnFilters:!1,showGlobalFilter:!1,columnPinning:{left:["fullname"],right:["mrt-row-actions"]}},onRowClick:e=>{H(),(0,T.W)(ex)?V("/patient/".concat(e.row.original.id,"/profile")):alert("You are not authorized to perform this action.")}})}),!K&&!Q&&0===eu.length&&(0,r.jsx)(i.default,{sx:{p:3,textAlign:"center"},children:(0,r.jsx)(d.default,{children:"No matching patients found"})})]})})]}),(0,r.jsx)("div",{style:{display:"flex",alignItems:"center"},children:E&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(x.Th,{sx:{mx:"1ch"},variant:"h5",children:(0,r.jsx)(s.default,{sx:{color:"#fff"},children:(0,r.jsx)(c.hbh,{})})}),(0,r.jsxs)(x.Th,{sx:{cursor:"pointer"},variant:"h5",children:[(0,r.jsx)(s.default,{sx:{color:"#fff"},onClick:e=>{B(e.currentTarget)},children:(0,r.jsx)(c.d$e,{})}),(0,r.jsxs)(u.A,{id:"basic-menu",anchorEl:z,open:!!z,onClose:L,MenuListProps:{"aria-labelledby":"basic-button"},children:[(0,r.jsx)(h.A,{onClick:L,children:"Profile"}),(0,r.jsx)(h.A,{onClick:()=>{L(),V("/changePassword")},children:"Change password"}),(0,r.jsx)(h.A,{onClick:L,children:"My account"}),(0,r.jsx)(h.A,{onClick:()=>{L(),l&&l()},children:"Logout"})]})]})]})})]})})})})}},54028:(e,t,l)=>{l.r(t),l.d(t,{FormValuesListener:()=>i});var r=l(95155),n=l(12115),a=l(48453);let i=e=>{let{getValues:t}=e,{values:l}=(0,a.W)("");return(0,n.useEffect)(()=>{t(l)},[l]),(0,r.jsx)(r.Fragment,{})}},54729:(e,t,l)=>{l.r(t),l.d(t,{FormTimePickerNow:()=>m});var r=l(95155),n=l(30832),a=l.n(n),i=l(9952),o=l(77952),s=l(40727),d=l(12115),c=l(32582),u=l(73816),h=l(39347),x=l(95443),p=l(48453);let m=e=>{let{name:t,label:l,width:n="100%",sx:m,getValue:f,disabled:g=!1}=e,{value:v,setFieldValue:j}=(0,p.W)(t),[b,y]=(0,d.useState)(!1),C=(0,d.useRef)(null);(0,d.useEffect)(()=>{f&&f(v)},[v]);let w=e=>{e.stopPropagation(),j(t,a()().format("HH:mm:ss"))},A=()=>{g||y(!0)};return(0,r.jsx)(o.$,{dateAdapter:i.R,children:(0,r.jsx)(s.A,{timeSteps:{hours:1,minutes:1,seconds:1},open:b,onOpen:()=>y(!0),onClose:()=>y(!1),label:l,value:v?a()(v,"HH:mm:ss"):null,onChange:()=>{},onAccept:e=>{e&&(j(t,e.format("HH:mm:ss")),y(!1))},PopperProps:{anchorEl:C.current,placement:"bottom-start",style:{width:C.current?C.current.clientWidth:"auto"}},slots:{textField:e=>(0,r.jsx)(c.A,{...e,ref:C,fullWidth:!0,onClick:A,InputProps:{...e.InputProps,startAdornment:(0,r.jsx)(u.A,{position:"start",children:(0,r.jsx)(x.A,{})}),endAdornment:(0,r.jsx)(u.A,{position:"end",children:(0,r.jsx)(h.A,{variant:"contained",color:"primary",size:"small",onClick:w,disabled:g,children:"Now"})})}})},sx:{width:n,...m},disabled:g})})}},55929:(e,t,l)=>{l.d(t,{w:()=>x});var r=l(95155);l(12115);var n=l(97024),a=l(50095),i=l(55592),o=l(9670),s=l(52269),d=l(78894),c=l(39347),u=l(71023),h=l(1384);let x=e=>{let{data:t,columns:l,title:x="Data Table",enableRowActions:p=!1,enableRowSelection:m=!1,enableExpanding:f=!1,enableColumnFilterModes:g=!1,enableColumnOrdering:v=!0,enableGrouping:j=!1,enableColumnPinning:b=!0,enableFacetedValues:y=!0,showGlobalFilter:C=!0,enableColumnActions:w=!0,enableColumnFilters:A=!0,enableSorting:S=!0,getSubRows:k,onRowActionDelete:F,onRowActionEdit:T,onBulkAction:I,onRowClick:E,bulkActionLabel:z="Action",initialState:B={showColumnFilters:!1,showGlobalFilter:C,columnPinning:{left:["mrt-row-expand","mrt-row-select"],right:["mrt-row-actions"]}}}=e,D=(0,n.Up)({columns:l,data:t,displayColumnDefOptions:{"mrt-row-expand":{enableResizing:!0,size:1}},enableExpanding:f,enableColumnFilterModes:g,enableColumnOrdering:v,enableGrouping:j,enableColumnPinning:b,enableFacetedValues:y,enableRowActions:p,enableRowSelection:m,enableColumnActions:w,enableColumnFilters:A,enableSorting:S,initialState:B,paginationDisplayMode:"pages",positionToolbarAlertBanner:"bottom",muiSearchTextFieldProps:{size:"small",variant:"outlined"},muiPaginationProps:{color:"primary",rowsPerPageOptions:[10,20,30],shape:"rounded",variant:"outlined"},muiTableBodyRowProps:e=>{let{row:t}=e;return{onClick:e=>{null==E||E({row:t,event:e})},sx:{cursor:"pointer"}}},getSubRows:k?e=>k(e):void 0,...p&&{renderRowActionMenuItems:e=>{let{row:t,closeMenu:l}=e;return[F&&(0,r.jsxs)(a.A,{onClick:()=>{F(t.original),l()},sx:{m:0},children:[(0,r.jsx)(i.A,{children:(0,r.jsx)(u.A,{})}),"Delete"]},"delete"),T&&(0,r.jsxs)(a.A,{onClick:()=>{T(t.original),l()},sx:{m:0},children:[(0,r.jsx)(i.A,{children:(0,r.jsx)(h.A,{})}),"Edit"]},"edit")].filter(Boolean)}},renderTopToolbar:e=>{let{table:t}=e;return(0,r.jsxs)("div",{children:[x&&(0,r.jsx)(o.default,{variant:"h6",sx:{display:"flex",padding:"8px",justifyContent:"center",width:"100%",boxShadow:"0px 4px 4px rgba(0, 0, 0, 0.1)",borderBottom:"1px solid rgba(0, 0, 0, 0.2)"},children:x}),(0,r.jsxs)(s.default,{sx:e=>({backgroundColor:(0,d.a)(e.palette.background.default,.05),display:"flex",gap:"0.5rem",p:"8px",justifyContent:"space-between"}),children:[C&&(0,r.jsxs)(s.default,{sx:{display:"flex",gap:"0.5rem",alignItems:"center"},children:[(0,r.jsx)(n.Jf,{table:t}),(0,r.jsx)(n.u1,{table:t})]}),I&&(0,r.jsx)(s.default,{children:(0,r.jsx)(s.default,{sx:{display:"flex",gap:"0.5rem"},children:(0,r.jsx)(c.A,{color:"primary",disabled:!t.getIsSomeRowsSelected(),onClick:()=>{I&&I(t.getSelectedRowModel().flatRows.map(e=>e.original))},variant:"contained",children:z})})})]})]})}});return(0,r.jsx)(n.zp,{table:D})}},58301:(e,t,l)=>{l.d(t,{W:()=>r.BaseTable,e:()=>r.ServerPaginationTable});var r=l(67524)},59487:(e,t,l)=>{l.d(t,{oq:()=>h.oq,x0:()=>g.x,WE:()=>x.W,VJ:()=>I,Z3:()=>p.Z3,f_:()=>p.f_,uT:()=>o.DisplayEncounterCreator,Vp:()=>p.Vp,MG:()=>p.MG,bZ:()=>p.bZ,W9:()=>p.W9,GE:()=>p.GE,kI:()=>p.kI,m2:()=>p.m2,YZ:()=>p.YZ,gj:()=>p.gj,fP:()=>p.fP,PD:()=>p.PD,eV:()=>i.GenericDialog,O6:()=>h.O6,Yr:()=>D,sc:()=>P,Th:()=>B,yk:()=>r.NavigationBar,wu:()=>A,RG:()=>k.NewStepperContainer,Dh:()=>h.WE,bL:()=>n.NotificationContainer,TF:()=>a.PatientInfoTab,vP:()=>E.PatientTableListServer,b1:()=>p.b1,el:()=>p.el,pK:()=>p.pK,gq:()=>S,UL:()=>F.SubSteps,A8:()=>p.A8,pj:()=>p.pj,jD:()=>z,zQ:()=>f.z});var r=l(53485),n=l(47607),a=l(10651),i=l(48339),o=l(5154),s=l(52269),d=l(9670),c=l(3951),u=l(81063),h=l(52227),x=l(58301),p=l(25694);l(37415);var m=l(95155);l(12115);var f=l(21301);f.z.secondary,f.z.white,f.z.primary,f.z.primaryFontColor,f.z.secondaryFontColor;var g=l(18843);l(97904),l(81896);let v={circle:{display:"flex",alignItems:"center",justifyContent:"center",height:"20px",width:"20px",borderRadius:"10px",border:"solid 1px #636363",color:"#636363",mx:"5px"},active:{backgroundColor:f.z.primary,color:f.z.white},circleWithLabel:{display:"flex",alignItems:"start"},stepper:{display:"flex",flexDirection:"column",justifyContent:"center",my:"5px",width:"100%"}},j=e=>{let{label:t,active:l,last:r}=e,n={...v.circle?v.circle:{},...l?v.active:{}};return(0,m.jsxs)(s.default,{display:"flex",alignItems:"center",flexDirection:"column",children:[(0,m.jsx)(s.default,{sx:n,children:(0,m.jsx)(d.default,{sx:{fontSize:"16px",fontWeight:400,lineHeight:"24px",letterSpacing:"0em",textAlign:"left"},children:t})}),!r&&(0,m.jsx)(s.default,{sx:{borderLeft:"2px solid #B3B3B3",height:"24px"}})]})},b=e=>{let{circleLabel:t,active:l,label:r,last:n}=e;return(0,m.jsxs)(s.default,{sx:v.circleWithLabel,children:[(0,m.jsx)(j,{label:t,active:l,last:n}),(0,m.jsx)(d.default,{sx:{fontSize:"16px",lineHeight:"24px",color:l?f.z.primary:""},variant:"subtitle2",fontWeight:l?"700":"200",children:r})]})};var y=l(67172),C=l(85463),w=l(84350);let A=e=>{let{steps:t,active:l}=e;return(0,m.jsx)(s.default,{sx:v.stepper,children:t.map((e,r)=>(0,m.jsx)(b,{label:e.label,circleLabel:r+1,active:r==l,last:t.length-1==r},e.id))})},S=e=>{let{steps:t,active:l}=e;return(0,m.jsx)(s.default,{sx:{width:"100%"},children:(0,m.jsx)(y.default,{activeStep:l,alternativeLabel:!0,children:t.map(e=>(0,m.jsx)(C.default,{children:(0,m.jsx)(w.default,{children:e.label})},e.id))})})};var k=l(22697),F=l(40478),T=l(49262);function I(e){let t,{arrival_time:l}=e,{ServerTime:r}=(0,T.useServerTime)(),n=Date.parse(r.getServerTimeString()),a=Math.floor((n-Date.parse(l))/1e3);if(a<60)t="".concat(a," seconds");else{let e=Math.floor(a/60);if(e<60)t="".concat(e," minutes");else{let l=Math.floor(e/60);if(l<24)t="".concat(l," hours");else{let e=Math.floor(l/24),r=l%24;t=r>0?"".concat(e," days ").concat(r," hours"):"".concat(e," days")}}}return t}var E=l(14352);let z=s.default,B=d.default,D=c.default,P=u.default},62564:(e,t,l)=>{l.r(t),l.d(t,{default:()=>u});var r=l(95155),n=l(12115),a=l(99284),i=l(8363),o=l(19373),s=l(44919);let d=e=>(0,s.UK)("".concat("/icd11_diagnoses/search_by_title","?title=").concat(encodeURIComponent(e))),c=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:36e5,l=function(e,t){let[l,r]=(0,n.useState)(e);return(0,n.useEffect)(()=>{let t=setTimeout(()=>r(e),300);return()=>{clearTimeout(t)}},[e,300]),l}(e,300);return(0,o.I)({queryKey:["icd11Search",l],queryFn:async()=>(await d(l)).data.map(e=>{let t=e.lastIndexOf(" - ");return -1!==t?{diagnosis:e.substring(0,t).trim(),code:e.substring(t+3).trim()}:{diagnosis:e,code:""}}),enabled:!!l&&l.length>2,staleTime:3e5,gcTime:t,refetchOnWindowFocus:!1,refetchOnMount:!1,refetchOnReconnect:!1})},u=e=>{let{label:t,onSelection:l,initialValue:o="",placeholder:s="Search for a diagnosis...",width:d="300px"}=e,[u,h]=(0,n.useState)(""),[x,p]=(0,n.useState)(!1),[m,f]=(0,n.useState)(o),g=(0,n.useRef)(null),v=(0,n.useRef)(null),{data:j,isLoading:b,isError:y}=c(u,36e5),C=e=>{f("".concat(e.diagnosis," - ").concat(e.code)),p(!1),h(""),l&&l(e)};return(0,n.useEffect)(()=>{let e=e=>{g.current&&!g.current.contains(e.target)&&v.current&&!v.current.contains(e.target)&&p(!1)};return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[]),(0,r.jsxs)("div",{className:"icd11-selection",children:[(0,r.jsx)(a.A,{sx:{mb:"1ch",fontSize:"0.76rem",color:"text.secondary"},children:t}),(0,r.jsxs)("div",{style:{position:"relative",width:"100%"},children:[(0,r.jsx)(i.zfp,{style:{position:"absolute",left:"10px",top:"40%",transform:"translateY(-50%)",cursor:"pointer",color:"gray"}}),(0,r.jsx)("input",{ref:v,type:"text",value:u,onChange:e=>{let t=e.target.value;h(t),p(t.length>=3)},onFocus:()=>{u.length>=3&&p(!0)},placeholder:s,style:{marginBottom:"1ch",paddingInline:"3.5ch",fontSize:".96rem",color:"#333",height:"48px",width:d,borderRadius:"5px",border:"1px solid #e0e0e0",outline:"none"}}),x&&(0,r.jsx)("div",{ref:g,style:{position:"absolute",top:"calc(100% - 1ch)",left:0,width:"100%",maxHeight:"300px",overflowY:"auto",backgroundColor:"white",borderRadius:"5px",boxShadow:"0 4px 10px rgba(0,0,0,0.1)",zIndex:9999,border:"1px solid #e0e0e0"},children:b?(0,r.jsx)("div",{style:{padding:"12px",textAlign:"center"},children:"Loading results..."}):y?(0,r.jsx)("div",{style:{padding:"12px",textAlign:"center",color:"red"},children:"Error loading results. Please try again."}):j&&j.length>0?j.map((e,t)=>(0,r.jsxs)("div",{onClick:()=>C(e),style:{padding:"10px 12px",borderBottom:t<j.length-1?"1px solid #f0f0f0":"none",cursor:"pointer",display:"flex",gap:"8px"},onMouseEnter:e=>e.currentTarget.style.backgroundColor="#f5f5f5",onMouseLeave:e=>e.currentTarget.style.backgroundColor="transparent",children:[(0,r.jsx)("span",{style:{fontWeight:"bold"},children:e.code}),(0,r.jsx)("span",{children:e.diagnosis})]},t)):u.length>=3?(0,r.jsx)("div",{style:{padding:"12px",textAlign:"center"},children:"No results found"}):null})]})]})}},62764:(e,t,l)=>{l.d(t,{V:()=>n});var r=l(21301);let n={primary:{backgroundColor:r.z.primary,color:r.z.primaryFontColor,"&:hover":{backgroundColor:r.z.primary}},secondary:{backgroundColor:r.z.secondary,color:r.z.secondaryFontColor,"&:hover":{backgroundColor:r.z.secondary}},text:{backgroundColor:"transparent",color:r.z.primaryDark}}},66118:(e,t,l)=>{l.r(t),l.d(t,{useFormikField:()=>a});var r=l(40289),n=l(12115);let a=e=>{let t=(0,r.j7)();if(!t)throw Error("useFormikField must be used within a Formik provider");let{validateField:l,initialValues:a,values:i,touched:o,errors:s,setFieldValue:d,handleChange:c,handleBlur:u}=t,h=(0,n.useMemo)(()=>null==i?void 0:i[e],[i,e]),x=!!((null==o?void 0:o[e])&&(null==s?void 0:s[e]));return{value:h,errorMessage:x?String(s[e]):"",hasError:x,values:i,handleChange:c,handleBlur:e=>u(e),setValue:t=>{d(e,t)},setFieldValue:d,validateField:l,initialValues:a,fieldProps:{name:e,value:h,onChange:c,onBlur:u}}}},67524:(e,t,l)=>{l.r(t),l.d(t,{BaseTable:()=>v,ServerPaginationTable:()=>f});var r=l(95155),n=l(12115),a=l(47642),i=l(95695),o=l(8873),s=l(65967),d=l(6722),c=l(52269),u=l(32582),h=l(73816),x=l(33881),p=l(6314);function m(e){let{paginationModel:t,setPaginationModel:l,rowCount:n}=e,a=(0,i.h)(),c=(0,o.Nc)(a,s.$i),u=(0,o.Nc)(a,s.O),h=null==t?void 0:t.pageSize,x=Math.min(n,(c+1)*h);return(0,r.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"8px"},children:[(0,r.jsx)("div",{children:0===n?"No records":"Showing ".concat(c*h+1,"–").concat(x," of ").concat(n," records")}),(0,r.jsx)(d.A,{color:"primary",count:u,page:c+1,onChange:(e,r)=>l({...t,page:r-1})})]})}let f=e=>{let{columns:t,rows:l,loading:n,setPaginationModel:i,paginationModel:o,rowCount:s,searchText:d,setSearchString:c,onSwitchChange:u,onRowClick:h}=e;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(g,{searchText:null!=d?d:"",requestSearch:c,handleSwitchChange:e=>{u&&u(e.target.checked)}}),(0,r.jsx)(a.z,{sx:{my:"1ch",borderStyle:"none"},onCellClick:e=>{h&&"action"!==e.field&&h(e)},loading:n,rows:l,columns:t,paginationModel:o,rowCount:s,paginationMode:"server",onPaginationModelChange:i,autoHeight:!0,slots:{footer:()=>(0,r.jsx)(m,{paginationModel:o,setPaginationModel:i,rowCount:s})}})]})},g=e=>{let{searchText:t,requestSearch:l,handleSwitchChange:n,showSwitch:a=!0,placeHolder:i="Search Patient"}=e;return(0,r.jsx)(c.default,{children:(0,r.jsx)(u.A,{sx:{my:1,width:"30%"},variant:"outlined",placeholder:i,value:t,onChange:e=>l(e.target.value),InputProps:{startAdornment:(0,r.jsx)(h.A,{position:"start",children:(0,r.jsx)(x.VxX,{})})}})})},v=e=>{let{rows:t,columns:l,hidePagination:i=!1,height:o="100%",width:s="100%",loading:d,style:c,rowHeight:u,checkboxSelection:h=!1,getSelectedItems:x=e=>{},showTopBar:m=!0,searchPlaceHolder:f,showSearchSwitchButton:v}=e,[j,b]=n.useState(""),[y,C]=n.useState(t),[w,A]=n.useState(!1);n.useEffect(()=>{C(t)},[t]),n.useEffect(()=>{S("")},[w]);let S=e=>{b(e);let l=t.filter(t=>Object.keys(t).some(l=>{var r,n,a;return null==(a=t[l])||null==(n=a.toString())||null==(r=n.toLowerCase())?void 0:r.includes(e.toLowerCase())}));w&&(l=l.filter(e=>(0,p.cK)(e.arrival_time))),C(l)};return(0,r.jsxs)("div",{style:{height:o,width:s,...c},children:[m&&(0,r.jsx)(g,{placeHolder:f,showSwitch:v,searchText:j,handleSwitchChange:e=>{A(e.target.checked)},requestSearch:S}),(0,r.jsx)(a.z,{onRowSelectionModelChange:x,checkboxSelection:h,rowHeight:u,sx:{my:"1ch",borderStyle:"none"},loading:d,rows:y,columns:l,hideFooterPagination:i,paginationMode:"client",initialState:{columns:{columnVisibilityModel:{}}}})]})}},76641:(e,t,l)=>{l.d(t,{dM:()=>x,s7:()=>g,DO:()=>o});var r=l(95155),n=l(73816),a=l(32582),i=l(55253);let o=e=>{let{onChange:t,initialValue:l,label:o="Search Patient",placeHolder:s=""}=e;return(0,r.jsx)(a.A,{id:"search",label:o,name:"search",defaultValue:l,fullWidth:!0,sx:{},placeholder:s,onChange:e=>{t(e.target.value)},InputProps:{startAdornment:(0,r.jsx)(n.A,{sx:{color:e=>e.palette.primary.main},position:"start",children:(0,r.jsx)(i.KSO,{})})},variant:"outlined"})};var s=l(59487),d=l(70482),c=l(6314),u=l(12115);let h="#B3B3B3";function x(e){let{searchResults:t}=e,[l,n]=(0,u.useState)(""),[a,i]=(0,u.useState)(!1);return(0,r.jsxs)(s.sc,{elevation:0,sx:{zIndex:1,borderRadius:"1ch",color:h,py:"1ch",position:"absolute",width:"100%"},children:[(0,r.jsx)(m,{patientId:l,onClose:()=>i(!1),open:a}),(0,r.jsx)(p,{person_id:"ID",uuid:"Id",given_name:"Full Name",family_name:"",gender:"Gender",number:"Number",birthdate:"Birth date",sx:{"&:hover":{}},setPatientId:()=>{},setOpen:()=>{}}),(0,r.jsx)(s.jD,{sx:{width:"100%",borderBottomStyle:"dashed",borderColor:h,borderBottomWidth:"1px"}}),(0,r.jsx)(s.jD,{sx:{maxHeight:"20ch",overflow:"scroll"},children:t.map(e=>(0,r.jsx)(p,{setPatientId:n,setOpen:()=>i(!0),...e},e.id))})]})}let p=e=>{let{uuid:t,given_name:l,family_name:n,number:a,gender:o,birthdate:u,person_id:h,sx:x,setPatientId:p,setOpen:m}=e,{navigateTo:f}=(0,d.cq)();return(0,r.jsxs)(s.jD,{onClick:()=>{p(t),m()},sx:{display:"flex",py:"1ch",px:"1ch",mx:"5px",borderRadius:"5px",cursor:"pointer","&:hover":{backgroundColor:"#EBEBEB",".checkItem":{display:"block"}},...x},children:[(0,r.jsx)(s.Th,{flex:.1,children:h}),(0,r.jsx)(s.Th,{flex:.4,children:"".concat(l," ").concat(n)}),(0,r.jsx)(s.Th,{flex:.2,children:o}),(0,r.jsx)(s.Th,{flex:.3,children:"".concat(u," (").concat("Birth date"==u?"Age":(0,c.Cb)(u),")")}),(0,r.jsx)(s.jD,{flex:.1,children:(0,r.jsx)(s.Th,{className:"checkItem",sx:{display:"none",color:e=>e.palette.primary.main},children:(0,r.jsx)(i.CMH,{})})})]})},m=e=>{let{open:t,onClose:l,patientId:n}=e,{navigateTo:a}=(0,d.cq)();return(0,r.jsxs)(s.eV,{maxWidth:"sm",title:"Confirmation",open:t,onClose:l,children:[(0,r.jsx)(s.Th,{children:"you are opening patient profile in view mode. Do you want to continue"}),(0,r.jsx)(s.O6,{title:"YES",sx:{mr:"0.5ch"},onClick:()=>a("/patient/".concat(n,"/profile"))}),(0,r.jsx)(s.O6,{variant:"secondary",title:"NO",onClick:l})]})},f=[{id:"1234",fullName:"James Doe",number:"1234"},{id:"5678",fullName:"John Doe",number:"5678"},{id:"9876",fullName:"Alice Smith",number:"9876"},{id:"5432",fullName:"Bob Johnson",number:"5432"},{id:"2468",fullName:"Eva Davis",number:"2468"},{id:"1357",fullName:"Chris Brown",number:"1357"},{id:"6543",fullName:"Olivia White",number:"6543"},{id:"7890",fullName:"Daniel Miller",number:"7890"},{id:"3210",fullName:"Sophia Taylor",number:"3210"},{id:"8765",fullName:"Michael Wilson",number:"8765"},{id:"4321",fullName:"Emma Anderson",number:"4321"},{id:"5678",fullName:"William Jackson",number:"5678"}],g=e=>{let{initialValue:t,placeHolder:l,label:n,initialSearch:a,getResult:i,getSearch:s}=e,[d,c]=(0,u.useState)([]);(0,u.useEffect)(()=>{a&&h(a)},[a]),(0,u.useEffect)(()=>{i&&i(d)},[d]);let h=e=>{c(f.filter(t=>t.fullName.toLowerCase().includes(e.toLowerCase())))};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(o,{label:n,placeHolder:l,initialValue:t||"",onChange:e=>{if(0===e.length)return void c([]);s&&s(e),h(e)}}),d.length>0&&(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(x,{searchResults:d})})]})}},80233:(e,t,l)=>{l.r(t),l.d(t,{TextInputField:()=>u});var r=l(95155),n=l(12115),a=l(77498),i=l(99284),o=l(32582),s=l(48453),d=l(73816),c=l(59487);let u=e=>{let{id:t,name:l,label:u,sx:h,type:x,placeholder:p="",size:m="medium",rows:f,getValue:g,showHelperText:v=!0,disabled:j=!1,multiline:b=!1,inputIcon:y,unitOfMeasure:C,helperTextWidth:w="25ch",externalValue:A,handleBlurEvent:S,onChange:k}=e,{value:F,handleChange:T,hasError:I,errorMessage:E,handleBlur:z,setValue:B}=(0,s.W)(l);return(0,n.useEffect)(()=>{void 0!==A&&A!==F&&B(A)},[A]),(0,n.useEffect)(()=>{null==g||g(F)},[F]),(0,r.jsxs)(a.A,{variant:"standard",sx:{mb:"1ch",fontSize:"0.76rem",...h},children:[(0,r.jsx)(i.A,{shrink:!0,htmlFor:t,children:u}),(0,r.jsx)(o.A,{sx:{backgroundColor:"white","label + &":{marginTop:"2.3ch"},"& .MuiInputBase-input":{width:"100%",borderRadius:"5px"},"& .MuiFormHelperText-root":{width:w},"& fieldset":{borderRadius:"5px"},...h},id:t,name:l,value:F,type:x,onBlur:e=>{z(e),null==S||S(e.target.value)},onChange:e=>{let t=e.target.value;T(e),null==k||k(t)},error:I,size:m,placeholder:p,rows:f,disabled:j,multiline:b,InputProps:{endAdornment:C&&(0,r.jsx)(d.A,{position:"start",children:C}),startAdornment:y&&(0,r.jsx)(d.A,{position:"start",children:y})}}),v&&(0,r.jsx)(c.Th,{color:"red",variant:"subtitle2",children:E})]})}},81896:(e,t,l)=>{l.r(t),l.d(t,{DatePickerInput:()=>o});var r=l(95155),n=l(9952),a=l(77952),i=l(32987);let o=()=>(0,r.jsx)(a.$,{dateAdapter:n.R,children:(0,r.jsx)(i.l,{})})},82545:(e,t,l)=>{l.d(t,{A:()=>o});var r=l(95155);l(12115);var n=l(52269),a=l(53494),i=l(55253);let o=function(e){let{items:t,setItems:l,newItem:o,renderFields:s,itemsProps:d}=e;function c(){l([...t,o])}return(0,r.jsx)(n.default,{sx:{display:"flex",flexDirection:"column",gap:2,"@media (max-width: 1000px)":{flexDirection:"column"}},children:t.map((e,o)=>(0,r.jsxs)(n.default,{sx:{display:"flex",gap:2,alignItems:"center",flexWrap:"wrap",...d},children:[s(e,o),(0,r.jsxs)(n.default,{sx:{display:"flex",alignItems:"center"},children:[(0,r.jsx)(a.default,{disabled:0===o,onClick:()=>{l(t.filter((e,t)=>t!==o))},color:"error",children:(0,r.jsx)(i.iu5,{})}),o===t.length-1&&(0,r.jsx)(a.default,{onClick:c,color:"primary",children:(0,r.jsx)(i.OiG,{})})]})]},o))})}},84848:(e,t,l)=>{l.r(t),l.d(t,{BackButton:()=>s});var r=l(95155),n=l(33881),a=l(70482),i=l(52269),o=l(9670);function s(e){let{onClick:t,label:l}=e,{navigateBackToProfile:s}=(0,a.cq)();return(0,r.jsxs)(i.default,{onClick:t||s,sx:{display:"flex",alignItems:"center",mb:2,cursor:"pointer"},children:[(0,r.jsx)(i.default,{sx:{width:"24px",height:"24px",fontSize:"20px"},children:(0,r.jsx)(n.ed2,{})}),(0,r.jsx)(o.default,{sx:{fontSize:"14px",fontWeight:400,lineHeight:"21px",letterSpacing:"0em",ml:1},children:l||"Back to Profile"})]})}},88904:(e,t,l)=>{l.r(t),l.d(t,{DashedContainer:()=>s,FieldsContainer:()=>i,FormFieldContainerLayout:()=>o,FormFieldContainerMultiple:()=>d});var r=l(95155),n=l(52269),a=l(59487);let i=e=>{let{children:t,sx:l,mr:n="1ch"}=e;return(0,r.jsx)(a.jD,{display:"flex",justifyContent:"flex-start",sx:{...l,"& > :first-of-type":{mr:n}},children:t})},o=e=>{let{children:t,title:l,last:n=!1}=e;return(0,r.jsxs)(a.jD,{sx:{display:"flex",flexDirection:{xs:"column",lg:"row"},my:"1ch",py:"2ch",width:"100%",borderBottom:n?"":"2px dashed #B3B3B3"},children:[(0,r.jsx)(a.Th,{sx:{fontSize:"16px",fontWeight:600,lineHeight:"24px",letterSpacing:"0em",textAlign:"left",width:{lg:"40%"},mb:{xs:"2ch"}},children:l}),(0,r.jsx)(a.jD,{sx:{width:{xs:"100%",lg:"60%"}},children:t})]})},s=e=>{let{children:t,my:l="0.5ch",border:a="top"}=e;return(0,r.jsx)(n.default,{sx:{borderTop:"top"===a||"both"===a?"2px dashed #B3B3B3":void 0,borderBottom:"bottom"===a||"both"===a?"2px dashed #B3B3B3":void 0,my:l,py:"0.5ch"},children:t})},d=e=>{let{children:t}=e;return(0,r.jsx)(n.default,{sx:{display:"flex",flexDirection:{xs:"column",sm:"row"},gap:2,width:"100%","& > *":{width:{xs:"100%",sm:"auto"},flex:1}},children:t})}},90584:(e,t,l)=>{l.r(t),l.d(t,{FormDatePicker:()=>p});var r=l(95155),n=l(30832),a=l.n(n),i=l(9952),o=l(77952),s=l(32987),d=l(12115),c=l(48453),u=l(52269),h=l(99284),x=l(59487);let p=e=>{let{name:t,label:l,width:n="25ch",sx:p,size:m="medium",getValue:f,disabled:g=!1,onBlur:v}=e,{value:j,setFieldValue:b,initialValues:y,errorMessage:C}=(0,c.W)(t);(0,d.useEffect)(()=>{f&&f(j)},[j]);let w="";return"object"==typeof y&&null!==y&&(w=y[t]),(0,r.jsx)(o.$,{dateAdapter:i.R,children:(0,r.jsxs)(u.default,{sx:{display:"flex",flexDirection:"column",width:n},children:[(0,r.jsx)(h.A,{sx:{mb:"1ch",fontSize:"0.76rem",color:"text.secondary"},children:l}),(0,r.jsx)(s.l,{sx:{backgroundColor:"white","& fieldset":{borderRadius:"5px"},...p},defaultValue:a()(w),label:"",onChange:e=>b(t,a()(e).format("YYYY-MM-DD")),disabled:g,onClose:()=>{null==v||v(j)},slotProps:{textField:{onBlur:e=>{null==v||v(j)}}}}),(0,r.jsx)(x.Th,{color:"red",variant:"subtitle2",children:C})]})})}},94836:(e,t,l)=>{l.r(t),l.d(t,{MultlineInput:()=>i,default:()=>o});var r=l(95155),n=l(32582),a=l(48453);let i=e=>{let{id:t,name:l,label:i,maxRows:o,sx:s,width:d,disabled:c=!1}=e,{value:u,handleChange:h,hasError:x,errorMessage:p,handleBlur:m}=(0,a.W)(l);return(0,r.jsx)(n.A,{sx:{width:d,my:"1ch","& fieldset":{borderRadius:"10px"},...s},id:t,name:l,label:i,multiline:!0,disabled:c,variant:"outlined",maxRows:o,onBlur:m,onChange:h,error:x,value:u,helperText:p})},o=i},96756:(e,t,l)=>{l.r(t),l.d(t,{FormikInit:()=>o});var r=l(95155),n=l(40289),a=l(12115),i=l(52227);let o=e=>{let{children:t,onSubmit:l,validationSchema:a,initialValues:o,submitButton:d=!0,submitButtonText:c="submit",submitVariant:u="primary",loading:h,enableReinitialize:x=!1,getFormValues:p=e=>{},ref:m}=e;return(0,r.jsx)(n.l1,{initialValues:o,onSubmit:l,validationSchema:a,enableReinitialize:x,innerRef:m,children:e=>{let{values:l,setFieldValue:a,errors:o,submitCount:x}=e;return(0,r.jsxs)(n.lV,{children:[(0,r.jsx)(s,{getFormValues:p,values:l}),"function"==typeof t?t({values:l,setFieldValue:a,submitCount:x}):t,d&&(0,r.jsx)(i.O6,{sx:{mt:3},variant:u,type:"submit",title:h?(0,r.jsx)("i",{style:{textTransform:"lowercase"},children:"loading..."}):c,onClick:()=>{}})]})}})},s=e=>{let{values:t,getFormValues:l}=e;return(0,a.useEffect)(()=>{l(t)},[t]),null}},97904:(e,t,l)=>{l.r(t),l.d(t,{NavBar:()=>c});var r=l(95155),n=l(76641),a=l(70482),i=l(59487),o=l(12115),s=l(3525),d=l(35695);let c=()=>{let{navigateTo:e}=(0,a.cq)(),{loggedIn:t,setLoggedIn:l}=(0,o.useContext)(s.cy);(0,o.useEffect)(()=>{localStorage&&localStorage.getItem("accessToken")},[]);let c=(0,d.usePathname)();return i.jD,n.s7,(0,r.jsx)(r.Fragment,{children:"/"===c?null:(0,r.jsx)(i.yk,{loggedIn:t,handleLogout:()=>{localStorage.clear(),l(!1),e("/")},onTitleClick:()=>e("/dashboard")})})}}}]);