"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2478],{320:(e,t,l)=>{l.d(t,{A:()=>o});var r=l(95155);l(12115);var n=l(94049),a=l(1151),i=l(97998);let o=function(e){let{items:t,setItems:l,newItem:o,renderFields:s,itemsProps:d}=e;function c(){l([...t,o])}return(0,r.jsx)(n.default,{sx:{display:"flex",flexDirection:"column",gap:2,"@media (max-width: 1000px)":{flexDirection:"column"}},children:t.map((e,o)=>(0,r.jsxs)(n.default,{sx:{display:"flex",gap:2,alignItems:"center",flexWrap:"wrap",...d},children:[s(e,o),(0,r.jsxs)(n.default,{sx:{display:"flex",alignItems:"center"},children:[(0,r.jsx)(a.default,{disabled:0===o,onClick:()=>{l(t.filter((e,t)=>t!==o))},color:"error",children:(0,r.jsx)(i.iu5,{})}),o===t.length-1&&(0,r.jsx)(a.default,{onClick:c,color:"primary",children:(0,r.jsx)(i.OiG,{})})]})]},o))})}},597:(e,t,l)=>{l.d(t,{dM:()=>h,s7:()=>g,DO:()=>o});var r=l(95155),n=l(42553),a=l(9562),i=l(97998);let o=e=>{let{onChange:t,initialValue:l,label:o="Search Patient",placeHolder:s=""}=e;return(0,r.jsx)(a.A,{id:"search",label:o,name:"search",defaultValue:l,fullWidth:!0,sx:{},placeholder:s,onChange:e=>{t(e.target.value)},InputProps:{startAdornment:(0,r.jsx)(n.A,{sx:{color:e=>e.palette.primary.main},position:"start",children:(0,r.jsx)(i.KSO,{})})},variant:"outlined"})};var s=l(72478),d=l(87295),c=l(26301),u=l(12115);let x="#B3B3B3";function h(e){let{searchResults:t}=e,[l,n]=(0,u.useState)(""),[a,i]=(0,u.useState)(!1);return(0,r.jsxs)(s.sc,{elevation:0,sx:{zIndex:1,borderRadius:"1ch",color:x,py:"1ch",position:"absolute",width:"100%"},children:[(0,r.jsx)(m,{patientId:l,onClose:()=>i(!1),open:a}),(0,r.jsx)(p,{person_id:"ID",uuid:"Id",given_name:"Full Name",family_name:"",gender:"Gender",number:"Number",birthdate:"Birth date",sx:{"&:hover":{}},setPatientId:()=>{},setOpen:()=>{}}),(0,r.jsx)(s.jD,{sx:{width:"100%",borderBottomStyle:"dashed",borderColor:x,borderBottomWidth:"1px"}}),(0,r.jsx)(s.jD,{sx:{maxHeight:"20ch",overflow:"scroll"},children:t.map(e=>(0,r.jsx)(p,{setPatientId:n,setOpen:()=>i(!0),...e},e.id))})]})}let p=e=>{let{uuid:t,given_name:l,family_name:n,number:a,gender:o,birthdate:u,person_id:x,sx:h,setPatientId:p,setOpen:m}=e,{navigateTo:f}=(0,d.cq)();return(0,r.jsxs)(s.jD,{onClick:()=>{p(t),m()},sx:{display:"flex",py:"1ch",px:"1ch",mx:"5px",borderRadius:"5px",cursor:"pointer","&:hover":{backgroundColor:"#EBEBEB",".checkItem":{display:"block"}},...h},children:[(0,r.jsx)(s.Th,{flex:.1,children:x}),(0,r.jsx)(s.Th,{flex:.4,children:"".concat(l," ").concat(n)}),(0,r.jsx)(s.Th,{flex:.2,children:o}),(0,r.jsx)(s.Th,{flex:.3,children:"".concat(u," (").concat("Birth date"==u?"Age":(0,c.Cb)(u),")")}),(0,r.jsx)(s.jD,{flex:.1,children:(0,r.jsx)(s.Th,{className:"checkItem",sx:{display:"none",color:e=>e.palette.primary.main},children:(0,r.jsx)(i.CMH,{})})})]})},m=e=>{let{open:t,onClose:l,patientId:n}=e,{navigateTo:a}=(0,d.cq)();return(0,r.jsxs)(s.eV,{maxWidth:"sm",title:"Confirmation",open:t,onClose:l,children:[(0,r.jsx)(s.Th,{children:"you are opening patient profile in view mode. Do you want to continue"}),(0,r.jsx)(s.O6,{title:"YES",sx:{mr:"0.5ch"},onClick:()=>a("/patient/".concat(n,"/profile"))}),(0,r.jsx)(s.O6,{variant:"secondary",title:"NO",onClick:l})]})},f=[{id:"1234",fullName:"James Doe",number:"1234"},{id:"5678",fullName:"John Doe",number:"5678"},{id:"9876",fullName:"Alice Smith",number:"9876"},{id:"5432",fullName:"Bob Johnson",number:"5432"},{id:"2468",fullName:"Eva Davis",number:"2468"},{id:"1357",fullName:"Chris Brown",number:"1357"},{id:"6543",fullName:"Olivia White",number:"6543"},{id:"7890",fullName:"Daniel Miller",number:"7890"},{id:"3210",fullName:"Sophia Taylor",number:"3210"},{id:"8765",fullName:"Michael Wilson",number:"8765"},{id:"4321",fullName:"Emma Anderson",number:"4321"},{id:"5678",fullName:"William Jackson",number:"5678"}],g=e=>{let{initialValue:t,placeHolder:l,label:n,initialSearch:a,getResult:i,getSearch:s}=e,[d,c]=(0,u.useState)([]);(0,u.useEffect)(()=>{a&&x(a)},[a]),(0,u.useEffect)(()=>{i&&i(d)},[d]);let x=e=>{c(f.filter(t=>t.fullName.toLowerCase().includes(e.toLowerCase())))};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(o,{label:n,placeHolder:l,initialValue:t||"",onChange:e=>{if(0===e.length)return void c([]);s&&s(e),x(e)}}),d.length>0&&(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(h,{searchResults:d})})]})}},3671:(e,t,l)=>{l.r(t),l.d(t,{default:()=>s});var r=l(95155),n=l(12115),a=l(16612);l(54608);var i=l(95436),o=l(53206);let s=e=>{let{onICD11Selection:t,iNo:l,label:s}=e;return(0,n.useEffect)(()=>(a.Handler.configure({apiServerUrl:"",wordsAvailable:!1,autoBind:!1},{selectedEntityFunction:e=>{console.log("Entity selected:",e),t&&t(e),a.Handler.clear(l)}}),a.Handler.bind(l),()=>{a.Handler.clear(l)}),[t,l]),(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{style:{position:"relative",width:"full"},children:[(0,r.jsx)(i.A,{sx:{mb:"1ch",fontSize:"0.76rem",color:"text.secondary"},children:s}),(0,r.jsx)(o.zfp,{style:{position:"absolute",left:"10px",top:"60%",transform:"translateY(-50%)",cursor:"pointer",color:"gray"}}),(0,r.jsx)("input",{type:"text",className:"ctw-input",autoComplete:"on","data-ctw-ino":l,style:{marginBottom:"1ch",paddingInline:"3ch",fontSize:".96rem",color:"text.secondary",height:"48px",width:"100%",borderRadius:"5px"}})]}),(0,r.jsx)("div",{className:"ctw-window",style:{background:"white",marginLeft:"40px",position:"relative",zIndex:9999},"data-ctw-ino":l})]})}},4858:(e,t,l)=>{l.r(t),l.d(t,{PatientInfoTab:()=>s});var r=l(95155),n=l(26301),a=l(87295),i=l(5387),o=l(72478);let s=()=>{var e,t;let{params:l}=(0,a.KU)(),{data:s,isLoading:c}=(0,i.GN)(null==l?void 0:l.id);return(0,r.jsxs)(o.sc,{sx:{display:"flex",flexWrap:"wrap",justifyContent:{xs:"center",md:"space-evenly"},gap:"16px",padding:{lg:"24px 108px",xs:"24px 20px"},backgroundColor:"#fff",borderBottom:"1px solid #B3B3B3",boxShadow:"0px 8px 24px 0px #084A231A",borderRadius:"8px"},children:[(0,r.jsx)(d,{label:"Full Name",value:"".concat(null==s?void 0:s.given_name," ").concat(null==s?void 0:s.family_name)}),(0,r.jsx)(d,{label:"ID",value:null!=(t=null==s||null==(e=s.identifiers[0])?void 0:e.identifier)?t:""}),(0,r.jsx)(d,{label:"Age",value:"".concat((0,n.Cb)(null==s?void 0:s.birthdate),"yr (").concat(null==s?void 0:s.birthdate,")")}),(0,r.jsx)(d,{label:"Category",value:"Referral"}),(0,r.jsx)(d,{label:"Gender",value:s?null==s?void 0:s.gender:""})]})},d=e=>{let{label:t,value:l,sx:n}=e;return(0,r.jsxs)(o.jD,{sx:{display:"flex",flexDirection:"column",alignItems:"flex-start",gap:"4px",...n},children:[(0,r.jsxs)(o.Th,{sx:{fontFamily:"Inter",fontSize:{xs:"12px",md:"14px"},fontWeight:400,lineHeight:"21px",letterSpacing:"0em",textAlign:"left",color:"#6B7280"},children:[t,":"]}),(0,r.jsx)(o.Th,{sx:{fontFamily:"Inter",fontSize:{xs:"14px",md:"16px"},fontWeight:500,lineHeight:"20px",letterSpacing:"0em",textAlign:"left",color:"#111827"},children:l})]})}},7737:(e,t,l)=>{l.r(t),l.d(t,{UnitInputField:()=>h});var r=l(95155),n=l(12115),a=l(95436),i=l(94049),o=l(9562),s=l(42553),d=l(55606),c=l(86973),u=l(29850),x=l(72478);let h=e=>{let{disabled:t=!1,id:l,label:h,name:p,unitName:m,placeholder:f="",unitOptions:g,sx:j,inputIcon:v,handleBlurEvent:b}=e,{value:y,hasError:A,errorMessage:C,handleChange:w,setFieldValue:S,handleBlur:k}=(0,u.W)(p),{value:F,setFieldValue:I}=(0,u.W)(m),[T,z]=(0,n.useState)(F||g[0]);return(0,n.useEffect)(()=>{F||I(m,g[0])},[F,g,m,I]),(0,r.jsxs)(x.jD,{sx:{mb:"1ch",marginTop:"1ch",...j},children:[(0,r.jsx)(a.A,{shrink:!0,htmlFor:l,children:h}),(0,r.jsxs)(i.default,{position:"relative",display:"flex",alignItems:"center",children:[(0,r.jsx)(o.A,{disabled:t,id:l,name:p,value:y,onChange:w,placeholder:f,variant:"outlined",sx:{flexGrow:1,background:"white",height:56},error:A,onBlur:e=>{k(e),b&&b(e.target.value)},InputProps:{startAdornment:v&&(0,r.jsx)(s.A,{position:"start",children:v})}}),(0,r.jsx)(d.A,{disabled:t,value:T,onChange:e=>{let t=e.target.value;I(m,e.target.value),z(t)},variant:"outlined",sx:{position:"absolute",right:0,width:100,height:"100%",background:"white",borderTopLeftRadius:0,borderBottomLeftRadius:0,alignItems:"center"},MenuProps:{PaperProps:{style:{maxHeight:200}},disableScrollLock:!0},children:g.map(e=>(0,r.jsx)(c.A,{value:e,children:e},e))})]}),(0,r.jsx)(x.Th,{color:"red",variant:"subtitle2",children:C})]})}},8282:(e,t,l)=>{l.r(t),l.d(t,{default:()=>c});var r=l(95155),n=l(12115),a=l(95436),i=l(53206),o=l(22454),s=l(93292);let d=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:36e5,l=function(e,t){let[l,r]=(0,n.useState)(e);return(0,n.useEffect)(()=>{let t=setTimeout(()=>r(e),300);return()=>{clearTimeout(t)}},[e,300]),l}(e,300);return(0,o.I)({queryKey:["icd11Search",l],queryFn:async()=>(await (0,s.UK)("".concat("/icd11_diagnoses/search_by_title","?title=").concat(encodeURIComponent(l)))).data.map(e=>{let t=e.lastIndexOf(" - ");return -1!==t?{diagnosis:e.substring(0,t).trim(),code:e.substring(t+3).trim()}:{diagnosis:e,code:""}}),enabled:!!l&&l.length>2,staleTime:3e5,gcTime:t,refetchOnWindowFocus:!1,refetchOnMount:!1,refetchOnReconnect:!1})},c=e=>{let{label:t,onSelection:l,initialValue:o="",placeholder:s="Search for a diagnosis...",width:c="300px"}=e,[u,x]=(0,n.useState)(""),[h,p]=(0,n.useState)(!1),[m,f]=(0,n.useState)(o),g=(0,n.useRef)(null),j=(0,n.useRef)(null),{data:v,isLoading:b,isError:y}=d(u,36e5);return(0,n.useEffect)(()=>{let e=e=>{g.current&&!g.current.contains(e.target)&&j.current&&!j.current.contains(e.target)&&p(!1)};return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[]),(0,r.jsxs)("div",{className:"icd11-selection",children:[(0,r.jsx)(a.A,{sx:{mb:"1ch",fontSize:"0.76rem",color:"text.secondary"},children:t}),(0,r.jsxs)("div",{style:{position:"relative",width:"100%"},children:[(0,r.jsx)(i.zfp,{style:{position:"absolute",left:"10px",top:"40%",transform:"translateY(-50%)",cursor:"pointer",color:"gray"}}),(0,r.jsx)("input",{ref:j,type:"text",value:u,onChange:e=>{let t=e.target.value;x(t),p(t.length>=3)},onFocus:()=>{u.length>=3&&p(!0)},placeholder:s,style:{marginBottom:"1ch",paddingInline:"3.5ch",fontSize:".96rem",color:"#333",height:"48px",width:c,borderRadius:"5px",border:"1px solid #e0e0e0",outline:"none"}}),h&&(0,r.jsx)("div",{ref:g,style:{position:"absolute",top:"calc(100% - 1ch)",left:0,width:"100%",maxHeight:"300px",overflowY:"auto",backgroundColor:"white",borderRadius:"5px",boxShadow:"0 4px 10px rgba(0,0,0,0.1)",zIndex:9999,border:"1px solid #e0e0e0"},children:b?(0,r.jsx)("div",{style:{padding:"12px",textAlign:"center"},children:"Loading results..."}):y?(0,r.jsx)("div",{style:{padding:"12px",textAlign:"center",color:"red"},children:"Error loading results. Please try again."}):v&&v.length>0?v.map((e,t)=>(0,r.jsxs)("div",{onClick:()=>(e=>{f("".concat(e.diagnosis," - ").concat(e.code)),p(!1),x(""),l&&l(e)})(e),style:{padding:"10px 12px",borderBottom:t<v.length-1?"1px solid #f0f0f0":"none",cursor:"pointer",display:"flex",gap:"8px"},onMouseEnter:e=>e.currentTarget.style.backgroundColor="#f5f5f5",onMouseLeave:e=>e.currentTarget.style.backgroundColor="transparent",children:[(0,r.jsx)("span",{style:{fontWeight:"bold"},children:e.code}),(0,r.jsx)("span",{children:e.diagnosis})]},t)):u.length>=3?(0,r.jsx)("div",{style:{padding:"12px",textAlign:"center"},children:"No results found"}):null})]})]})}},9877:(e,t,l)=>{l.d(t,{O:()=>r});let r=()=>{var e;return null==(e=window.localStorage.getItem("roles"))?void 0:e.split(",")}},10826:(e,t,l)=>{l.r(t),l.d(t,{NavigationBar:()=>B});var r=l(95155),n=l(12115),a=l(63417),i=l(94049),o=l(30354),s=l(1151),d=l(25635),c=l(56164),u=l(97998),x=l(53756),h=l(86973),p=l(12164),m=l(26301),f=l(2300),g=l(96772),j=l(88538),v=l(4474),b=l(49501),y=l(21067),A=l(51611),C=l(5312),w=l(87295),S=l(5387),k=l(71101),F=l(70952),I=l(47317),T=l(55302),z=l(38083),E=l(263);function B(e){let{onTitleClick:t,handleLogout:l,loggedIn:B}=e,[D,P]=(0,n.useState)(null),[N,W]=(0,n.useState)(""),[M,R]=(0,n.useState)(null),_=!!M&&""!==N.trim(),[O,L]=(0,n.useState)({firstName:"",lastName:"",gender:""}),H=function(e,t){let[l,r]=(0,n.useState)(e);return(0,n.useEffect)(()=>{let t=setTimeout(()=>{r(e)},300);return()=>clearTimeout(t)},[e,300]),l}(N,300);(0,n.useEffect)(()=>{H&&""!==H.trim()?R(document.getElementById("search-input")):R(null)},[H]),(0,n.useEffect)(()=>{if(!H||""===H.trim())return;let e=el(H);L({firstName:e.given_name,lastName:e.family_name,gender:e.gender})},[H]);let V=()=>P(null),Y=()=>R(null),{navigateTo:G}=(0,w.cq)(),[q,K]=(0,n.useState)("");(0,n.useEffect)(()=>{(async()=>{await m.Fh.initialize();let e=m.Fh.getServerTimeString();K((0,m.k)(e))})()},[]);let{refetch:U,isFetching:$,data:Z}=(0,S.L3)(O.firstName,O.lastName,O.gender),{refetch:J,isFetching:Q,data:X}=(0,S.jL)(O.firstName,O.lastName,O.gender),{refetch:ee,data:et}=(0,T.Ov)(O.firstName);(0,n.useEffect)(()=>{O.firstName&&(J(),ee()),O.firstName&&O.lastName&&O.gender&&U()},[O,U,J,ee]);let el=e=>{let t=e.split(" ");return{given_name:t[0]||"",family_name:t[1]||"",gender:t[2]||""}},er=(0,n.useMemo)(()=>Z?[...Z.locals||[],...Z.remotes||[]].map(e=>{var t,l,r,n,a,i,o,s,d,c,u,x,h,p,m;return{fullname:"".concat(null==e?void 0:e.given_name," ").concat(null==e?void 0:e.family_name),birthday:null==e?void 0:e.birthdate,gender:null==e?void 0:e.gender,currentAddress:"".concat(null!=(u=null==e||null==(l=e.addresses)||null==(t=l[0])?void 0:t.current_district)?u:"",",").concat(null!=(x=null==e||null==(n=e.addresses)||null==(r=n[0])?void 0:r.current_traditional_authority)?x:"",",").concat(null!=(h=null==e||null==(i=e.addresses)||null==(a=i[0])?void 0:a.address2)?h:""),homeAddress:"".concat(null!=(p=null==e||null==(s=e.addresses)||null==(o=s[0])?void 0:o.address1)?p:"",",").concat(null!=(m=null==e||null==(c=e.addresses)||null==(d=c[0])?void 0:d.county_district)?m:""),id:e.uuid}}):[],[Z]),en=(0,n.useMemo)(()=>X?X.map(e=>{var t,l,r,n,a,i,o,s,d,c,u,x,h,p,m;return{fullname:"".concat(null==e?void 0:e.given_name," ").concat(null==e?void 0:e.family_name),birthday:null==e?void 0:e.birthdate,gender:null==e?void 0:e.gender,currentAddress:"".concat(null!=(u=null==e||null==(l=e.addresses)||null==(t=l[0])?void 0:t.current_district)?u:"",",").concat(null!=(x=null==e||null==(n=e.addresses)||null==(r=n[0])?void 0:r.current_traditional_authority)?x:"",",").concat(null!=(h=null==e||null==(i=e.addresses)||null==(a=i[0])?void 0:a.address2)?h:""),homeAddress:"".concat(null!=(p=null==e||null==(s=e.addresses)||null==(o=s[0])?void 0:o.address1)?p:"",",").concat(null!=(m=null==e||null==(c=e.addresses)||null==(d=c[0])?void 0:d.county_district)?m:""),id:e.uuid}}):[],[X]),ea=(0,n.useMemo)(()=>et?[...et.locals||[],...et.remotes||[]].map(e=>{var t,l,r,n,a,i,o,s,d,c,u,x,h,p,m;return{fullname:"".concat(null==e?void 0:e.given_name," ").concat(null==e?void 0:e.family_name),birthday:null==e?void 0:e.birthdate,gender:null==e?void 0:e.gender,currentAddress:"".concat(null!=(u=null==e||null==(l=e.addresses)||null==(t=l[0])?void 0:t.current_district)?u:"",",").concat(null!=(x=null==e||null==(n=e.addresses)||null==(r=n[0])?void 0:r.current_traditional_authority)?x:"",",").concat(null!=(h=null==e||null==(i=e.addresses)||null==(a=i[0])?void 0:a.address2)?h:""),homeAddress:"".concat(null!=(p=null==e||null==(s=e.addresses)||null==(o=s[0])?void 0:o.address1)?p:"",",").concat(null!=(m=null==e||null==(c=e.addresses)||null==(d=c[0])?void 0:d.county_district)?m:""),id:e.uuid}}):[],[et]),ei=(0,n.useMemo)(()=>ea.length>0?ea:er.length>0?er:en,[en,er,ea]),eo=(0,n.useMemo)(()=>[{accessorKey:"fullname",header:"Fullname"},{accessorKey:"birthday",header:"Birthday"},{accessorKey:"gender",header:"Gender"},{accessorKey:"currentAddress",header:"Current Address"},{accessorKey:"homeAddress",header:"Home Address"}],[]),es=[E.Ot.ADMIN,E.Ot.CLINICIAN,E.Ot.NURSE];return(0,r.jsx)(r.Fragment,{children:B&&(0,r.jsx)(i.default,{sx:{flexGrow:1},children:(0,r.jsx)(a.A,{position:"static",sx:{backgroundColor:"#006401"},children:(0,r.jsxs)(o.A,{sx:{justifyContent:"space-between"},children:[(0,r.jsxs)(i.default,{sx:{display:"flex",alignItems:"center",mr:2},children:[(0,r.jsx)(s.default,{size:"large",edge:"start",color:"inherit",children:(0,r.jsx)(p.A,{})}),(0,r.jsx)(d.default,{variant:"h6",noWrap:!0,sx:{cursor:"pointer",display:{xs:"none",sm:"block"}},onClick:()=>t(),children:(0,r.jsxs)(i.default,{lineHeight:1,children:[(0,r.jsx)("div",{style:{fontSize:"16px"},children:"MaHIS (AETC)"}),(0,r.jsxs)("div",{style:{fontSize:"14px"},children:["Queen Elizabeth Central Hospital |"," ",(0,r.jsx)("span",{style:{color:"rgb(116, 255, 21)"},children:q})]})]})})]}),(0,z.W)(es)&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(f.default,{id:"search-input",component:"div",sx:{p:"2px 4px",display:"flex",alignItems:"center",minWidth:"45%"},children:[(0,r.jsx)(s.default,{sx:{p:"10px"},"aria-label":"search",children:(0,r.jsx)(A.A,{})}),(0,r.jsx)(g.Ay,{value:N,onChange:e=>W(e.target.value),sx:{ml:1,flex:1},placeholder:"Add or search for a client by MRN, name, or by scanning a barcode/QR code."}),(0,r.jsx)(s.default,{color:"primary",sx:{p:"10px",color:"#000"},"aria-label":"add new patient",onClick:()=>G("/registration/new"),children:(0,r.jsx)(C.A,{})})]}),(0,r.jsx)(j.default,{id:_?"search-popover":void 0,open:_,anchorEl:M,onClose:Y,anchorOrigin:{vertical:"bottom",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"left"},sx:{mt:.1},slotProps:{paper:{sx:{width:"97.5vw",maxWidth:"none"}}},disableEnforceFocus:!0,disableAutoFocus:!0,children:(0,r.jsxs)(i.default,{sx:{width:"100%"},children:[($||Q)&&(0,r.jsx)(i.default,{sx:{display:"flex",justifyContent:"center",p:2},children:(0,r.jsx)(v.A,{})}),!$&&!Q&&ei.length>0&&(0,r.jsx)(k.$,{dateAdapter:I.R,children:(0,r.jsx)(F.w,{data:ei,columns:eo,title:"",showGlobalFilter:!1,enableColumnOrdering:!1,enableColumnActions:!1,enableColumnFilters:!1,enableSorting:!1,initialState:{columnPinning:{left:["fullname"]}},onRowClick:e=>{Y(),(0,z.W)(es)?G("/patient/".concat(e.row.original.id,"/profile")):alert("You are not authorized to perform this action.")}})}),!$&&!Q&&0===ei.length&&(0,r.jsx)(i.default,{sx:{p:3,textAlign:"center"},children:(0,r.jsx)(d.default,{children:"No matching patients found"})})]})})]}),(0,r.jsxs)(i.default,{sx:{display:"flex",alignItems:"center",color:"#fff"},children:[(0,r.jsx)(s.default,{sx:{color:"#fff",mr:1},children:(0,r.jsx)(c.hbh,{})}),(0,r.jsxs)(s.default,{onClick:e=>P(e.currentTarget),sx:{color:"#fff",display:"flex",alignItems:"center",gap:1,px:1.5,py:.5,borderRadius:2,"&:hover":{backgroundColor:"rgba(255,255,255,0.1)"}},children:[(0,r.jsx)(c.d$e,{size:22}),(0,r.jsx)(d.default,{variant:"subtitle1",sx:{fontWeight:500},children:localStorage.getItem("userName")||"User"})]}),(0,r.jsxs)(x.A,{anchorEl:D,open:!!D,onClose:V,PaperProps:{sx:{mt:1.5,borderRadius:2,minWidth:180,boxShadow:"0px 2px 8px rgba(0,0,0,0.2), 0px 0px 0px 1px rgba(0,0,0,0.05)"}},children:[(0,r.jsxs)(h.A,{onClick:V,children:[(0,r.jsx)(b.A,{children:(0,r.jsx)(c.x$1,{size:16})}),"Profile"]}),(0,r.jsxs)(h.A,{onClick:()=>{V(),G("/changePassword")},children:[(0,r.jsx)(b.A,{children:(0,r.jsx)(c.JhU,{size:16})}),"Change Password"]}),(0,r.jsx)(y.A,{sx:{my:.5}}),(0,r.jsxs)(h.A,{onClick:()=>{V(),l&&l()},sx:{color:"error.main"},children:[(0,r.jsx)(b.A,{sx:{color:"error.main"},children:(0,r.jsx)(u.axc,{size:16})}),"Logout"]})]})]})]})})})})}},11074:(e,t,l)=>{l.r(t),l.d(t,{GenericDialog:()=>o});var r=l(95155);l(12115);var n=l(65036),a=l(52363),i=l(48833);function o(e){let{onClose:t,open:l,children:o,title:s,maxWidth:d="lg",sx:c}=e;return(0,r.jsxs)(i.A,{maxWidth:d,fullWidth:!0,onClose:()=>{t()},open:l,children:[(0,r.jsx)(a.A,{children:s}),(0,r.jsx)(n.A,{sx:{...c,overflow:"visible"},children:o})]})}},16227:(e,t,l)=>{l.r(t),l.d(t,{MainButton:()=>i});var r=l(95155),n=l(91871),a=l(30541);let i=e=>{let{variant:t="primary",title:l,startIcon:i,onClick:o,type:s,sx:d,icon:c,iconRight:u,disabled:x=!1,size:h}=e,p=a.V[t];return(0,r.jsxs)(n.A,{size:h,type:s,disabled:x,sx:{...p,textTransform:"capitalize",color:"#fff",borderRadius:"1px",...d},onClick:o,children:[c,l,u]})}},18928:(e,t,l)=>{l.r(t),l.d(t,{FormTimePickerNow:()=>m});var r=l(95155),n=l(36117),a=l.n(n),i=l(47317),o=l(71101),s=l(94898),d=l(12115),c=l(9562),u=l(42553),x=l(91871),h=l(31328),p=l(29850);let m=e=>{let{name:t,label:l,width:n="100%",sx:m,getValue:f,disabled:g=!1}=e,{value:j,setFieldValue:v}=(0,p.W)(t),[b,y]=(0,d.useState)(!1),A=(0,d.useRef)(null);(0,d.useEffect)(()=>{f&&f(j)},[j]);let C=e=>{e.stopPropagation(),v(t,a()().format("HH:mm:ss"))},w=()=>{g||y(!0)};return(0,r.jsx)(o.$,{dateAdapter:i.R,children:(0,r.jsx)(s.A,{timeSteps:{hours:1,minutes:1,seconds:1},open:b,onOpen:()=>y(!0),onClose:()=>y(!1),label:l,value:j?a()(j,"HH:mm:ss"):null,onChange:()=>{},onAccept:e=>{e&&(v(t,e.format("HH:mm:ss")),y(!1))},PopperProps:{anchorEl:A.current,placement:"bottom-start",style:{width:A.current?A.current.clientWidth:"auto"}},slots:{textField:e=>(0,r.jsx)(c.A,{...e,ref:A,fullWidth:!0,onClick:w,InputProps:{...e.InputProps,startAdornment:(0,r.jsx)(u.A,{position:"start",children:(0,r.jsx)(h.A,{})}),endAdornment:(0,r.jsx)(u.A,{position:"end",children:(0,r.jsx)(x.A,{variant:"contained",color:"primary",size:"small",onClick:C,disabled:g,children:"Now"})})}})},sx:{width:n,...m},disabled:g})})}},20157:(e,t,l)=>{l.r(t),l.d(t,{MultlineInput:()=>i,default:()=>o});var r=l(95155),n=l(9562),a=l(29850);let i=e=>{let{id:t,name:l,label:i,maxRows:o,sx:s,width:d,disabled:c=!1}=e,{value:u,handleChange:x,hasError:h,errorMessage:p,handleBlur:m}=(0,a.W)(l);return(0,r.jsx)(n.A,{sx:{width:d,my:"1ch","& fieldset":{borderRadius:"10px"},...s},id:t,name:l,label:i,multiline:!0,disabled:c,variant:"outlined",maxRows:o,onBlur:m,onChange:x,error:h,value:u,helperText:p})},o=i},24524:(e,t,l)=>{l.r(t),l.d(t,{FormFieldContainer:()=>a});var r=l(95155),n=l(94049);let a=e=>{let{direction:t,children:l}=e;return(0,r.jsx)(n.default,{sx:{display:"flex",flexDirection:t},children:l})}},27184:(e,t,l)=>{l.d(t,{x:()=>a});var r=l(95155),n=l(88538);let a=e=>{let{children:t,anchorEl:l,onClose:a,anchorOrigin:i={vertical:"top",horizontal:"right"},transformOrigin:o={vertical:"top",horizontal:"left"},maxHeight:s="500px"}=e,d=!!l;return(0,r.jsx)(n.default,{id:d?"simple-popover":void 0,open:d,anchorEl:l,onClose:a,anchorOrigin:i,transformOrigin:o,sx:{"& .MuiPopover-paper":{maxHeight:s,overflow:"auto"}},children:t})}},29850:(e,t,l)=>{l.d(t,{W:()=>r.useFormikField});var r=l(61361)},30541:(e,t,l)=>{l.d(t,{V:()=>n});var r=l(38638);let n={primary:{backgroundColor:r.z.primary,color:r.z.primaryFontColor,"&:hover":{backgroundColor:r.z.primary}},secondary:{backgroundColor:r.z.secondary,color:r.z.secondaryFontColor,"&:hover":{backgroundColor:r.z.secondary}},text:{backgroundColor:"transparent",color:r.z.primaryDark}}},32730:(e,t,l)=>{l.r(t),l.d(t,{FormDatePickerToday:()=>v});var r=l(95155),n=l(36117),a=l.n(n),i=l(47317),o=l(71101),s=l(46743),d=l(12115),c=l(29850),u=l(94049),x=l(95436),h=l(42553),p=l(1151),m=l(91871),f=l(72478),g=l(75854),j=l(86946);let v=e=>{let{name:t,label:l,width:n="25ch",sx:v,size:b="medium",getValue:y,disabled:A=!1,onAddClick:C}=e,{value:w,setFieldValue:S,initialValues:k,errorMessage:F}=(0,c.W)(t),[I,T]=(0,d.useState)(!1),[z,E]=(0,d.useState)(k&&"object"==typeof k&&k[t]?a()(k[t]):null);(0,d.useEffect)(()=>{y&&y(w)},[w]);let B=()=>{A||T(!0)};return(0,r.jsx)(o.$,{dateAdapter:i.R,children:(0,r.jsxs)(u.default,{sx:{display:"flex",flexDirection:"column",width:n},children:[(0,r.jsx)(x.A,{sx:{mb:"1ch",fontSize:"0.76rem",color:"text.secondary"},children:l}),(0,r.jsx)(s.l,{value:z,open:I,onOpen:()=>T(!0),onClose:()=>T(!1),views:["year","month","day"],sx:{backgroundColor:"white","& fieldset":{borderRadius:"5px"},...v,width:"100%"},slotProps:{textField:{onClick:B,InputProps:{startAdornment:(0,r.jsx)(h.A,{position:"start",sx:{display:"flex",alignItems:"center",mr:1},children:(0,r.jsx)(p.default,{edge:"start",onClick:B,disabled:A,size:"small",children:(0,r.jsx)(g.A,{})})}),endAdornment:(0,r.jsxs)(h.A,{position:"end",sx:{display:"flex",alignItems:"center"},children:[C&&(0,r.jsx)(p.default,{edge:"end",onClick:C,disabled:A,size:"small",sx:{mr:1},children:(0,r.jsx)(j.A,{})}),(0,r.jsx)(m.A,{variant:"contained",color:"primary",onClick:e=>{e.stopPropagation();let l=a()();E(l),S(t,l.format("YYYY-MM-DD")),T(!1)},disabled:A,size:"small",sx:{mr:1,textTransform:"none"},children:"Today"})]})}}},onChange:(e,l)=>{null===l.validationError&&"day"===l.view&&(E(e),S(t,e?a()(e).format("YYYY-MM-DD"):null),T(!1))},disabled:A}),(0,r.jsx)(f.Th,{color:"red",variant:"subtitle2",children:F})]})})}},33793:(e,t,l)=>{l.d(t,{A8:()=>a.TextInputField,GE:()=>o.FormFieldContainer,MG:()=>c.FormContainer,PD:()=>r.FormikInit,Vp:()=>d.FieldsContainer,W9:()=>p.FormDatePickerToday,YZ:()=>h.FormTimePicker,Z3:()=>f.CheckboxesGroup,b1:()=>i.RadioGroupInput,bZ:()=>x.FormDatePicker,el:()=>s.SearchComboBox,fP:()=>u.FormValuesListener,f_:()=>d.DashedContainer,gj:()=>m.FormTimePickerNow,kI:()=>d.FormFieldContainerLayout,m2:()=>d.FormFieldContainerMultiple,pK:()=>n.SelectInputField,pj:()=>g.UnitInputField});var r=l(82483),n=l(78905),a=l(70526),i=l(41305),o=l(24524);l(20157);var s=l(55223),d=l(72833),c=l(64134),u=l(35403),x=l(68003),h=l(42912),p=l(32730),m=l(18928),f=l(77638);l(320),l(88781);var g=l(7737);l(3671),l(8282)},35403:(e,t,l)=>{l.r(t),l.d(t,{FormValuesListener:()=>i});var r=l(95155),n=l(12115),a=l(29850);let i=e=>{let{getValues:t}=e,{values:l}=(0,a.W)("");return(0,n.useEffect)(()=>{t(l)},[l]),(0,r.jsx)(r.Fragment,{})}},38083:(e,t,l)=>{l.d(t,{W:()=>i,x:()=>a});var r=l(75855),n=l(9877);let a=e=>{let{roles:t,children:l}=e;return(0,r.R)(t,(0,n.O)())?l:null},i=e=>(0,r.R)(e,(0,n.O)())},38638:(e,t,l)=>{l.d(t,{z:()=>r});let r={primaryLight:"#63a7c8",primary:"#006401",primaryDark:"#004966",primaryFontColor:"#fff",secondary:"#888888",secondaryVariant:"#787878",secondaryFontColor:"#fff",buttonColor:"#EDF0F7",buttonTextColor:"#2D3648",buttonHoverColor:"#2D3648",background:"#fff",surface:"#fff",error:"#B00020",white:"#fff"}},40065:(e,t,l)=>{l.r(t),l.d(t,{DisplayEncounterCreator:()=>o});var r=l(95155),n=l(15239),a=l(66637),i=l(72478);let o=e=>{var t;let{patientId:l,encounterType:o}=e,{data:s,isLoading:d}=(0,a.$O)(l);if(d)return(0,r.jsx)(n.default,{src:"/loader.svg",width:20,height:20,alt:"loader"});let c=null==s?void 0:s.filter(e=>e.encounter_type.uuid==o);return c?(0,r.jsx)(i.Th,{children:null==(t=c[(null==c?void 0:c.length)-1])?void 0:t.created_by}):""}},40931:(e,t,l)=>{l.r(t),l.d(t,{MainCard:()=>i});var r=l(95155),n=l(29767);let a={main:{display:"flex",flexDirection:"column",px:"1ch",py:"2ch"}},i=e=>{let{children:t,elevation:l=0,sx:i}=e;return(0,r.jsx)(n.A,{sx:{...a.main,...i},elevation:l,children:t})}},40973:(e,t,l)=>{l.r(t),l.d(t,{SubSteps:()=>n});var r=l(95155);function n(e){let{parent:t,children:l}=e;return(0,r.jsx)(r.Fragment,{children:l})}},41305:(e,t,l)=>{l.r(t),l.d(t,{BaseRadioInput:()=>h,RadioGroupInput:()=>x});var r=l(95155),n=l(12115),a=l(75656),i=l(43861),o=l(56475),s=l(52641),d=l(9839),c=l(29850),u=l(66637);let x=e=>{let{label:t,name:l,options:a,getValue:i,row:o,sx:s,disabled:d=!1,coded:x}=e,{value:p,handleChange:m,hasError:f}=(0,c.W)(l),[g,j]=(0,n.useState)(a);return(0,n.useEffect)(()=>{i&&i(p)},[p]),(0,n.useEffect)(()=>{(async()=>{x?j(await (0,u.tu)(a).then(e=>e.map(e=>({...e,value:e.value||""})))):j(a)})()},[a,x]),(0,r.jsx)(h,{sx:s,label:t,handleChange:m,options:g,hasError:f,value:p,name:l,row:o,disabled:d})},h=e=>{let{handleChange:t,hasError:l,label:n,name:c,options:u,value:x,row:h=!1,sx:p,disabled:m=!1}=e;return(0,r.jsxs)(s.A,{disabled:m,fullWidth:!0,sx:{mx:"0.5ch",...p},error:l,children:[(0,r.jsx)(d.A,{id:c,children:n}),(0,r.jsx)(i.A,{row:h,value:x,onChange:t,name:c,children:null==u?void 0:u.map(e=>{let{label:t,value:l}=e;return(0,r.jsx)(o.default,{value:l,control:(0,r.jsx)(a.A,{}),label:t},t)})})]})}},42912:(e,t,l)=>{l.r(t),l.d(t,{FormTimePicker:()=>u});var r=l(95155),n=l(36117),a=l.n(n),i=l(47317),o=l(71101),s=l(94898),d=l(12115),c=l(29850);let u=e=>{let{name:t,label:l,width:n="100%",sx:u,getValue:x,disabled:h=!1}=e,{value:p,setFieldValue:m}=(0,c.W)(t);return(0,d.useEffect)(()=>{x&&x(p)},[p]),(0,r.jsx)(o.$,{dateAdapter:i.R,children:(0,r.jsx)(s.A,{timeSteps:{hours:1,minutes:1,seconds:1},sx:{width:n,my:"1ch",mr:"1ch","& fieldset":{borderRadius:"10px"},...u},label:l,onChange:e=>{m(t,a()(e).format("HH:mm:ss"))},disabled:h})})}},46519:(e,t,l)=>{l.r(t),l.d(t,{NavBar:()=>c});var r=l(95155),n=l(597),a=l(87295),i=l(72478),o=l(12115),s=l(98672),d=l(20063);let c=()=>{let{navigateTo:e}=(0,a.cq)(),{loggedIn:t,setLoggedIn:l}=(0,o.useContext)(s.cy);(0,o.useEffect)(()=>{localStorage&&localStorage.getItem("accessToken")},[]);let c=(0,d.usePathname)();return i.jD,n.s7,(0,r.jsx)(r.Fragment,{children:"/"===c?null:(0,r.jsx)(i.yk,{loggedIn:t,handleLogout:()=>{localStorage.clear(),l(!1),e("/")},onTitleClick:()=>e("/dashboard")})})}},47063:(e,t,l)=>{l.r(t),l.d(t,{NextButton:()=>o});var r=l(95155),n=l(91871),a=l(30541),i=l(87295);let o=e=>{let{variant:t="primary",title:l,type:o,sx:s,icon:d,iconRight:c,disabled:u=!1,size:x,url:h}=e,p=a.V[t],{navigateTo:m}=(0,i.cq)();return(0,r.jsxs)(n.A,{size:x,type:o,disabled:u,sx:{...p,textTransform:"capitalize",color:"#fff",...s},onClick:()=>{h&&m(h)},children:[d,l,c]})}},47585:(e,t,l)=>{l.r(t),l.d(t,{DatePickerInput:()=>o});var r=l(95155),n=l(47317),a=l(71101),i=l(46743);let o=()=>(0,r.jsx)(a.$,{dateAdapter:n.R,children:(0,r.jsx)(i.l,{})})},52122:(e,t,l)=>{l.d(t,{O6:()=>n.MainButton,WE:()=>a.NextButton,oq:()=>r.BackButton});var r=l(97929),n=l(16227),a=l(47063)},52325:(e,t,l)=>{l.r(t),l.d(t,{PatientTableList:()=>b,PatientTableListServer:()=>y});var r=l(95155),n=l(87295),a=l(26301),i=l(2300),o=l(94049),s=l(25635),d=l(80777),c=l(20699),u=l(56475),x=l(9957),h=l(9562),p=l(91871),m=l(12115);let f=e=>{let{gender:t,visitNumber:l,firstName:n,lastName:a,actor:d,actionName:c,arrivalTime:u,waitingTime:x,aggregate:h,action:p,age:m}=e;return(0,r.jsxs)(i.default,{sx:{display:"flex",p:"1ch",m:"1ch"},children:[(0,r.jsxs)(o.default,{sx:{flex:"0.2"},children:[(0,r.jsx)(s.default,{variant:"h6",children:"Visit No"}),(0,r.jsx)(s.default,{variant:"h4",children:l})]}),(0,r.jsxs)(o.default,{sx:{flex:"0.6"},children:[(0,r.jsxs)(o.default,{sx:{display:"flex",alignItems:"center"},children:[(0,r.jsx)(s.default,{variant:"h4",children:"".concat(n," ").concat(a)}),(0,r.jsxs)(s.default,{variant:"h4",children:["(","".concat(t[0]),")"]})]}),(0,r.jsxs)(s.default,{variant:"h5",children:["Age: ",m]}),(0,r.jsxs)(s.default,{variant:"body2",children:["Arrival Time: ",u," ~ Waiting time: ",x,"~ Aggregate:"," ",h]}),(0,r.jsx)("br",{}),(0,r.jsx)(s.default,{variant:"body2",children:"".concat(c)}),(0,r.jsx)(s.default,{children:d})]}),(0,r.jsx)(o.default,{sx:{flex:"0.2"},children:p})]})},g=e=>{let{dataList:t,loading:l}=e,[n,i]=(0,m.useState)(""),[p,g]=(0,m.useState)(t),[j,v]=(0,m.useState)(!1);(0,m.useEffect)(()=>{g(t)},[t]),(0,m.useEffect)(()=>{b("")},[j]);let b=e=>{i(e);let l=t.filter(t=>Object.keys(t).some(l=>{var r,n,a;return null==(a=t[l])||null==(n=a.toString())||null==(r=n.toLowerCase())?void 0:r.includes(e.toLowerCase())}));j&&(l=l.filter(e=>(0,a.cK)(null==e?void 0:e.arrivalDateTime))),g(l)};return l?(0,r.jsxs)(d.A,{sx:{m:"1ch"},spacing:1,children:[(0,r.jsx)(c.A,{variant:"rounded",width:"100%",height:200}),(0,r.jsx)(c.A,{variant:"rounded",width:"100%",height:200}),(0,r.jsx)(c.A,{variant:"rounded",width:"100%",height:200}),(0,r.jsx)(c.A,{variant:"rounded",width:"100%",height:200}),(0,r.jsx)(c.A,{variant:"rounded",width:"100%",height:200}),(0,r.jsx)(c.A,{variant:"rounded",width:"100%",height:200}),(0,r.jsx)(c.A,{variant:"rounded",width:"100%",height:200}),(0,r.jsx)(c.A,{variant:"rounded",width:"100%",height:200}),(0,r.jsx)(c.A,{variant:"rounded",width:"100%",height:200}),(0,r.jsx)(c.A,{variant:"rounded",width:"100%",height:200}),(0,r.jsx)(c.A,{variant:"rounded",width:"100%",height:200})]}):0==t.length?(0,r.jsx)(s.default,{variant:"body1",children:"No patients on this list"}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(o.default,{sx:{display:"flex",flexDirection:"column",px:"1ch"},children:[(0,r.jsx)(u.default,{control:(0,r.jsx)(x.A,{onChange:e=>{v(e.target.checked)},name:"",size:"medium"}),label:"Show only patients registered today"}),(0,r.jsx)(h.A,{sx:{m:1},variant:"outlined",placeholder:"Search…",value:n,onChange:e=>b(e.target.value)})]}),p.map(e=>(0,r.jsx)(f,{...e},e.id))]})},j=e=>{let{dataList:t,loading:l,searchText:n,setSearchString:a,rowCount:i,setPaginationModel:u,pagination:x,totalPages:m}=e,g=e=>{u(t=>({page:t.page+e,pageSize:t.pageSize}))};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(o.default,{sx:{display:"flex",flexDirection:"column",px:"1ch"},children:(0,r.jsx)(h.A,{sx:{m:1},variant:"outlined",placeholder:"Search…",value:n,onChange:e=>a(e.target.value)})}),l?(0,r.jsx)(()=>(0,r.jsxs)(d.A,{sx:{m:"1ch"},spacing:1,children:[(0,r.jsx)(c.A,{variant:"rounded",width:"100%",height:200}),(0,r.jsx)(c.A,{variant:"rounded",width:"100%",height:200}),(0,r.jsx)(c.A,{variant:"rounded",width:"100%",height:200}),(0,r.jsx)(c.A,{variant:"rounded",width:"100%",height:200}),(0,r.jsx)(c.A,{variant:"rounded",width:"100%",height:200}),(0,r.jsx)(c.A,{variant:"rounded",width:"100%",height:200}),(0,r.jsx)(c.A,{variant:"rounded",width:"100%",height:200}),(0,r.jsx)(c.A,{variant:"rounded",width:"100%",height:200}),(0,r.jsx)(c.A,{variant:"rounded",width:"100%",height:200}),(0,r.jsx)(c.A,{variant:"rounded",width:"100%",height:200}),(0,r.jsx)(c.A,{variant:"rounded",width:"100%",height:200})]}),{}):t.length>0?t.map(e=>(0,r.jsx)(f,{...e},e.id)):(0,r.jsx)(s.default,{variant:"body1",children:"No patients on this list"}),(0,r.jsxs)(o.default,{children:[(0,r.jsx)(p.A,{disabled:x.page-1==0,onClick:()=>g(-1),children:"Previous"}),(0,r.jsx)(p.A,{disabled:x.page+1>m,onClick:()=>g(1),children:"Next"})]})]})};var v=l(80498);let b=e=>{let{isLoading:t,columns:l,rows:a,formatForMobileView:i}=e,{isMediumOrSmall:o}=(0,n.Uq)();return o?(0,r.jsx)(g,{loading:t,dataList:i||[]}):(0,r.jsx)(v.W,{loading:t,columns:l,rows:a||[]})},y=e=>{var t;let{loading:l,searchText:a,setPaginationModel:i,setSearchString:o,paginationModel:s,columns:d,data:c,formatForMobileView:u,onSwitchChange:x,onRowClick:h}=e,{isMediumOrSmall:p}=(0,n.Uq)();return p?(0,r.jsx)(j,{totalPages:null==c?void 0:c.total_pages,searchText:a,setSearchString:o,rowCount:10,setPaginationModel:i,pagination:s,loading:l,dataList:u||[]}):(0,r.jsx)(v.e,{searchText:a,setSearchString:o,rowCount:(null==c?void 0:c.data)?null==c?void 0:c.totalEntries:0,setPaginationModel:i,paginationModel:s,loading:l,rows:(null==c?void 0:c.data)?null==c||null==(t=c.data)?void 0:t.map(e=>({id:e.uuid,...e})):[],columns:d,onSwitchChange:x,onRowClick:h})}},52645:(e,t,l)=>{l.r(t),l.d(t,{BaseTable:()=>j,ServerPaginationTable:()=>f});var r=l(95155),n=l(12115),a=l(99559),i=l(7920),o=l(4906),s=l(81474),d=l(87647),c=l(94049),u=l(9562),x=l(42553),h=l(56164),p=l(26301);function m(e){let{paginationModel:t,setPaginationModel:l,rowCount:n}=e,a=(0,i.h)(),c=(0,o.Nc)(a,s.$i),u=(0,o.Nc)(a,s.O),x=null==t?void 0:t.pageSize,h=Math.min(n,(c+1)*x);return(0,r.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"8px"},children:[(0,r.jsx)("div",{children:0===n?"No records":"Showing ".concat(c*x+1,"–").concat(h," of ").concat(n," records")}),(0,r.jsx)(d.A,{color:"primary",count:u,page:c+1,onChange:(e,r)=>l({...t,page:r-1})})]})}let f=e=>{let{columns:t,rows:l,loading:n,setPaginationModel:i,paginationModel:o,rowCount:s,searchText:d,setSearchString:c,onSwitchChange:u,onRowClick:x}=e;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(g,{searchText:null!=d?d:"",requestSearch:c,handleSwitchChange:e=>{u&&u(e.target.checked)}}),(0,r.jsx)(a.z,{sx:{my:"1ch",borderStyle:"none"},onCellClick:e=>{x&&"action"!==e.field&&x(e)},loading:n,rows:l,columns:t,paginationModel:o,rowCount:s,paginationMode:"server",onPaginationModelChange:i,autoHeight:!0,slots:{footer:()=>(0,r.jsx)(m,{paginationModel:o,setPaginationModel:i,rowCount:s})}})]})},g=e=>{let{searchText:t,requestSearch:l,handleSwitchChange:n,showSwitch:a=!0,placeHolder:i="Search Patient"}=e;return(0,r.jsx)(c.default,{children:(0,r.jsx)(u.A,{sx:{my:1,width:"30%"},variant:"outlined",placeholder:i,value:t,onChange:e=>l(e.target.value),InputProps:{startAdornment:(0,r.jsx)(x.A,{position:"start",children:(0,r.jsx)(h.VxX,{})})}})})},j=e=>{let{rows:t,columns:l,hidePagination:i=!1,height:o="100%",width:s="100%",loading:d,style:c,rowHeight:u,checkboxSelection:x=!1,getSelectedItems:h=e=>{},showTopBar:m=!0,searchPlaceHolder:f,showSearchSwitchButton:j}=e,[v,b]=n.useState(""),[y,A]=n.useState(t),[C,w]=n.useState(!1);n.useEffect(()=>{A(t)},[t]),n.useEffect(()=>{S("")},[C]);let S=e=>{b(e);let l=t.filter(t=>Object.keys(t).some(l=>{var r,n,a;return null==(a=t[l])||null==(n=a.toString())||null==(r=n.toLowerCase())?void 0:r.includes(e.toLowerCase())}));C&&(l=l.filter(e=>(0,p.cK)(e.arrival_time))),A(l)};return(0,r.jsxs)("div",{style:{height:o,width:s,...c},children:[m&&(0,r.jsx)(g,{placeHolder:f,showSwitch:j,searchText:v,handleSwitchChange:e=>{w(e.target.checked)},requestSearch:S}),(0,r.jsx)(a.z,{onRowSelectionModelChange:h,checkboxSelection:x,rowHeight:u,sx:{my:"1ch",borderStyle:"none"},loading:d,rows:y,columns:l,hideFooterPagination:i,paginationMode:"client",initialState:{columns:{columnVisibilityModel:{}}}})]})}},55223:(e,t,l)=>{l.r(t),l.d(t,{SearchComboBox:()=>h});var r=l(95155),n=l(12115),a=l(67909),i=l(33567),o=l(95436),s=l(2545),d=l(29850),c=l(72478),u=l(66637);let x=(0,a.default)(()=>l.e(3002).then(l.bind(l,63002)).then(e=>e.default),{loadableGenerated:{webpack:()=>[63002]},ssr:!1,loading:()=>null}),h=e=>{let{options:t,name:l,label:a,width:h="100%",sx:p,getValue:m,manualInitialValues:f,disabled:g=!1,multiple:j=!0,applyPadding:v=!0,coded:b=!1}=e,y=(0,i.A)(),[A,C]=(0,n.useState)(!1),{hasError:w,setFieldValue:S,value:k,errorMessage:F}=(0,d.W)(l);(0,n.useEffect)(()=>{C(!0)},[]);let I=t.map(e=>({value:e.id,label:e.label})),T=async e=>{let t=j?e.map(e=>({id:e.value,label:e.label})):null==e?void 0:e.value;b&&(t=j?await (0,u.sV)(t):(await (0,u.sV)([{id:t,label:""}]))[0].id),S(l,t),null==m||m(t)},z=v?{paddingTop:"1ch",paddingBottom:"1ch"}:{};return A?(0,r.jsxs)(c.jD,{sx:{width:h,...p,borderRadius:y.shape.borderRadius},children:[(0,r.jsx)(o.A,{shrink:!0,sx:{color:w?y.palette.error.main:"inherit"},children:a}),(0,r.jsx)(x,{isDisabled:g,isMulti:j,options:I,value:k?null==I?void 0:I.find(e=>e.value===k):k,styles:{control:(e,t)=>({...e,borderColor:w?y.palette.error.main:t.isFocused?y.palette.primary.main:y.palette.divider,boxShadow:t.isFocused?"0 0 0 1px ".concat(y.palette.primary.main):"none","&:hover":{borderColor:w?y.palette.error.main:y.palette.primary.main},backgroundColor:g?y.palette.action.disabledBackground:y.palette.background.paper,minHeight:"40px",...z}),menu:e=>({...e,zIndex:y.zIndex.modal+1,backgroundColor:y.palette.background.paper}),menuPortal:e=>({...e,zIndex:y.zIndex.modal+1}),option:(e,t)=>({...e,backgroundColor:t.isSelected?y.palette.action.selected:t.isFocused?y.palette.action.hover:y.palette.background.paper,color:y.palette.text.primary,"&:active":{backgroundColor:y.palette.action.selected}}),multiValue:e=>({...e,backgroundColor:y.palette.grey[200]}),multiValueLabel:e=>({...e,color:y.palette.text.primary}),multiValueRemove:e=>({...e,color:y.palette.text.secondary,":hover":{backgroundColor:y.palette.grey[300],color:y.palette.text.primary}}),placeholder:e=>({...e,color:y.palette.text.disabled}),singleValue:e=>({...e,color:y.palette.text.primary}),indicatorSeparator:e=>({...e,backgroundColor:y.palette.divider}),dropdownIndicator:e=>({...e,color:y.palette.text.secondary,":hover":{color:y.palette.text.primary}}),clearIndicator:e=>({...e,color:y.palette.text.secondary,":hover":{color:y.palette.text.primary}})},menuPortalTarget:document.body,menuPosition:"fixed",onChange:T,defaultValue:null==f?void 0:f.map(e=>({value:e.id,label:e.label})),components:(0,s.Ay)(),theme:e=>({...e,colors:{...e.colors,primary:y.palette.primary.main,primary25:y.palette.action.hover,primary50:y.palette.action.selected,neutral0:y.palette.background.paper,neutral20:y.palette.divider,neutral30:y.palette.action.active,neutral40:y.palette.text.secondary,neutral50:y.palette.text.disabled,neutral60:y.palette.text.secondary,neutral80:y.palette.text.primary}})}),w&&(0,r.jsx)(c.Th,{color:"error.main",variant:"caption",children:F})]}):null}},55302:(e,t,l)=>{l.d(t,{bJ:()=>c,AU:()=>u,Ov:()=>h,bW:()=>x});var r=l(25641),n=l(31345),a=l(93292);let i="/people";var o=l(99776),s=l(80549),d=l(22454);let c=()=>{let{ServerTime:e}=(0,r.useServerTime)(),t=(0,o.jE)();return(0,s.n)({mutationFn:t=>{let l;return(l={names:[{givenName:t.nextOfKinFirstName,familyName:t.nextOfKinLastName}],birthdate:e.getServerTimeString()},(0,a.vt)(l,i)).then(e=>e.data)},onSuccess:e=>{t.invalidateQueries({})}})},u=()=>{let e=async e=>{let t;return(t={person_a:e.patient,person_b:e.person,relationship:e.nextOfKinRelationship},(0,a.vt)(t,"/relationships")).then(e=>e.data)};return(0,s.n)({mutationFn:e})},x=e=>(0,d.I)({queryKey:["search"],queryFn:()=>(e=>{let t,l=e.firstName,r=e.lastName,n=e.gender;return(t="given_name=".concat(l,"&family_name=").concat(r,"&gender=").concat(n,"&middle_name&paginate=false"),(0,a.UK)(i+"/search",t+"&paginate=false")).then(e=>e.data.map(e=>({person_id:e.person_id,uuid:e.uuid,given_name:e.names[0].given_name,family_name:e.names[0].family_name,gender:e.gender,birthdate:e.birthdate})))})(e),enabled:!1}),h=e=>(0,d.I)({queryKey:["search_npid",e],queryFn:()=>(0,n.cv)(e).then(e=>e.data),enabled:!1})},61361:(e,t,l)=>{l.r(t),l.d(t,{useFormikField:()=>a});var r=l(95582),n=l(12115);let a=e=>{let t=(0,r.j7)();if(!t)throw Error("useFormikField must be used within a Formik provider");let{validateField:l,initialValues:a,values:i,touched:o,errors:s,setFieldValue:d,handleChange:c,handleBlur:u}=t,x=(0,n.useMemo)(()=>null==i?void 0:i[e],[i,e]),h=!!((null==o?void 0:o[e])&&(null==s?void 0:s[e]));return{value:x,errorMessage:h?String(s[e]):"",hasError:h,values:i,handleChange:c,handleBlur:e=>u(e),setValue:t=>{d(e,t)},setFieldValue:d,validateField:l,initialValues:a,fieldProps:{name:e,value:x,onChange:c,onBlur:u}}}},63536:(e,t,l)=>{l.r(t),l.d(t,{NotificationContainer:()=>a});var r=l(95155),n=l(72478);let a=e=>{let{message:t}=e;return(0,r.jsx)(n.jD,{sx:{backgroundColor:"#B9E6FE",color:"#026AA2",py:"2ch",px:"1ch",my:"1ch"},children:(0,r.jsx)(n.Th,{children:t})})}},64134:(e,t,l)=>{l.r(t),l.d(t,{FormContainer:()=>a});var r=l(95155),n=l(72478);let a=e=>{let{children:t}=e;return(0,r.jsxs)(n.Yr,{container:!0,children:[(0,r.jsx)(n.Yr,{item:!0,xs:0,lg:1}),(0,r.jsxs)(n.Yr,{item:!0,xs:12,lg:10,children:[(0,r.jsx)("br",{}),(0,r.jsx)("br",{}),t]})]})}},68003:(e,t,l)=>{l.r(t),l.d(t,{FormDatePicker:()=>p});var r=l(95155),n=l(36117),a=l.n(n),i=l(47317),o=l(71101),s=l(46743),d=l(12115),c=l(29850),u=l(94049),x=l(95436),h=l(72478);let p=e=>{let{name:t,label:l,width:n="25ch",sx:p,size:m="medium",getValue:f,disabled:g=!1,onBlur:j}=e,{value:v,setFieldValue:b,initialValues:y,errorMessage:A}=(0,c.W)(t);(0,d.useEffect)(()=>{f&&f(v)},[v]);let C="";return"object"==typeof y&&null!==y&&(C=y[t]),(0,r.jsx)(o.$,{dateAdapter:i.R,children:(0,r.jsxs)(u.default,{sx:{display:"flex",flexDirection:"column",width:n},children:[(0,r.jsx)(x.A,{sx:{mb:"1ch",fontSize:"0.76rem",color:"text.secondary"},children:l}),(0,r.jsx)(s.l,{sx:{backgroundColor:"white","& fieldset":{borderRadius:"5px"},...p},defaultValue:a()(C),label:"",onChange:e=>b(t,a()(e).format("YYYY-MM-DD")),disabled:g,onClose:()=>{null==j||j(v)},slotProps:{textField:{onBlur:e=>{null==j||j(v)}}}}),(0,r.jsx)(h.Th,{color:"red",variant:"subtitle2",children:A})]})})}},70526:(e,t,l)=>{l.r(t),l.d(t,{TextInputField:()=>u});var r=l(95155),n=l(12115),a=l(52641),i=l(95436),o=l(9562),s=l(29850),d=l(42553),c=l(72478);let u=e=>{let{id:t,name:l,label:u,sx:x,type:h,placeholder:p="",size:m="medium",rows:f,getValue:g,showHelperText:j=!0,disabled:v=!1,multiline:b=!1,inputIcon:y,unitOfMeasure:A,helperTextWidth:C="25ch",externalValue:w,handleBlurEvent:S,onChange:k}=e,{value:F,handleChange:I,hasError:T,errorMessage:z,handleBlur:E,setValue:B}=(0,s.W)(l);return(0,n.useEffect)(()=>{void 0!==w&&w!==F&&B(w)},[w]),(0,n.useEffect)(()=>{null==g||g(F)},[F]),(0,r.jsxs)(a.A,{variant:"standard",sx:{mb:"1ch",fontSize:"0.76rem",...x},children:[(0,r.jsx)(i.A,{shrink:!0,htmlFor:t,children:u}),(0,r.jsx)(o.A,{sx:{backgroundColor:"white","label + &":{marginTop:"2.3ch"},"& .MuiInputBase-input":{width:"100%",borderRadius:"5px"},"& .MuiFormHelperText-root":{width:C},"& fieldset":{borderRadius:"5px"},...x},id:t,name:l,value:F,type:h,onBlur:e=>{E(e),null==S||S(e.target.value)},onChange:e=>{let t=e.target.value;I(e),null==k||k(t)},error:T,size:m,placeholder:p,rows:f,disabled:v,multiline:b,InputProps:{endAdornment:A&&(0,r.jsx)(d.A,{position:"start",children:A}),startAdornment:y&&(0,r.jsx)(d.A,{position:"start",children:y})}}),j&&(0,r.jsx)(c.Th,{color:"red",variant:"subtitle2",children:z})]})}},70952:(e,t,l)=>{l.d(t,{w:()=>h});var r=l(95155);l(12115);var n=l(37665),a=l(86973),i=l(49501),o=l(25635),s=l(94049),d=l(46660),c=l(91871),u=l(4484),x=l(14915);let h=e=>{let{data:t,columns:l,title:h="Data Table",enableRowActions:p=!1,enableRowSelection:m=!1,enableExpanding:f=!1,enableColumnFilterModes:g=!1,enableColumnOrdering:j=!0,enableGrouping:v=!1,enableColumnPinning:b=!0,enableFacetedValues:y=!0,showGlobalFilter:A=!0,enableColumnActions:C=!0,enableColumnFilters:w=!0,enableSorting:S=!0,getSubRows:k,onRowActionDelete:F,onRowActionEdit:I,onBulkAction:T,onRowClick:z,bulkActionLabel:E="Action",initialState:B={showColumnFilters:!1,showGlobalFilter:A,columnPinning:{left:["mrt-row-expand","mrt-row-select"],right:["mrt-row-actions"]}}}=e,D=(0,n.Up)({columns:l,data:t,displayColumnDefOptions:{"mrt-row-expand":{enableResizing:!0,size:1}},enableExpanding:f,enableColumnFilterModes:g,enableColumnOrdering:j,enableGrouping:v,enableColumnPinning:b,enableFacetedValues:y,enableRowActions:p,enableRowSelection:m,enableColumnActions:C,enableColumnFilters:w,enableSorting:S,initialState:B,paginationDisplayMode:"pages",positionToolbarAlertBanner:"bottom",muiSearchTextFieldProps:{size:"small",variant:"outlined"},muiPaginationProps:{color:"primary",rowsPerPageOptions:[10,20,30],shape:"rounded",variant:"outlined"},muiTableBodyRowProps:e=>{let{row:t}=e;return{onClick:e=>{null==z||z({row:t,event:e})},sx:{cursor:"pointer"}}},getSubRows:k?e=>k(e):void 0,...p&&{renderRowActionMenuItems:e=>{let{row:t,closeMenu:l}=e;return[F&&(0,r.jsxs)(a.A,{onClick:()=>{F(t.original),l()},sx:{m:0},children:[(0,r.jsx)(i.A,{children:(0,r.jsx)(u.A,{})}),"Delete"]},"delete"),I&&(0,r.jsxs)(a.A,{onClick:()=>{I(t.original),l()},sx:{m:0},children:[(0,r.jsx)(i.A,{children:(0,r.jsx)(x.A,{})}),"Edit"]},"edit")].filter(Boolean)}},renderTopToolbar:e=>{let{table:t}=e;return(0,r.jsxs)("div",{children:[h&&(0,r.jsx)(o.default,{variant:"h6",sx:{display:"flex",padding:"8px",justifyContent:"center",width:"100%",boxShadow:"0px 4px 4px rgba(0, 0, 0, 0.1)",borderBottom:"1px solid rgba(0, 0, 0, 0.2)"},children:h}),(0,r.jsxs)(s.default,{sx:e=>({backgroundColor:(0,d.a)(e.palette.background.default,.05),display:"flex",gap:"0.5rem",p:"8px",justifyContent:"space-between"}),children:[A&&(0,r.jsxs)(s.default,{sx:{display:"flex",gap:"0.5rem",alignItems:"center"},children:[(0,r.jsx)(n.Jf,{table:t}),(0,r.jsx)(n.u1,{table:t})]}),T&&(0,r.jsx)(s.default,{children:(0,r.jsx)(s.default,{sx:{display:"flex",gap:"0.5rem"},children:(0,r.jsx)(c.A,{color:"primary",disabled:!t.getIsSomeRowsSelected(),onClick:()=>{T&&T(t.getSelectedRowModel().flatRows.map(e=>e.original))},variant:"contained",children:E})})})]})]})}});return(0,r.jsx)(n.zp,{table:D})}},72478:(e,t,l)=>{l.d(t,{oq:()=>x.oq,x0:()=>g.x,WE:()=>h.W,VJ:()=>T,Z3:()=>p.Z3,f_:()=>p.f_,uT:()=>o.DisplayEncounterCreator,Vp:()=>p.Vp,MG:()=>p.MG,bZ:()=>p.bZ,W9:()=>p.W9,GE:()=>p.GE,kI:()=>p.kI,m2:()=>p.m2,YZ:()=>p.YZ,gj:()=>p.gj,fP:()=>p.fP,PD:()=>p.PD,eV:()=>i.GenericDialog,O6:()=>x.O6,Yr:()=>D,sc:()=>P,Th:()=>B,yk:()=>r.NavigationBar,wu:()=>w,RG:()=>k.NewStepperContainer,Dh:()=>x.WE,bL:()=>n.NotificationContainer,TF:()=>a.PatientInfoTab,vP:()=>z.PatientTableListServer,b1:()=>p.b1,el:()=>p.el,pK:()=>p.pK,gq:()=>S,UL:()=>F.SubSteps,A8:()=>p.A8,pj:()=>p.pj,jD:()=>E,zQ:()=>f.z});var r=l(10826),n=l(63536),a=l(4858),i=l(11074),o=l(40065),s=l(94049),d=l(25635),c=l(33077),u=l(2300),x=l(52122),h=l(80498),p=l(33793);l(40931);var m=l(95155);l(12115);var f=l(38638);f.z.secondary,f.z.white,f.z.primary,f.z.primaryFontColor,f.z.secondaryFontColor;var g=l(27184);l(46519),l(47585);let j={circle:{display:"flex",alignItems:"center",justifyContent:"center",height:"20px",width:"20px",borderRadius:"10px",border:"solid 1px #636363",color:"#636363",mx:"5px"},active:{backgroundColor:f.z.primary,color:f.z.white},circleWithLabel:{display:"flex",alignItems:"start"},stepper:{display:"flex",flexDirection:"column",justifyContent:"center",my:"5px",width:"100%"}},v=e=>{let{label:t,active:l,last:r}=e,n={...j.circle?j.circle:{},...l?j.active:{}};return(0,m.jsxs)(s.default,{display:"flex",alignItems:"center",flexDirection:"column",children:[(0,m.jsx)(s.default,{sx:n,children:(0,m.jsx)(d.default,{sx:{fontSize:"16px",fontWeight:400,lineHeight:"24px",letterSpacing:"0em",textAlign:"left"},children:t})}),!r&&(0,m.jsx)(s.default,{sx:{borderLeft:"2px solid #B3B3B3",height:"24px"}})]})},b=e=>{let{circleLabel:t,active:l,label:r,last:n}=e;return(0,m.jsxs)(s.default,{sx:j.circleWithLabel,children:[(0,m.jsx)(v,{label:t,active:l,last:n}),(0,m.jsx)(d.default,{sx:{fontSize:"16px",lineHeight:"24px",color:l?f.z.primary:""},variant:"subtitle2",fontWeight:l?"700":"200",children:r})]})};var y=l(95844),A=l(71908),C=l(64246);let w=e=>{let{steps:t,active:l}=e;return(0,m.jsx)(s.default,{sx:j.stepper,children:t.map((e,r)=>(0,m.jsx)(b,{label:e.label,circleLabel:r+1,active:r==l,last:t.length-1==r},e.id))})},S=e=>{let{steps:t,active:l}=e;return(0,m.jsx)(s.default,{sx:{width:"100%"},children:(0,m.jsx)(y.default,{activeStep:l,alternativeLabel:!0,children:t.map(e=>(0,m.jsx)(A.default,{children:(0,m.jsx)(C.default,{children:e.label})},e.id))})})};var k=l(98896),F=l(40973),I=l(25641);function T(e){let t,{arrival_time:l}=e,{ServerTime:r}=(0,I.useServerTime)(),n=Date.parse(r.getServerTimeString()),a=Math.floor((n-Date.parse(l))/1e3);if(a<60)t="".concat(a," seconds");else{let e=Math.floor(a/60);if(e<60)t="".concat(e," minutes");else{let l=Math.floor(e/60);if(l<24)t="".concat(l," hours");else{let e=Math.floor(l/24),r=l%24;t=r>0?"".concat(e," days ").concat(r," hours"):"".concat(e," days")}}}return t}var z=l(52325);let E=s.default,B=d.default,D=c.default,P=u.default},72833:(e,t,l)=>{l.r(t),l.d(t,{DashedContainer:()=>s,FieldsContainer:()=>i,FormFieldContainerLayout:()=>o,FormFieldContainerMultiple:()=>d});var r=l(95155),n=l(94049),a=l(72478);let i=e=>{let{children:t,sx:l,mr:n="1ch"}=e;return(0,r.jsx)(a.jD,{display:"flex",justifyContent:"flex-start",sx:{...l,"& > :first-of-type":{mr:n}},children:t})},o=e=>{let{children:t,title:l,last:n=!1}=e;return(0,r.jsxs)(a.jD,{sx:{display:"flex",flexDirection:{xs:"column",lg:"row"},my:"1ch",py:"2ch",width:"100%",borderBottom:n?"":"2px dashed #B3B3B3"},children:[(0,r.jsx)(a.Th,{sx:{fontSize:"16px",fontWeight:600,lineHeight:"24px",letterSpacing:"0em",textAlign:"left",width:{lg:"40%"},mb:{xs:"2ch"}},children:l}),(0,r.jsx)(a.jD,{sx:{width:{xs:"100%",lg:"60%"}},children:t})]})},s=e=>{let{children:t,my:l="0.5ch",border:a="top"}=e;return(0,r.jsx)(n.default,{sx:{borderTop:"top"===a||"both"===a?"2px dashed #B3B3B3":void 0,borderBottom:"bottom"===a||"both"===a?"2px dashed #B3B3B3":void 0,my:l,py:"0.5ch"},children:t})},d=e=>{let{children:t}=e;return(0,r.jsx)(n.default,{sx:{display:"flex",flexDirection:{xs:"column",sm:"row"},gap:2,width:"100%","& > *":{width:{xs:"100%",sm:"auto"},flex:1}},children:t})}},75855:(e,t,l)=>{l.d(t,{R:()=>r});let r=(e,t)=>!!t&&t.some(t=>e.flatMap(e=>null==e?void 0:e.split(",")).includes(t))},77638:(e,t,l)=>{l.r(t),l.d(t,{CheckboxesGroup:()=>u});var r=l(95155),n=l(12115),a=l(52641),i=l(17325),o=l(56475),s=l(18369),d=l(22822),c=l(29850);function u(e){let{options:t,name:l,getValue:u,allowFilter:x=!0,disabled:h=!1}=e,[p,m]=(0,n.useState)({}),[f,g]=(0,n.useState)(!1),{setFieldValue:j,hasError:v,errorMessage:b,value:y}=(0,c.W)(l),[A,C]=(0,n.useState)(!1),w=(0,n.useRef)(!1);(0,n.useEffect)(()=>{let e={};for(let l=0;l<t.length;l++)e[t[l].value]=!1;m(e),C(!0)},[]),(0,n.useEffect)(()=>{if(A&&!w.current&&y&&Array.isArray(y)){let e={},t=!1;y.forEach(l=>{e[l.key]=l.value,p[l.key]!==l.value&&(t=!0)}),t&&m(e)}},[y,A]),(0,n.useEffect)(()=>{x&&y&&Array.isArray(y)&&((null==y?void 0:y.filter(e=>null==e?void 0:e.value).length)==2?g(!0):g(!1))},[y]),(0,n.useEffect)(()=>{A&&(w.current=!0,j(l,Object.keys(p).map(e=>({key:e,value:p[e]}))),setTimeout(()=>{w.current=!1},0))},[p,A]);let S=e=>{m({...p,[e.target.value]:e.target.checked})};return(0,n.useEffect)(()=>{u&&u(y)},[y,p]),(0,r.jsxs)(a.A,{error:v,name:l,component:"fieldset",variant:"standard",children:[(0,r.jsx)(i.A,{children:t.map(e=>(0,r.jsx)(o.default,{control:(0,r.jsx)(d.default,{disabled:h||f&&!p[e.value],value:e.value,checked:p[e.value]||!1,onChange:S,name:e.value}),label:e.label},e.value))}),(0,r.jsx)(s.default,{children:b})]})}},78905:(e,t,l)=>{l.r(t),l.d(t,{SelectInputField:()=>u});var r=l(95155),n=l(12115),a=l(94049),i=l(95436),o=l(86973),s=l(52641),d=l(55606),c=l(61361);let u=e=>{let{name:t,id:l,label:u,selectItems:x,sx:h,getValue:p,size:m="medium",width:f="100%"}=e,{value:g,handleChange:j,hasError:v}=(0,c.useFormikField)(t);return(0,n.useEffect)(()=>{p&&p(g)},[g]),(0,r.jsx)(a.default,{sx:{my:"2.3ch",width:f,...h},children:(0,r.jsxs)(s.A,{fullWidth:!0,children:[(0,r.jsx)(i.A,{sx:{backgroundColor:"white"},id:l,children:u}),(0,r.jsx)(d.A,{size:m,name:t,labelId:l,id:l,value:g,label:u,onChange:j,error:v,children:x.map(e=>{let{value:t,name:l}=e;return(0,r.jsx)(o.A,{value:t,children:l},l)})})]})})}},80498:(e,t,l)=>{l.d(t,{W:()=>r.BaseTable,e:()=>r.ServerPaginationTable});var r=l(52645)},82483:(e,t,l)=>{l.r(t),l.d(t,{FormikInit:()=>o});var r=l(95155),n=l(95582),a=l(12115),i=l(52122);let o=e=>{let{children:t,onSubmit:l,validationSchema:a,initialValues:o,submitButton:d=!0,submitButtonText:c="submit",submitVariant:u="primary",loading:x,enableReinitialize:h=!1,getFormValues:p=e=>{},ref:m}=e;return(0,r.jsx)(n.l1,{initialValues:o,onSubmit:l,validationSchema:a,enableReinitialize:h,innerRef:m,children:e=>{let{values:l,setFieldValue:a,errors:o,submitCount:h}=e;return(0,r.jsxs)(n.lV,{children:[(0,r.jsx)(s,{getFormValues:p,values:l}),"function"==typeof t?t({values:l,setFieldValue:a,submitCount:h}):t,d&&(0,r.jsx)(i.O6,{sx:{mt:3},variant:u,type:"submit",title:x?(0,r.jsx)("i",{style:{textTransform:"lowercase"},children:"loading..."}):c,onClick:()=>{}})]})}})},s=e=>{let{values:t,getFormValues:l}=e;return(0,a.useEffect)(()=>{l(t)},[t]),null}},88781:(e,t,l)=>{l.d(t,{A:()=>s});var r=l(95155);l(12115);var n=l(56475),a=l(22822),i=l(18369),o=l(29850);let s=e=>{let{name:t,label:l,helperText:s}=e,{value:d,handleChange:c,hasError:u,errorMessage:x,handleBlur:h}=(0,o.W)(t);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.default,{control:(0,r.jsx)(a.default,{name:t,checked:!!d,onChange:c,color:"primary"}),label:l}),s&&(0,r.jsx)(i.default,{children:s})]})}},97929:(e,t,l)=>{l.r(t),l.d(t,{BackButton:()=>s});var r=l(95155),n=l(56164),a=l(87295),i=l(94049),o=l(25635);function s(e){let{onClick:t,label:l}=e,{navigateBackToProfile:s}=(0,a.cq)();return(0,r.jsxs)(i.default,{onClick:t||s,sx:{display:"flex",alignItems:"center",mb:2,cursor:"pointer"},children:[(0,r.jsx)(i.default,{sx:{width:"24px",height:"24px",fontSize:"20px"},children:(0,r.jsx)(n.ed2,{})}),(0,r.jsx)(o.default,{sx:{fontSize:"14px",fontWeight:400,lineHeight:"21px",letterSpacing:"0em",ml:1},children:l||"Back to Profile"})]})}},98896:(e,t,l)=>{l.r(t),l.d(t,{NewStepperContainer:()=>v});var r=l(95155),n=l(48116),a=l(97998),i=l(98267),o=l(20537),s=l(37960),d=l(25635),c=l(12115),u=l(72478),x=l(94049),h=l(66637),p=l(87295),m=l(26301);let f=(0,n.Ay)(e=>(0,r.jsx)(i.A,{disableGutters:!0,elevation:0,square:!0,...e}))(e=>{let{theme:t}=e;return{border:"1px solid ".concat(t.palette.divider),"&:not(:last-child)":{borderBottom:0},"&:before":{display:"none"}}}),g=(0,n.Ay)(e=>(0,r.jsx)(o.A,{expandIcon:(0,r.jsx)(a.BNo,{}),...e}))(e=>{let{theme:t}=e;return{backgroundColor:"dark"===t.palette.mode?"rgba(255, 255, 255, .05)":"rgba(0, 0, 0, .03)",flexDirection:"row-reverse","& .MuiAccordionSummary-expandIconWrapper.Mui-expanded":{transform:"rotate(90deg)"},"& .MuiAccordionSummary-content":{marginLeft:t.spacing(1)}}}),j=(0,n.Ay)(s.A)(e=>{let{theme:t}=e;return{padding:t.spacing(2),borderTop:"1px solid rgba(0, 0, 0, .125)"}});function v(e){let{children:t,active:l,steps:n,title:i,setActive:o,onBack:s,showSubmittedStatus:v=!1,allowPanelActiveOnClick:b=!0,backButtonProfileText:y="Back to Profile"}=e,{patientId:A,activeVisitId:C}=(0,p.gd)(),{data:w,isLoading:S,isRefetching:k}=(0,h.$O)(A),[F,I]=(0,c.useState)(new Set),T=t.filter(e=>!1!==e),z=[],E=c.Children.toArray(t).filter((e,t)=>!!c.isValidElement(e)&&e.type===u.UL&&(z.push(t),!0));z.sort((e,t)=>t-e).forEach(e=>{T.splice(e,1)});let B=new Map;E.forEach(e=>{if(c.isValidElement(e)){let t=e.props.parent;B.has(t)||B.set(t,[]),B.get(t).push(e.props.children)}});let[D,P]=(0,c.useState)({});return(0,c.useEffect)(()=>{if(v){let e={};n.forEach((t,l)=>{var r,n,a;let i=null==w||null==(r=w.filter(e=>e.encounter_type.uuid===t.encounter).filter(e=>e.visit_id===Number(C)))?void 0:r[0],o=null==i||null==(a=i.obs)||null==(n=a[i.obs.length-1])?void 0:n.obs_datetime;o&&(e[l]=o)}),P(e)}},[w,n,v]),(0,c.useEffect)(()=>{I(e=>new Set(e).add(l))},[l]),(0,r.jsxs)(u.Yr,{container:!0,spacing:5,children:[(0,r.jsx)(u.Yr,{sx:{display:{xs:"none",lg:"block"}},item:!0,lg:3,children:(0,r.jsxs)(u.sc,{elevation:0,sx:{p:"1ch",width:"288px"},children:[(0,r.jsx)(u.Th,{sx:{fontSize:"20px",fontWeight:600,textAlign:"left",ml:"2ch",my:"2ch"},children:i}),(0,r.jsx)(u.wu,{steps:n,active:l})]})}),(0,r.jsx)(u.Yr,{item:!0,xs:1,lg:0}),(0,r.jsx)(u.Yr,{item:!0,xs:10,lg:8,children:(0,r.jsxs)(u.jD,{width:"100%",children:[(0,r.jsx)(u.Yr,{item:!0,sx:{display:{xs:"block",lg:"none"}},xs:12,children:(0,r.jsx)(u.gq,{steps:n,active:l})}),(0,r.jsxs)(u.jD,{onClick:()=>s&&s(),sx:{display:{lg:"flex",xs:"none"},cursor:"pointer"},children:[(0,r.jsx)(u.Th,{sx:{width:"24px",height:"24px",fontSize:"20px"},children:(0,r.jsx)(a.ed2,{})}),(0,r.jsx)(u.Th,{sx:{fontSize:"14px",fontWeight:400,lineHeight:"21px",letterSpacing:"0em",textAlign:"left"},children:y})]}),n.map((e,t)=>{var n;return(0,r.jsxs)(f,{sx:{my:"2ch",backgroundColor:"whitesmoke",borderStyle:"none","& .MuiAccordionSummary-root":{backgroundColor:"whitesmoke",display:"flex",flexDirection:"row",borderBottom:"solid 0.2ch #B3B3B3"}},onChange:()=>{(b||F.has(t))&&o&&o(t)},expanded:t===l,children:[(0,r.jsx)(g,{"aria-controls":"panel".concat(t+1,"-content"),id:"panel".concat(t+1,"-header"),children:(0,r.jsxs)(x.default,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",width:"100%",pr:"2ch"},children:[(0,r.jsx)(d.default,{variant:"h5",sx:{fontSize:"24px",fontWeight:700,textAlign:"left"},children:e.label}),v&&(0,r.jsxs)(x.default,{sx:{display:"flex",alignItems:"flex-start",gap:"0.5rem",width:"30%"},children:[(0,r.jsx)(x.default,{sx:{display:"flex",justifyContent:"center"},children:S||k&&l-1===t?(0,r.jsx)(a.hW,{size:"20px",style:{animation:"spin 1s linear infinite",color:"gray"}}):(0,r.jsx)(a.A7C,{size:"20px",color:D[t]?"green":"gray"})}),(0,r.jsx)(d.default,{sx:{fontSize:"14px",fontWeight:500,color:D[t]?"green":"gray",minWidth:"120px",textAlign:"left",fontStyle:"italic"},children:(0,m.rX)(D[t])||"not submitted"})]})]})}),(0,r.jsx)(j,{children:T[t]}),B.has(t)&&(null==(n=B.get(t))?void 0:n.map((e,t)=>(0,r.jsx)(j,{style:{borderTop:"1px solid rgba(0, 0, 0, .125)"},children:e},t)))]},t)})]})})]})}}}]);