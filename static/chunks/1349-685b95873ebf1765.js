"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1349],{15377:(e,a,t)=>{t.d(a,{OverlayLoader:()=>s});var l=t(95155);t(12115);var r=t(90418),n=t(89915);function s(e){let{open:a}=e;return(0,l.jsx)("div",{children:(0,l.jsx)(r.A,{sx:{color:"#fff",zIndex:e=>e.zIndex.drawer+1},open:a,children:(0,l.jsx)(n.A,{color:"inherit"})})})}},16805:(e,a,t)=>{t.d(a,{SE:()=>y,Nt:()=>v,Wd:()=>R});var l=t(95155),r=t(12115),n=t(84130),s=t.n(n),o=t(59487),i=t(78064),u=t(77060),d=t.n(u),c=t(23464),m=t(52269),b=t(9670),p=t(36269),h=t(21437);let x=e=>{let{getValue:a}=e,[t,n]=(0,r.useState)("http://localhost:3000"),{data:s,isLoading:o}=(0,h.Ay)();return(0,r.useEffect)(()=>{a(t)},[t]),(0,l.jsx)(p.x,{getValue:e=>{n(e)},label:"Select Printer",options:s?null==s?void 0:s.map(e=>({value:e.ip_address,label:e.name})):[]})},v=e=>{let{value:a,children:t,setTriggerFunc:n,printer:u,orderDate:d}=e,c=(0,r.useRef)(null);return(0,r.useEffect)(()=>{let e=async()=>{let e=document.getElementById("barcode");e&&g("test",await i.mo(e),u)};n(()=>e)},[u]),(0,l.jsx)(o.jD,{sx:{display:"flex",flexDirection:"column",alignItems:"center"},children:(0,l.jsx)("div",{id:"barcode",children:(0,l.jsxs)(o.jD,{sx:{pb:"8px",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},ref:c,children:[t,(0,l.jsx)(s(),{width:6,height:120,margin:0,displayValue:!1,value:a})]})})})},g=async(e,a,t)=>{let l=a.toDataURL("image/png");try{let e=await d().encode(l);await c.A.post("".concat(t,"/print"),{zpl:"^XA^FO20,20".concat(e,"^XZ")})}catch(e){console.error("Error encoding image to ZPL:",e)}},R=e=>{let{presentingComplaints:a,vitals:t,date:n,arrivalTime:s,referredFrom:u,triageCategory:d,triagedBy:c}=e,[h,v]=(0,r.useState)(""),[R,y]=(0,r.useState)(""),j=async()=>{let e=document.getElementById("triage");e&&g("test",await i.mo(e),h)};return(0,l.jsxs)(m.default,{children:[(0,l.jsx)("div",{id:"triage",children:(0,l.jsx)(o.jD,{sx:{p:"5px",display:"flex",flexDirection:"column",alignItems:"center"},children:(0,l.jsxs)(m.default,{sx:{width:"100%"},children:[(0,l.jsxs)(b.default,{variant:"body2",mr:"1ch",children:["Arrival Date Time: ",s]}),(0,l.jsxs)(m.default,{sx:{display:"flex",width:"100%"},children:[(0,l.jsxs)(b.default,{variant:"body2",mr:"1ch",children:["Triage Date Time: ",n]}),(0,l.jsxs)(b.default,{variant:"body2",children:["Referred From: ",u]})]}),(0,l.jsxs)(m.default,{sx:{display:"flex"},children:[(0,l.jsxs)(b.default,{mr:"1ch",variant:"body1",children:["Category: ",d]}),(0,l.jsxs)(b.default,{variant:"body1",children:["Reason: ",R]})]}),(0,l.jsxs)(b.default,{sx:{mt:"1ch"},variant:"subtitle1",children:["Presenting Complaints: ",a," "]}),(0,l.jsx)(o.jD,{sx:{display:"flex",border:"dashed",my:"1ch"},children:t.map(e=>{let{name:a,value:t}=e;return(0,l.jsx)(f,{title:a,value:t},"".concat(t).concat(a))})}),(0,l.jsxs)(b.default,{variant:"body1",children:["Triaged By: ",c]})]})})}),(0,l.jsx)(p.x,{getValue:e=>y(e),label:"Reasons for triage category:",options:[{value:"Vitals above/below threshold",label:"Vitals above/below threshold"},{value:"Airway/Breathing compromised",label:"Airway/Breathing compromised"},{value:"Blood circulation compromised",label:"Blood circulation compromised"},{value:"Disability",label:"Disability"},{value:"Persistent pain and other concerns ",label:"Persistent pain and other concerns "}]}),(0,l.jsx)("br",{}),(0,l.jsx)("br",{}),(0,l.jsx)(x,{getValue:e=>v(e)}),(0,l.jsx)("br",{}),(0,l.jsx)("br",{}),(0,l.jsx)(o.O6,{onClick:j,title:"print"})]})},f=e=>{let{title:a,value:t}=e;return(0,l.jsxs)(o.jD,{sx:{mx:"0.5ch",display:"flex",flexDirection:"column",alignItems:"center"},children:[(0,l.jsx)(o.Th,{variant:"h6",textAlign:"center",children:a}),(0,l.jsx)(o.Th,{variant:"h6",children:t})]})},y=e=>{let{value:a,children:t,setTriggerFunc:n,printer:o,orderDate:u,test:d,fullName:c,gender:m,description:b}=e,p=(0,r.useRef)(null);return(0,r.useEffect)(()=>{n(async()=>{let e=document.getElementById("barcode");if(e){let a=await i.mo(e),t=document.createElement("canvas");t.width=700,t.height=160;let l=t.getContext("2d");if(l){l.fillStyle="#ffffff",l.fillRect(0,0,700,160);let e=a.width/a.height,r=700,n=700/e;n>160&&(r=(n=160)*e);let s=(700-r)/2,i=(160-n)/2;l.drawImage(a,0,0,a.width,a.height,s,i,r,n),g("test",t,o)}}})},[o,n]),(0,l.jsxs)("div",{id:"barcode",ref:p,style:{display:"flex",flexDirection:"column",paddingLeft:"5ch"},children:[(0,l.jsxs)("b",{style:{fontSize:"0.5rem",lineHeight:"1"},children:[c,"(",m,")~",b]}),(0,l.jsx)("b",{style:{fontSize:"0.5rem",lineHeight:"1"},children:u}),(0,l.jsx)(s(),{width:1,height:45,margin:0,displayValue:!1,value:a}),(0,l.jsx)("b",{style:{fontSize:"0.5rem"},children:d})]})}},22769:(e,a,t)=>{t.d(a,{R:()=>c});var l=t(95155),r=t(12115),n=t(59487),s=t(75363),o=t(15377),i=t(26096),u=t(53494),d=t(55253);let c=e=>{let{patientId:a,visitId:t,onDelete:c,sx:m,dialogTitle:b="Abscond Patient",dialogConfirmationMsg:p="Are you sure the patient absconded?",buttonTitle:h="Abscond"}=e,{mutate:x,isPending:v,isSuccess:g}=(0,s.FD)(),[R,f]=(0,r.useState)(!1);return(0,r.useEffect)(()=>{g&&c()},[g]),(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(i.A,{title:"Mark as absconded",arrow:!0,children:(0,l.jsx)(u.default,{onClick:()=>{f(!0)},"aria-label":"abscond",children:(0,l.jsx)(d.axc,{})})}),(0,l.jsxs)(n.eV,{maxWidth:"sm",title:b,open:R,onClose:()=>f(!1),children:[(0,l.jsx)(o.OverlayLoader,{open:v}),(0,l.jsx)(n.Th,{children:p}),(0,l.jsx)("br",{}),(0,l.jsx)(n.O6,{title:"Yes",onClick:()=>{x(t)}}),(0,l.jsx)(n.O6,{sx:{ml:.3},variant:"secondary",title:"No",onClick:()=>f(!1)})]})]})}},30830:(e,a,t)=>{t.d(a,{a:()=>n});var l=t(12115),r=t(33764);let n=(e,a)=>{let[t,r]=(0,l.useState)({page:0,pageSize:10}),[n,o]=(0,l.useState)(""),[i,u]=(0,l.useState)([]),[d,c]=(0,l.useState)(!1),[m,b]=(0,l.useState)(0),[p,h]=(0,l.useState)(0),[x,v]=(0,l.useState)(!1),g=(0,l.useCallback)(async()=>{let l;c(!0),x&&(l=new Date().toISOString().split("T")[0]);try{let r=await s(e,t.pageSize,n,t.page+1,l||"",a);u(r.data.data),b(r.data.total_pages),h(r.data.totalEntries)}catch(e){console.error("Error fetching patients:",e)}finally{c(!1)}},[e,t.pageSize,n,t.page,x]);return(0,l.useEffect)(()=>{g()},[g]),{loading:d,patients:i,paginationModel:t,setPaginationModel:r,searchText:n,setSearchText:o,totalPages:m,totalEntries:p,setOnSwitch:v,refetch:(0,l.useCallback)(()=>{g()},[g])}},s=async(e,a,t,l,n,s)=>{let o="category=".concat(e,"&page=").concat(l,"&page_size=").concat(a,"&search=").concat(t,"&date=").concat(n);return s&&(o="category=".concat(e,"&paginate=false&patient_care_area=").concat(encodeURIComponent(s))),await (0,r.P8)(o)}},36269:(e,a,t)=>{t.d(a,{x:()=>u});var l=t(95155),r=t(99284),n=t(50095),s=t(77498),o=t(26403),i=t(12115);function u(e){let{label:a,options:t,getValue:u,defaultValue:d}=e,[c,m]=i.useState("");return(0,l.jsxs)(s.A,{size:"small",fullWidth:!0,children:[(0,l.jsx)(r.A,{id:"demo-select-small-label",children:a}),(0,l.jsx)(o.A,{labelId:"demo-simple-select-label",id:"demo-simple-select",defaultValue:d,value:c,label:a,onChange:e=>{m(e.target.value),u&&u(e.target.value)},children:t.map(e=>(0,l.jsx)(n.A,{value:e.value,children:e.label},e.value))})]})}},40425:(e,a,t)=>{t.d(a,{d:()=>r});var l=t(12115);function r(e,a){let[t,r]=(0,l.useState)(e);return(0,l.useEffect)(()=>{let t=setTimeout(()=>r(e),a);return()=>clearTimeout(t)},[e,a]),t}},67678:(e,a,t)=>{t.d(a,{WL:()=>S,Yc:()=>p,k2:()=>j,jx:()=>h});var l=t(95155),r=t(59487),n=t(16805),s=t(12115),o=t(36269),i=t(53988),u=t(26096),d=t(53494),c=t(21437),m=t(86019),b=t(33764);let p=e=>{var a,t,u;let{firstName:d,lastName:m,identifiers:b,addresses:p}=e,[h,x]=(0,s.useState)("http://localhost:3000"),[v,g]=(0,s.useState)(()=>{}),{data:R,isLoading:f}=(0,c.Ay)();return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)(n.Nt,{printer:h,setTriggerFunc:e=>g(e),value:(0,i.lA)(b),children:[(0,l.jsx)(r.Th,{fontWeight:"600",variant:"h4",children:"".concat(d," ").concat(m," ~ ").concat((0,i.lA)(b))}),(0,l.jsx)(r.Th,{fontSize:30,children:p&&p[0]?"".concat(null==(a=p[0])?void 0:a.address1,", ").concat(null==(t=p[0])?void 0:t.address2,", ").concat(null==(u=p[0])?void 0:u.address3):""})]}),(0,l.jsx)("br",{}),(0,l.jsx)(o.x,{getValue:e=>{x(e)},label:"Select Printer",options:R?null==R?void 0:R.map(e=>({value:e.ip_address,label:e.name})):[]}),(0,l.jsx)("br",{}),(0,l.jsx)(r.O6,{sx:{color:"#000"},title:"Print Barcode",variant:"text",onClick:()=>{let e=v();"function"==typeof e&&e()}})]})},h=e=>{let{uuid:a,sx:t,onClose:n,variant:o="secondary",title:i="Print",icon:c}=e,[h,x]=(0,s.useState)(!1),[v,g]=(0,s.useState)(null),R=async()=>{if(a){let e=await (0,b.kb)(a);g(null==e?void 0:e.data)}};return(0,s.useEffect)(()=>{h&&R()},[h]),(0,l.jsxs)(l.Fragment,{children:[c&&(0,l.jsx)(u.A,{title:"Print",arrow:!0,children:(0,l.jsx)(d.default,{onClick:()=>x(!0),"aria-label":"Print",sx:{color:"#015E85"},children:(0,l.jsx)(m.ebz,{})})}),!c&&(0,l.jsx)(r.O6,{size:"small",variant:o,sx:{fontSize:"12px",ml:"1px",...t},title:i,icon:c,onClick:()=>x(!0)}),(0,l.jsx)(r.eV,{open:h,onClose:()=>{x(!1),n&&n()},title:"Print Patient Barcode",children:v&&(0,l.jsx)(p,{firstName:v.given_name,lastName:v.family_name,addresses:v.addresses,identifiers:v.identifiers})})]})};var x=t(48339),v=t(83436),g=t(39347),R=t(23312),f=t(99604),y=t(6314);let j=e=>(0,l.jsx)(x.GenericDialog,{maxWidth:"sm",open:e.open,onClose:e.onClose,title:"Print Triage details",children:(0,l.jsx)(n.Wd,{presentingComplaints:e.presentingComplaints,triageCategory:e.triageCategory,date:e.date,arrivalTime:e.arrivalTime,referredFrom:e.referredFrom,triagedBy:e.triagedBy,vitals:e.vitals})}),S=e=>{let{patientId:a,activeVisitId:t,arrivalDateTime:r}=e,{data:n,isLoading:o}=(0,v.$O)(a,"encounter_type=".concat(R.fA.REFERRAL)),{data:u,isLoading:d}=(0,v.$O)(a,"encounter_type=".concat(R.fA.VITALS)),{data:c,isLoading:m}=(0,v.$O)(a,"encounter_type=".concat(R.fA.PRESENTING_COMPLAINTS)),{data:b,isLoading:p}=(0,v.$O)(a,"encounter_type=".concat(R.fA.TRIAGE_RESULT)),[h,x]=(0,s.useState)([]),[S,E]=(0,s.useState)(""),[O,D]=(0,s.useState)(""),[w,P]=(0,s.useState)(""),[A,T]=(0,s.useState)(""),[C,L]=(0,s.useState)(""),[N,W]=(0,s.useState)(!1);(0,s.useEffect)(()=>{I()},[n,c,b,u]);let I=()=>{var e,a;let t=_(n);D(t?(0,i.m)(null==t?void 0:t.obs,R.W.REFERRED_FROM):"");let l=_(c);console.log({presentingComplaints:l}),E(null==l?void 0:l.obs.reduce((e,a)=>""==e?a.value:e+","+a.value,""));let r=_(b);P(null==r?void 0:r.obs[0].value),T((0,y.rX)(null==r?void 0:r.encounter_datetime)),L(null==r?void 0:r.created_by);let s=null!=(a=null==(e=_(u))?void 0:e.obs)?a:[];x([{name:f.D.saturationRate.short,value:(0,i.m)(s,f.D.saturationRate.name)},{name:f.D.heartRate.short,value:(0,i.m)(s,f.D.heartRate.name)},{name:f.D.bloodPressure.short,value:"".concat((0,i.m)(s,f.D.bloodPressure.name),"/").concat((0,i.m)(s,f.D.bloodPressureDiastolic.name))},{name:f.D.respiratoryRate.short,value:(0,i.m)(s,f.D.respiratoryRate.name)},{name:f.D.temperature.short,value:(0,i.m)(s,f.D.temperature.name)},{name:f.D.avpu.label,value:(0,i.m)(s,f.D.avpu.name)},{name:"".concat(f.D.glucose.label,"(").concat((0,i.m)(s,f.D.units.name)),value:(0,i.m)(s,f.D.glucose.name)}])},_=e=>null==e?void 0:e.find(e=>e.visit.uuid==t);return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(g.A,{variant:"text",sx:{fontSize:"12px",color:"ButtonText",textTransform:"capitalize",textAlign:"left"},onClick:()=>W(!0),children:"Triage"}),(0,l.jsx)(j,{arrivalTime:(0,y.rX)(r),open:N,onClose:()=>W(!1),triageCategory:w,triagedBy:C,referredFrom:O,date:A,presentingComplaints:S,vitals:h})]})}},75363:(e,a,t)=>{t.d(a,{b2:()=>d,FD:()=>c,qv:()=>m});var l=t(49262),r=t(44919);let n="visits",s=e=>(0,r.vt)(e,n),o=(e,a)=>(0,r.hc)(e,a,n);var i=t(26715),u=t(5041);let d=()=>{let e=(0,i.jE)();return(0,u.n)({mutationFn:e=>s(e).then(e=>e.data),onSuccess:a=>{e.invalidateQueries({queryKey:["visits"]})}})},c=()=>{let{ServerTime:e}=(0,l.useServerTime)(),a=async a=>o(a,{stopDatetime:e.getServerTimeString()}).then(e=>e.data);return(0,u.n)({mutationFn:a})},m=e=>{let a=(0,i.jE)();return(0,u.n)({mutationFn:e=>o(e,{stopDatetime:"null"}).then(e=>e.data),onSuccess:()=>{a.invalidateQueries({queryKey:["patients",e,"visits"]})}})}},99604:(e,a,t)=>{t.d(a,{D:()=>u,u:()=>x});var l=t(95155),r=t(12115),n=t(59487),s=t(37129),o=t(23312),i=t(3525);let u={temperature:{name:o.W.TEMPERATURE,label:"Body Temperature",short:"Temp"},pulseRate:{name:o.W.PULSE_RATE,label:"Pulse Rate",short:"PR"},respiratoryRate:{name:o.W.RESPIRATORY_RATE,label:"Respiratory rate",short:"RR"},saturationRate:{name:o.W.BLOOD_OXYGEN_SATURATION,label:"Oxygen Saturation",short:"SPO2"},heartRate:{name:o.W.HEART_RATE,label:"Heart rate",short:"HR"},bloodPressure:{name:o.W.SYSTOLIC_BLOOD_PRESSURE,label:"Systolic",short:"BP"},bloodPressureDiastolic:{name:o.W.DIASTOLIC_BLOOD_PRESSURE,label:"Diastolic"},motorResponse:{name:o.W.MOTOR_RESPONSE,label:"Motor Response"},eyeOpeningResponse:{name:o.W.EYE_OPENING_RESPONSE,label:"Eye Opening Response"},verbalResponse:{name:o.W.VERBAL_RESPONSE,label:"Verbal Response"},calculatedGCS:{name:"calculatedGCS",label:"Calculated GCS"},glucose:{name:o.W.GLUCOSE,label:"Glucose"},units:{name:o.W.ADDITIONAL_NOTES,label:"Units"},avpu:{name:o.W.AVPU,label:"AVPU"},pulseOximetry:{name:o.W.PULSE_OXIMETRY,label:"Pulse Oximetry",short:"SPO"}},d=s.Ik({[u.respiratoryRate.name]:s.ai().min(0).max(90).label(u.respiratoryRate.label),[u.saturationRate.name]:s.ai().required().min(20).max(100).label(u.saturationRate.label),[u.bloodPressure.name]:s.ai().min(0).max(300).required().label(u.bloodPressure.label),[u.bloodPressureDiastolic.name]:s.ai().min(0).max(300).required().label(u.bloodPressureDiastolic.label),[u.heartRate.name]:s.ai().required().label(u.heartRate.label).min(0).max(400),[u.temperature.name]:s.ai().min(20).max(45).required().label(u.temperature.label),[u.eyeOpeningResponse.name]:s.Yj().required().label(u.eyeOpeningResponse.label),[u.motorResponse.name]:s.Yj().required().label(u.motorResponse.label),[u.verbalResponse.name]:s.Yj().required().label(u.verbalResponse.label),[u.glucose.name]:s.ai().typeError("Glucose must be a number").min(0).max(1e3).label(u.glucose.label),[u.avpu.name]:s.Yj().label(u.avpu.label),[u.units.name]:s.Yj().required().label(u.units.label)}),c=[{label:"Spontaneous",value:"Spontaneous",weight:4},{label:"To Speech",value:"To Speech",weight:3},{label:"To Pain",value:"To Pain",weight:2},{label:"No Response",value:"No Response",weight:1}],m=[{label:"Obeying Commands",value:"Obeying Commands",weight:6},{label:"Localising",value:"Localising",weight:5},{label:"Withdraw",value:"Withdraw",weight:4},{label:"Normal Flexion",value:"Normal Flexion",weight:3},{label:"Extension",value:"Extension",weight:2},{label:"None",value:"None",weight:1}],b=[{label:"Oriented",value:"Oriented",weight:5},{label:"Confused",value:"Confused",weight:4},{label:"Inappropriate Words",value:"Inappropriate Words",weight:3},{label:"Incomprehensible sounds",value:"Incomprehensible sounds",weight:2},{label:"None",value:"None",weight:1}],p=[{id:"Alert",label:"Alert"},{id:"Verbal",label:"Verbal"},{id:"Pain",label:"Pain"},{id:"Unresponsive",label:"Unresponsive"}],h={[u.temperature.name]:[{operator:"<",value:34,result:o.So.RED,bound:0},{operator:">",value:39.9,result:o.So.RED,bound:100},{operator:"combined",operator1:">=",value:37.5,operator2:"<=",value2:39.9,result:o.So.YELLOW,bound:0},{operator:"combined",operator1:">=",value:34.1,operator2:"<=",value2:35.4,result:o.So.YELLOW,bound:0},{operator:"combined",operator1:">=",value:35.5,operator2:"<=",value2:37.4,result:o.So.GREEN,bound:0}],[u.heartRate.name]:[{operator:">",value:110,result:o.So.YELLOW,value2:0,bound:130},{operator:"<",value:50,result:o.So.YELLOW,bound:40},{operator:"<",value:40,result:o.So.RED,bound:0},{operator:">",value:130,result:o.So.RED,bound:1e3},{operator:"combined",operator1:">=",value:60,operator2:"<=",value2:100,result:o.So.GREEN,bound:0}],[u.respiratoryRate.name]:[{operator:">",value:30,result:o.So.RED,bound:100},{operator:"<",value:8,result:o.So.RED,bound:0},{operator:"combined",operator1:">=",value:21,operator2:"<=",value2:30,result:o.So.YELLOW,bound:0},{operator:"combined",operator1:">=",value:8,operator2:"<=",value2:11,result:o.So.YELLOW,bound:0},{operator:"combined",operator1:">=",value:12,operator2:"<=",value2:20,result:o.So.GREEN,bound:0}],[u.saturationRate.name]:[{operator:"<",value:90,result:o.So.RED,bound:0},{operator:"<=",value:93,result:o.So.YELLOW,bound:90},{operator:"combined",operator1:">=",value:94,operator2:"<=",value2:100,result:o.So.GREEN,bound:0}],[u.glucose.name]:[{operator:"<",value:40,result:o.So.RED,bound:0},{operator:"<",value:60,result:o.So.YELLOW,bound:40},{operator:"combined",operator1:">=",value:70,operator2:"<=",value2:140,result:o.So.GREEN,bound:0}]};function x(e){let{initialValues:a,onSubmit:t,triageResult:s,setTriageResult:o,continueTriage:x,previous:v,getFormValues:g}=e,{addKeyToFlow:R}=(0,r.useContext)(i.gd),[f,y]=(0,r.useState)({}),[j,S]=(0,r.useState)(0),E=(e,a)=>{var t;if(""==a)return void o("",e);null==(t=h[e])||t.forEach(t=>{let l=Number(a);switch(t.operator){case"<":l<t.value&&l>=(null==t?void 0:t.bound)&&o(t.result,e);return;case">":l>t.value&&l<=t.bound&&o(t.result,e);return;case"=":l==t.value&&o(t.result,e);return;case"combined":(null==t?void 0:t.value2)&&l>=t.value&&l<=t.value2&&o(t.result,e);return;default:return null}})},O=e=>"red"===s&&!f[e]&&!x,D=(e,a)=>{let t=a.find(a=>a.value==e);return t?t.weight:0};return(0,r.useEffect)(()=>{let e=0;f[u.eyeOpeningResponse.name]&&f[u.motorResponse.name]&&f[u.verbalResponse.name]&&(R({gsc:e=D(f[u.eyeOpeningResponse.name],c)+D(f[u.motorResponse.name],m)+D(f[u.verbalResponse.name],b)}),S(e),e<11?o("red","gcs"):e>=11&&e<=14?o("yellow","gcs"):o("green","gcs"))},[f]),(0,l.jsxs)(n.PD,{onSubmit:t,validationSchema:d,initialValues:{...a,[u.units.name]:"mmol/l"},submitButtonText:"next",submitButton:!1,getFormValues:g,children:[(0,l.jsx)(n.fP,{getValues:y}),(0,l.jsx)(n.kI,{title:"Oxygen Saturation and Heart Rate",children:(0,l.jsxs)(n.Vp,{mr:"1ch",children:[(0,l.jsx)(n.A8,{id:u.saturationRate.name,name:u.saturationRate.name,label:u.saturationRate.label,disabled:O(u.saturationRate.name),handleBlurEvent:e=>{if(""==e)return;let a=Number(e);a<90&&o("red",u.saturationRate.name),a>=94&&o("green",u.saturationRate.name),a>=90&&a<94&&o("yellow",u.saturationRate.name)},unitOfMeasure:"%",sx:{width:"100%",m:0}}),(0,l.jsx)(n.A8,{id:u.heartRate.name,name:u.heartRate.name,label:u.heartRate.label,disabled:O(u.heartRate.name),unitOfMeasure:"bpm",handleBlurEvent:e=>{if(""==e)return;let a=Number(e);(a>129||a<40)&&(R({heart:"red"}),o("red",u.heartRate.name)),(a>=101&&a<=129||a>=40&&a<=59)&&(R({heart:"yellow"}),o("yellow",u.heartRate.name)),a>=60&&a<=100&&(R({heart:"green"}),o("green",u.heartRate.name))},sx:{width:"100%",m:0}})]})}),(0,l.jsx)(n.kI,{title:"Blood Pressure (mmHg))",children:(0,l.jsxs)(n.Vp,{mr:"1ch",children:[(0,l.jsx)(n.A8,{id:u.bloodPressure.name,name:u.bloodPressure.name,label:u.bloodPressure.label,disabled:O(u.bloodPressure.name),helperTextWidth:"10ch",sx:{width:"10ch"},handleBlurEvent:e=>{if(""==e)return;let a=Number(e);if(a>200||a<80){R({systolic:"red"}),o("red",u.bloodPressure.name);return}if(a>=81&&a<=89||a>=150&&a<=200){o("yellow",u.bloodPressure.name),R({systolic:"yellow"});return}if(a>=90||a>89&&a<=149){o("green",u.bloodPressure.name),R({systolic:"green"});return}}}),(0,l.jsx)(n.A8,{id:u.bloodPressureDiastolic.name,name:u.bloodPressureDiastolic.name,label:u.bloodPressureDiastolic.label,sx:{width:"10ch"},helperTextWidth:"10ch",disabled:O(u.bloodPressureDiastolic.name),handleBlurEvent:e=>{if(""==e)return;let a=Number(e);a>119&&(R({diastolic:"red"}),o("red",u.bloodPressureDiastolic.name)),a>=100&&a<=119&&(R({diastolic:"yellow"}),o("yellow",u.bloodPressureDiastolic.name)),a<100&&(R({diastolic:"green"}),o("green",u.bloodPressureDiastolic.name))}})]})}),(0,l.jsxs)(n.kI,{title:"Respiratory and Temperature",children:[(0,l.jsxs)(n.Vp,{mr:"1ch",children:[(0,l.jsx)(n.A8,{id:u.respiratoryRate.name,name:u.respiratoryRate.name,label:u.respiratoryRate.label,handleBlurEvent:e=>{""!=e&&E(u.respiratoryRate.name,e)},disabled:O(u.respiratoryRate.name),unitOfMeasure:"bs/m",sx:{width:"100%",m:0}}),(0,l.jsx)(n.A8,{id:u.temperature.name,name:u.temperature.name,label:u.temperature.label,disabled:O(u.temperature.name),handleBlurEvent:e=>{""!=e&&E(u.temperature.name,e)},unitOfMeasure:"\xb0C",sx:{width:"100%",m:0}})]}),(0,l.jsxs)(n.Vp,{sx:{mt:"1ch"},mr:"2px",children:[(0,l.jsx)(n.el,{width:"40%",multiple:!1,name:u.units.name,options:[{id:"mmol/l",label:"mmol/l"},{id:"mg/dl",label:"mg/dl"}],label:u.units.label}),(0,l.jsx)(n.A8,{id:u.glucose.name,name:u.glucose.name,label:u.glucose.label,sx:{width:"100%",m:0},disabled:O(u.glucose.name),handleBlurEvent:e=>{if(""==e)return;let a=Number(e),t=f[u.units.name];R({glucose:"".concat(a," ").concat(t)}),"mmol/l"==t&&((a<3||a>30)&&o("red",u.glucose.name),(a>=3.1&&a<=3.8||a>11.1&&a<=29.9)&&o("yellow",u.glucose.name),a>=3.9&&a<=11.1&&o("green",u.glucose.name)),"mg/dl"==t&&((a<54.054||a>540.54)&&o("red",u.glucose.name),(a>=55.8558&&a<=68.4684||a>199.9998&&a<=538.7382)&&o("yellow",u.glucose.name),a>=70.2702&&a<=199.9998&&o("green",u.glucose.name))},unitOfMeasure:f[u.units.name]})]})]}),(0,l.jsxs)(n.kI,{last:!0,title:"GCS",children:[(0,l.jsxs)(n.Vp,{sx:{alignItems:"start"},children:[(0,l.jsx)(n.b1,{name:u.motorResponse.name,label:u.motorResponse.label,options:m,disabled:O(u.motorResponse.name),row:!1}),(0,l.jsx)(n.b1,{name:u.verbalResponse.name,label:u.verbalResponse.label,options:b,disabled:O(u.verbalResponse.name),row:!1}),(0,l.jsx)(n.b1,{name:u.eyeOpeningResponse.name,label:u.eyeOpeningResponse.label,options:c,disabled:O(u.eyeOpeningResponse.name),row:!1})]}),(0,l.jsx)("br",{}),(0,l.jsxs)(n.Th,{fontWeight:"800",variant:"body2",children:["(M",D(f[u.motorResponse.name],m)," ","V",D(f[u.verbalResponse.name],b)," ","E",D(f[u.eyeOpeningResponse.name],c),") ",j,"/15"]}),(0,l.jsx)(n.el,{name:u.avpu.name,options:p,label:u.avpu.label,sx:{my:"1ch"},multiple:!1,disabled:O(u.avpu.name)})]}),(0,l.jsx)("br",{}),(0,l.jsxs)(n.jD,{children:[(0,l.jsx)(n.O6,{sx:{m:.5},title:"previous",variant:"secondary",type:"button",onClick:v}),(0,l.jsx)(n.O6,{sx:{m:.5},title:"next",type:"submit",onClick:()=>{}})]})]})}}}]);