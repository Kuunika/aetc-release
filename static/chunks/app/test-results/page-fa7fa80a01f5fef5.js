(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9276],{17066:(e,t,a)=>{Promise.resolve().then(a.bind(a,76665))},21022:(e,t,a)=>{"use strict";a.d(t,{VQ:()=>n,kC:()=>s,sL:()=>r,uQ:()=>d});var i=a(95155),l=a(59487);let r=e=>{let{children:t,id:a}=e;return(0,i.jsx)(l.Th,{id:a,sx:{fontFamily:"Inter",fontSize:24,fontWeight:700,lineHeight:"29px",letterSpacing:0,textAlign:"center"},children:t})},n=e=>{let{children:t}=e;return(0,i.jsx)(l.Th,{alignSelf:"center",sx:{fontFamily:"Inter",fontSize:14,fontWeight:400,lineHeight:"21px",letterSpacing:0,color:"#636363",width:"50ch",textAlign:"center",my:"2ch"},children:t})},s=e=>{let{children:t,sx:a}=e;return(0,i.jsx)(l.sc,{elevation:0,sx:{display:"flex",flexDirection:"column",justifyContent:"center",px:"5ch",py:"5ch",mb:"2ch",...a},children:t})},d=e=>{let{children:t}=e;return(0,i.jsx)(l.Th,{sx:{fontFamily:"Inter",fontSize:"16px",fontWeight:600,lineHeight:"24px",letterSpacing:"0em",textAlign:"center",my:"2ch"},children:t})}},39419:(e,t,a)=>{"use strict";a.d(t,{A:()=>x});var i=a(95155),l=a(15377),r=a(70482),n=a(12115),s=a(21184),d=a(59487),o=a(66766),c=a(20256);function x(e,t){return function(a){let[d,o]=(0,n.useState)(!1),{navigateTo:x}=(0,r.cq)();(0,n.useLayoutEffect)(()=>{if(localStorage)if(localStorage.getItem("accessToken")){let e=localStorage.getItem("loginTime");if(e){let t=parseInt(e);if(Math.floor((new Date().getTime()-t)%36e5/6e4)>60){o(!1),x("/"),localStorage.clear();return}}o(!0)}else o(!1),localStorage.clear(),x("/")},[]);let u=(0,s.R)(t,(0,c.O)());return d?u?(0,i.jsx)(e,{...a}):(0,i.jsx)(p,{}):(0,i.jsx)(l.OverlayLoader,{open:!d})}}let p=()=>(0,i.jsx)(d.jD,{sx:{width:"100%",height:"100vh",display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"#fff"},children:(0,i.jsx)(o.default,{src:"/403.jpg",height:500,width:500,alt:"403"})})},76665:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>k});var i=a(95155),l=a(59487),r=a(21022),n=a(99653),s=a(39419),d=a(23312),o=a(6314),c=a(12115),x=a(70482),p=a(22769),u=a(67678),h=a(16232),f=a(55253),g=a(52269),m=a(26096),j=a(53494),y=a(81063),v=a(9670),A=a(20071),C=a(39347),_=a(20837),w=a(77498),S=a(99284),b=a(26403),I=a(89547),N=a(50095),T=a(30830),B=a(40425);let D=()=>{let[e,t]=(0,c.useState)(!1),[a,r]=(0,c.useState)(""),[n,s]=(0,c.useState)(""),[D,k]=(0,c.useState)(""),[P,E]=(0,c.useState)(!1),[z,O]=(0,c.useState)({plannedBy:[],patientCareArea:[]}),[W,F]=(0,c.useState)({plannedByOptions:[],patientCareAreas:[]}),{navigateTo:R}=(0,x.cq)(),V=1===z.patientCareArea.length?z.patientCareArea[0]:void 0,{loading:M,patients:L,paginationModel:H,setPaginationModel:J,searchText:Y,setSearchText:Q,totalPages:q,setOnSwitch:U}=(0,T.a)("investigations",V),[G,K]=(0,c.useState)(""),X=(0,B.d)(G,500);(0,c.useEffect)(()=>{Q(X)},[X]);let Z=null==L?void 0:L.map(e=>({id:null==e?void 0:e.uuid,...e,patient_arrival_time:(0,o.WB)(e.arrival_time)})).filter(e=>e.id!=D);(0,c.useEffect)(()=>{if(Z&&Z.length>0){let e=Array.from(new Set(Z.map(e=>e.last_encounter_creator).filter(Boolean))),t=Array.from(new Set(Z.map(e=>e.patient_care_area).filter(Boolean)));F({plannedByOptions:e.sort(),patientCareAreas:t.sort()})}},[Z]);let $=c.useMemo(()=>Z?Z.filter(e=>{let t=0===z.plannedBy.length||z.plannedBy.includes(e.last_encounter_creator),a=0===z.patientCareArea.length||z.patientCareArea.includes(e.patient_care_area);return t&&a}):[],[Z,z]),ee=e=>t=>{let a=t.target.value;O(t=>({...t,[e]:"string"==typeof a?a.split(","):a}))},et=(e,t)=>{O(a=>({...a,[e]:a[e].filter(e=>e!==t)}))},ea=z.plannedBy.length>0||z.patientCareArea.length>0,ei=[{field:"triage_result",headerName:"Triage Cat",renderCell:e=>(0,i.jsx)(g.default,{sx:{display:"flex",justifyContent:"center",alignItems:"center",width:"100%",height:"100%"},children:(0,i.jsx)(g.default,{sx:{width:20,height:20,borderRadius:"50%",backgroundColor:"red"==e.value||"Emergency"==e.value?"#B42318":"yellow"==e.value||"Priority"==e.value?"#EDE207":"green"==e.value||"Queue"==e.value?"#016302":"transparent"}})})},{field:"given_name",headerName:"First Name",flex:1},{field:"family_name",headerName:"Last Name",flex:1},{field:"patient_arrival_time",headerName:"Arrival Time"},{field:"waiting",headerName:"WaitingTime",flex:1,renderCell:e=>(0,i.jsx)(l.VJ,{arrival_time:e.row.latest_encounter_time})},{field:"aggreg",headerName:"Aggregate",flex:1,renderCell:e=>(0,i.jsx)(l.VJ,{arrival_time:e.row.arrival_time})},{field:"last_encounter_creator",headerName:"Planned By",flex:1},{field:"patient_care_area",flex:1,headerName:"Patient Care Area"},{field:"action",headerName:"Action",flex:1.2,renderCell:e=>(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(m.A,{title:"patient profile",arrow:!0,children:(0,i.jsx)(j.default,{onClick:()=>R("/patient/".concat(e.id,"/profile")),"aria-label":"Profile",color:"primary",children:(0,i.jsx)(f.gSK,{})})}),(0,i.jsx)(m.A,{title:"Dispose",arrow:!0,children:(0,i.jsx)(j.default,{onClick:()=>R("/patient/".concat(e.id,"/disposition")),"aria-label":"Dispose",sx:{color:"grey"},children:(0,i.jsx)(f.dhv,{})})}),(0,i.jsx)(u.jx,{icon:!0,uuid:e.row.uuid}),(0,i.jsx)(m.A,{title:"Initiate CPR",arrow:!0,children:(0,i.jsx)(j.default,{onClick:()=>{r(e.id),t(!0),s(e.row.visit_uuid)},"aria-label":"initiate CPR",color:"error",children:(0,i.jsx)(f.szJ,{})})})]})}],el=null==$?void 0:$.map(e=>({id:e.id,visitNumber:e.aetc_visit_number,firstName:e.given_name,lastName:e.family_name,gender:e.gender,arrivalTime:e.patient_arrival_time,arrivalDateTime:e.arrival_time,actor:(0,i.jsx)(l.uT,{encounterType:d.fA.SOCIAL_HISTORY,patientId:e.id}),aggregate:(0,i.jsx)(l.VJ,{arrival_time:e.arrival_time}),waitingTime:(0,i.jsx)(l.VJ,{arrival_time:null==e?void 0:e.latest_encounter_time}),actionName:"Registered by",action:(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(l.O6,{size:"small",sx:{fontSize:"12px",width:"30%",mr:"1px",mb:"1px"},title:"start",onClick:()=>R("/patient/".concat(e.id,"/profile"))}),(0,i.jsx)(p.R,{sx:{width:"30%"},onDelete:()=>k(e.id),visitId:e.visit_uuid,patientId:e.id}),(0,i.jsx)(u.jx,{sx:{width:"30%"},uuid:e.uuid})]}),age:(0,o.Cb)(e.birthdate),triageResult:e.triage_result}));return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(y.default,{sx:{p:2,mb:2},children:[(0,i.jsxs)(g.default,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",mb:2},children:[(0,i.jsxs)(g.default,{sx:{display:"flex",alignItems:"center",gap:1},children:[(0,i.jsx)(f.YsJ,{}),(0,i.jsx)(v.default,{variant:"h6",children:"Filters"}),ea&&(0,i.jsx)(A.A,{label:"".concat(z.plannedBy.length+z.patientCareArea.length," active"),size:"small",color:"primary"})]}),(0,i.jsxs)(g.default,{sx:{display:"flex",gap:1},children:[ea&&(0,i.jsx)(C.A,{startIcon:(0,i.jsx)(f.QCr,{}),onClick:()=>{O({plannedBy:[],patientCareArea:[]})},size:"small",variant:"outlined",color:"secondary",children:"Clear All"}),(0,i.jsxs)(C.A,{startIcon:P?(0,i.jsx)(f.Ucs,{}):(0,i.jsx)(f.Vr3,{}),onClick:()=>E(!P),size:"small",variant:"outlined",children:[P?"Hide":"Show"," Filters"]})]})]}),(0,i.jsx)(_.A,{in:P,children:(0,i.jsxs)(g.default,{sx:{display:"flex",flexWrap:"wrap",gap:2,mb:2},children:[(0,i.jsxs)(w.A,{sx:{minWidth:200},children:[(0,i.jsx)(S.A,{children:"Planned By"}),(0,i.jsx)(b.A,{multiple:!0,value:z.plannedBy,onChange:ee("plannedBy"),input:(0,i.jsx)(I.A,{label:"Planned By"}),renderValue:e=>(0,i.jsx)(g.default,{sx:{display:"flex",flexWrap:"wrap",gap:.5},children:e.map(e=>(0,i.jsx)(A.A,{label:e,size:"small",onDelete:()=>et("plannedBy",e),onMouseDown:e=>{e.stopPropagation()}},e))}),children:W.plannedByOptions.map(e=>(0,i.jsx)(N.A,{value:e,children:e},e))})]}),(0,i.jsxs)(w.A,{sx:{minWidth:200},children:[(0,i.jsx)(S.A,{children:"Patient Care Area"}),(0,i.jsx)(b.A,{multiple:!0,value:z.patientCareArea,onChange:ee("patientCareArea"),input:(0,i.jsx)(I.A,{label:"Patient Care Area"}),renderValue:e=>(0,i.jsx)(g.default,{sx:{display:"flex",flexWrap:"wrap",gap:.5},children:e.map(e=>(0,i.jsx)(A.A,{label:e,size:"small",onDelete:()=>et("patientCareArea",e),onMouseDown:e=>{e.stopPropagation()}},e))}),children:W.patientCareAreas.map(e=>(0,i.jsx)(N.A,{value:e,children:e},e))})]})]})}),ea&&(0,i.jsxs)(g.default,{sx:{display:"flex",flexWrap:"wrap",gap:1},children:[(0,i.jsx)(v.default,{variant:"body2",sx:{mr:1,alignSelf:"center"},children:"Active filters:"}),z.plannedBy.map(e=>(0,i.jsx)(A.A,{label:"Planned By: ".concat(e),onDelete:()=>et("plannedBy",e),size:"small",color:"primary",variant:"outlined"},"plannedBy-".concat(e))),z.patientCareArea.map(e=>(0,i.jsx)(A.A,{label:"Care Area: ".concat(e),onDelete:()=>et("patientCareArea",e),size:"small",color:"primary",variant:"outlined"},"area-".concat(e)))]})]}),(0,i.jsx)(l.vP,{columns:ei,data:(null==$?void 0:$.length)?{data:$.map(e=>({id:e.id||e.uuid,...e})),page:H.page,per_page:H.pageSize,total_pages:q,totalEntries:$.length}:{data:[],page:1,per_page:10,total_pages:0,totalEntries:0},searchText:G,setSearchString:K,setPaginationModel:J,paginationModel:H,loading:M,formatForMobileView:el||[],onSwitchChange:U,onRowClick:e=>R("/patient/".concat(e.id,"/profile"))}),(0,i.jsx)(h.w8,{patientuuid:a,visituuid:n,open:e,onClose:()=>t(!1)})]})},k=(0,s.A)(function(){return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.V,{title:"Patients waiting for Test & Results",link:"/dashboard"}),(0,i.jsxs)(l.Yr,{container:!0,children:[(0,i.jsx)(l.Yr,{xs:0,lg:0,item:!0}),(0,i.jsxs)(l.Yr,{xs:12,lg:12,sx:{display:"flex",flexDirection:"column",mx:"2ch"},item:!0,children:[(0,i.jsx)("br",{}),(0,i.jsx)("br",{}),(0,i.jsx)(r.sL,{children:"Patients waiting for Test & Results"}),(0,i.jsx)(r.VQ,{children:"This is a list of all patients that are waiting for their test results"}),(0,i.jsx)(r.kC,{sx:{p:0},children:(0,i.jsx)(D,{})})]}),(0,i.jsx)(l.Yr,{lg:0,item:!0})]})]})},[d.Ot.CLINICIAN,d.Ot.NURSE,d.Ot.ADMIN,d.Ot.STUDENT_CLINICIAN])},99653:(e,t,a)=>{"use strict";a.d(t,{V:()=>s});var i=a(95155),l=a(70482),r=a(59487),n=a(33881);let s=e=>{let{title:t,link:a}=e,{navigateTo:s}=(0,l.cq)(),d={fontFamily:"Inter",fontSize:"14px",fontWeight:400,lineHeight:"21px",letterSpacing:"0em",textAlign:"center",mx:"1ch"};return(0,i.jsxs)(r.jD,{sx:{display:"flex",justifyContent:"space-evenly",py:"1ch",borderBottom:"solid 1px #E6E6E6"},children:[(0,i.jsxs)(r.jD,{onClick:()=>s(a),sx:{display:"flex",cursor:"pointer"},children:[(0,i.jsx)(r.Th,{children:(0,i.jsx)(n.oWm,{})}),(0,i.jsx)(r.Th,{sx:d,children:"Go back"})]}),(0,i.jsx)(r.Th,{sx:d,children:t}),(0,i.jsxs)(r.jD,{sx:{display:"flex",alignItems:"center"},children:[(0,i.jsx)(n.M4e,{}),(0,i.jsx)(r.Th,{sx:d,children:"Need any help?"})]})]})}}},e=>{var t=t=>e(e.s=t);e.O(0,[5639,16,9344,8250,2225,3740,8320,3349,9306,6987,2073,5062,4821,6448,7129,4536,5976,9487,8130,342,6232,1349,8441,1684,7358],()=>t(17066)),_N_E=e.O()}]);