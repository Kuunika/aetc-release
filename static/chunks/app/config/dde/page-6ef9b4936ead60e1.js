(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[493],{7196:(e,a,l)=>{"use strict";l.r(a),l.d(a,{default:()=>j});var t=l(95155),i=l(28383),n=l(72478),r=l(97998),s=l(12115);let d=[{id:"1",firstName:"John",lastName:"Doe",district:"Ntcheu",homeTA:"Chikulamayembe",village:"vingula",gender:"M",dateofbirth:"08-01-1994",selected:!1},{id:"2",firstName:"Jane",lastName:"Doe",district:"Blantyre",homeTA:"Chikulamayembe",village:"vingula",gender:"M",dateofbirth:"08-01-1994",selected:!1},{id:"3",firstName:"Anold",lastName:"Banda",district:"Blantyre",homeTA:"Chikulamayembe",village:"vingula",gender:"M",dateofbirth:"08-01-1994",selected:!1}],o=e=>{let a,{onCancel:l}=e,[i,r]=(0,s.useState)(d),o=e=>{let a=[...i],l=a.findIndex(a=>a.id==e);a[l].selected=!a[l].selected,r(a)},c=i.filter(e=>e.selected).length>1;return c||(a={backgroundColor:"transparent"}),(0,t.jsxs)(n.jD,{children:[(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.O6,{disabled:!c,sx:{mr:"0.3ch",color:"#fff",...a},title:"merge",onClick:()=>{}}),(0,t.jsx)(n.O6,{title:"cancel",variant:"secondary",onClick:l})]}),i.map(e=>(0,t.jsx)(m,{onClick:o,person:e},e.id))]})},m=e=>{let{person:a,onClick:l}=e;return(0,t.jsxs)(n.jD,{onClick:()=>l(a.id),sx:{display:"flex",p:"1ch",borderRadius:"2px",my:"1ch",cursor:"pointer",justifyContent:"space-between",backgroundColor:a.selected?"#DDE0E5":"","&:hover":{backgroundColor:"#DDE0E5"}},children:[(0,t.jsx)(n.jD,{children:(0,t.jsx)(n.Th,{variant:"h6",children:a.selected?(0,t.jsx)(r.p29,{}):(0,t.jsx)(r.PVM,{})})}),(0,t.jsxs)(n.jD,{sx:{ml:"1ch",width:"70%"},children:[(0,t.jsx)(c,{label:"Name",value:"".concat(a.firstName," ").concat(a.lastName,"(").concat(a.gender,") ").concat(a.dateofbirth," ")}),(0,t.jsx)(c,{label:"Home District",value:a.district}),(0,t.jsx)(c,{label:"Home TA",value:a.homeTA}),(0,t.jsx)(c,{label:"Home Village",value:a.village})]}),(0,t.jsx)(n.jD,{children:(0,t.jsx)(n.O6,{variant:"secondary",title:"reassign Id",onClick:()=>{}})})]})},c=e=>{let{label:a,value:l}=e;return(0,t.jsxs)(n.jD,{display:"flex",children:[(0,t.jsxs)(n.Th,{variant:"caption",children:[a,":"]})," ",(0,t.jsx)(n.Th,{fontWeight:"600",variant:"caption",children:l})]})};var h=l(84712),b=l(88842),u=l(93584),x=l(263);let j=(0,l(41186).A)(function(){let[e,a]=(0,s.useState)(!1),[l,r]=(0,s.useState)(!1);return(0,s.useEffect)(()=>{e&&setTimeout(()=>{r(!0),a(!1)},2e3)},[e]),(0,t.jsx)(t.Fragment,{children:(0,t.jsxs)(n.jD,{sx:{width:"100%"},children:[!l&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.Th,{textAlign:"center",variant:"h5",children:"Search Patient"}),(0,t.jsx)("br",{})," ",(0,t.jsx)(b.g,{npid:(0,t.jsx)(h.c,{onSubmit:()=>a(!0)}),demographics:(0,t.jsx)(i.B,{onSubmit:()=>a(!0)})})]}),(0,t.jsx)(u.OverlayLoader,{open:e}),l&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.Th,{textAlign:"center",variant:"h5",children:"Search Results"}),(0,t.jsx)(o,{onCancel:()=>r(!1)})]})]})})},[x.Ot.ADMIN])},28383:(e,a,l)=>{"use strict";l.d(a,{B:()=>c});var t=l(95155);l(12115);var i=l(72478),n=l(35068),r=l(51267),s=l(263);let d={firstName:{name:"firstName",label:"First Name"},phoneNumber:{name:"phoneNumber",label:"Phone Number"},lastName:{name:"lastName",label:"Last Name"},dob:{name:"birthDate",label:"Estimated Age"},gender:{name:"gender",label:"Gender"},homeDistrict:{name:"homeDistrict",label:"Home District"},nationality:{name:"nationality",label:"Nationality"},homeTraditionalAuthority:{name:"homeTraditionalAuthority",label:"Home Traditional Authority"},homeVillage:{name:"homeVillage",label:"Home Village"}},o=n.Ik().shape({[d.firstName.name]:n.Yj().required().label(d.firstName.label),[d.lastName.name]:n.Yj().required().label(d.lastName.label),[d.dob.name]:n.Yj().label(d.dob.label),[d.gender.name]:n.Yj().required().label(d.gender.label),[d.homeDistrict.name]:n.Yj().label(d.homeDistrict.label),[d.homeTraditionalAuthority.name]:n.Yj().label(d.homeTraditionalAuthority.label),[d.homeVillage.name]:n.Yj().label(d.homeVillage.label)}),m=(0,r.f6)(d),c=e=>{let{onSubmit:a,init:l,fullForm:n=!0}=e,r={display:"flex","& > :first-of-type":{mr:"5px"}};return(0,t.jsx)(i.PD,{validationSchema:o,initialValues:{...m,...l},onSubmit:a,submitButton:!1,enableReinitialize:!0,children:(0,t.jsxs)(i.jD,{children:[(0,t.jsxs)(i.jD,{sx:{...r,alignItems:"end",py:"1ch"},children:[(0,t.jsx)(i.A8,{sx:{width:"100%",my:0},name:d.firstName.name,id:d.firstName.name,size:"small",label:d.firstName.label}),(0,t.jsx)(i.A8,{sx:{width:"100%",my:0,mr:"5px"},name:d.lastName.name,id:d.lastName.name,size:"small",label:d.lastName.label}),(0,t.jsx)(i.el,{width:"100%",inputSx:{m:0},name:d.gender.name,label:d.gender.label,multiple:!1,size:"small",applyPadding:!1,options:[{label:"Male",id:"M"},{label:"Female",id:"F"}]})]}),n&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(i.jD,{sx:{...r},children:[(0,t.jsx)(i.el,{width:"30%",name:d.gender.name,label:d.gender.label,multiple:!1,size:"small",options:[{label:"Male",id:"Male"},{label:"Female",id:"Female"}]}),(0,t.jsx)(i.A8,{sx:{width:"100%",my:0},name:d.dob.name,id:d.dob.name,size:"small",label:d.dob.label})]}),(0,t.jsxs)(i.jD,{display:"flex",children:[(0,t.jsx)(i.el,{sx:{mr:"0.5ch"},width:"45%",size:"small",name:d.homeDistrict.name,label:d.homeDistrict.label,multiple:!1,options:s.kJ.map(e=>({id:e.district_name,label:e.district_name}))}),(0,t.jsx)(i.el,{width:"100%",size:"small",name:d.homeTraditionalAuthority.name,label:d.homeTraditionalAuthority.label,multiple:!1,options:s.ZD})]}),(0,t.jsx)(i.jD,{children:(0,t.jsx)(i.el,{width:"100%",size:"small",name:d.homeVillage.name,label:d.homeVillage.label,multiple:!1,options:s.rJ})})]}),(0,t.jsx)(i.O6,{sx:{width:"100%",height:"5ch",borderRadius:"10px",mt:"1ch"},type:"submit",onClick:()=>{},title:"search"})]})})}},33555:(e,a,l)=>{Promise.resolve().then(l.bind(l,7196))},41186:(e,a,l)=>{"use strict";l.d(a,{A:()=>c});var t=l(95155),i=l(93584),n=l(87295),r=l(12115),s=l(75855),d=l(72478),o=l(15239),m=l(9877);function c(e,a){return function(l){let[d,o]=(0,r.useState)(!1),{navigateTo:c}=(0,n.cq)();(0,r.useLayoutEffect)(()=>{if(localStorage)if(localStorage.getItem("accessToken")){let e=localStorage.getItem("loginTime");if(e){let a=parseInt(e);if(Math.floor((new Date().getTime()-a)%36e5/6e4)>60){o(!1),c("/"),localStorage.clear();return}}o(!0)}else o(!1),localStorage.clear(),c("/")},[]);let b=(0,s.R)(a,(0,m.O)());return d?b?(0,t.jsx)(e,{...l}):(0,t.jsx)(h,{}):(0,t.jsx)(i.OverlayLoader,{open:!d})}}let h=()=>(0,t.jsx)(d.jD,{sx:{width:"100%",height:"100vh",display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"#fff"},children:(0,t.jsx)(o.default,{src:"/403.jpg",height:500,width:500,alt:"403"})})},51267:(e,a,l)=>{"use strict";l.d(a,{iE:()=>n,Zt:()=>c,iL:()=>m,f6:()=>d,gX:()=>o,ZM:()=>h,k$:()=>b}),l(33115);var t=l(68407),i=l.n(t);let n=e=>{let{title:a,text:l,icon:t,onConfirm:n,confirmButtonText:r,cancelButtonText:s="Cancel"}=e;i().fire({title:a,text:l,icon:t,showCancelButton:!0,confirmButtonColor:"#006401",confirmButtonText:r,cancelButtonText:s}).then(e=>{e.isConfirmed&&n()})};var r=l(263),s=l(26301);let d=e=>Object.keys(e).reduce((a,l)=>(a[e[l].name]="",a),{}),o=(e,a)=>Object.keys(e).map(l=>({concept:l,value:e[l],obsDatetime:a})),m=(e,a,l)=>{let t=Object.keys(e).map(a=>({concept:e[a].name,label:e[a].label})),i=a.map(e=>({concept:e.id,label:e.label}));return[...t,...l.map(e=>({concept:e.value,label:e.label})),...i]},c=async e=>(await s.Fh.initialize(),e.map(e=>({concept:r.W.IMAGE_PART_NAME,value:e.label,obsDateTime:s.Fh.getServerTimeString(),groupMembers:e.formData.obs}))),h=function(e,a,l){return arguments.length>3&&void 0!==arguments[3]&&arguments[3],Array.isArray(e)?e.map(e=>({concept:a,value:e.id,obsDatetime:l})):[]},b=async(e,a,l)=>(await s.Fh.initialize(),Object.entries(a).map(a=>{let[t,i]=a,n=Object.keys(e).find(a=>e[a].name===t);if(!n)return null;let r=e[n].name,d=e[n].coded;return Array.isArray(i)&&i.every(e=>e&&void 0!==e.id)?i.map(e=>({key:r,value:e.id,coded:d})):{concept:r,value:i,coded:d,obsDatetime:l||s.Fh.getServerTimeString()}}).flat().filter(Boolean))},84712:(e,a,l)=>{"use strict";l.d(a,{c:()=>m});var t=l(95155);l(12115);var i=l(72478),n=l(35068),r=l(51267);let s={npid:{name:"npid",label:"NPID"}},d=n.Ik().shape({[s.npid.name]:n.Yj().required().label(s.npid.label)}),o=(0,r.f6)(s),m=e=>{let{onSubmit:a,init:l}=e;return(0,t.jsx)(i.PD,{validationSchema:d,initialValues:{...o,...l},onSubmit:a,submitButton:!1,children:(0,t.jsxs)(i.jD,{children:[(0,t.jsx)(i.A8,{sx:{width:"100%",my:0},name:s.npid.name,id:s.npid.name,size:"small",label:s.npid.label}),(0,t.jsx)("br",{}),(0,t.jsx)("br",{}),(0,t.jsx)(i.O6,{sx:{width:"100%",height:"5ch",borderRadius:"10px"},type:"submit",onClick:()=>{},title:"search"})]})})}},88842:(e,a,l)=>{"use strict";l.d(a,{g:()=>m});var t=l(95155),i=l(12115),n=l(43676),r=l(26466),s=l(94049);function d(e){let{children:a,value:l,index:i,...n}=e;return(0,t.jsx)("div",{role:"tabpanel",hidden:l!==i,id:"simple-tabpanel-".concat(i),"aria-labelledby":"simple-tab-".concat(i),...n,children:l===i&&(0,t.jsx)(s.default,{children:a})})}function o(e){return{id:"simple-tab-".concat(e),"aria-controls":"simple-tabpanel-".concat(e)}}function m(e){let{demographics:a,npid:l}=e,[m,c]=i.useState(0);return(0,t.jsxs)(s.default,{sx:{width:"100%"},children:[(0,t.jsx)(s.default,{children:(0,t.jsxs)(n.A,{value:m,onChange:(e,a)=>{c(a)},"aria-label":"basic tabs example",centered:!0,children:[(0,t.jsx)(r.A,{label:"Demographics",...o(0)}),(0,t.jsx)(r.A,{label:"NPID",...o(1)})]})}),(0,t.jsx)("br",{}),(0,t.jsx)("br",{}),(0,t.jsx)(d,{value:m,index:0,children:a}),(0,t.jsx)(d,{value:m,index:1,children:l})]})}},93584:(e,a,l)=>{"use strict";l.d(a,{OverlayLoader:()=>r});var t=l(95155);l(12115);var i=l(93526),n=l(4474);function r(e){let{open:a}=e;return(0,t.jsx)("div",{children:(0,t.jsx)(i.A,{sx:{color:"#fff",zIndex:e=>e.zIndex.drawer+1},open:a,children:(0,t.jsx)(n.A,{color:"inherit"})})})}}},e=>{e.O(0,[9503,16,9344,8250,2225,3740,8320,2141,7861,2891,1412,4018,5068,7774,2478,8441,1255,7358],()=>e(e.s=33555)),_N_E=e.O()}]);