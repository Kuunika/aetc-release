(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2898],{4925:(e,a,l)=>{"use strict";l.r(a),l.d(a,{default:()=>e$});var n=l(95155),i=l(59487),t=l(23312),s=l(39419),r=l(42281),o=l(12115),m=l(37129),u=l(28892);l(58135);var b=l(49262),d=l(6459),c=l(70482),p=l(83436),h=l(19652);l(27365);let S={cardiacArrest:{name:t.W.CARDIAC_ARREST,label:"Witnessed Cardiac Arrest"},site:{name:t.W.SITE,label:"SITE"},specify:{name:t.W.SPECIFY,label:"Specify"},reversibleCauses:{name:t.W.REVERSIBLE_CAUSES,label:"Reversible Causes"},reasonsCprStopped:{name:t.W.REASON_CPR_STOPPED,label:"Reason CPR Stopped"},otherReason:{name:t.W.OTHER,label:"Other Reason"},dispositionAfterCpr:{name:t.W.DISPOSITION_AFTER_CPR,label:"Disposition After CPR"},spo:{name:t.W.SPO2,label:"SPO2"},oxygen:{name:t.W.OXYGEN_GIVEN,label:"Oxygen"},respiratoryRate:{name:t.W.RESPIRATORY_RATE,label:"Respiratory Rate"},systolic:{name:t.W.SYSTOLIC_BLOOD_PRESSURE,label:"Systolic"},diastolic:{name:t.W.DIASTOLIC_BLOOD_PRESSURE,label:"Diastolic"},pulseRate:{name:t.W.PULSE_RATE,label:"Pulse Rate"},temperature:{name:t.W.TEMPERATURE,label:"Temperature"},motorResponse:{name:t.W.MOTOR_RESPONSE,label:"Motor Response"},eyeOpeningResponse:{name:t.W.EYE_OPENING_RESPONSE,label:"Eye Opening Response"},verbalResponse:{name:t.W.VERBAL_RESPONSE,label:"Verbal Response"},teamLeader:{name:t.W.TEAM_LEADER,label:"Team Leader"},teamMembers:{name:t.W.TEAM_MEMBERS,label:"Team Members"},time:{name:t.W.TIME,label:"Time of Call"},date:{name:t.W.DATE_OF_CPR,label:"Date of Call"},cause:{name:t.W.CAUSE,label:"Likely or known cause of cardiac arrest"},timeStopped:{name:t.W.CPR_TIME_STOPPED,label:"CPR Time Stopped"}};(0,r.f6)(S),m.Ik().shape({[S.cardiacArrest.name]:m.Yj().required().label(S.cardiacArrest.label),[S.site.name]:m.Yj().required().label(S.site.label),[S.specify.name]:m.Yj().when(S.site.name,{is:e=>e===t.W.OTHER,then:e=>e.required().label(S.specify.label)}),records:m.YO().of(m.Ik().shape({rhythm:m.YO().required().label("Rhythm"),shockEnergy:m.Yj().required().label("Shock Energy"),medication:m.Yj().required().label("Medication"),dose:m.Yj().required().label("Dose"),route:m.Yj().required().label("Route"),doseUnit:m.Yj().required().label("Dose Unit"),Interventions:m.YO().required().label("Interventions"),occurrences:m.Yj().required().label("Occurrences"),time:m.Yj().required().label("Time")})),[S.reversibleCauses.name]:m.YO().required().label(S.reversibleCauses.label),[S.reasonsCprStopped.name]:m.Yj().required().label(S.reasonsCprStopped.label),[S.otherReason.name]:m.Yj().when(S.reasonsCprStopped.name,{is:e=>e===t.W.OTHER,then:e=>e.required().label(S.otherReason.label)}).label(S.otherReason.label),[S.dispositionAfterCpr.name]:m.Yj().required().label(S.dispositionAfterCpr.label),[S.spo.name]:m.ai().min(0).max(100).required().label(S.spo.label),[S.oxygen.name]:m.Yj().required().label(S.oxygen.label),[S.respiratoryRate.name]:m.ai().min(0).max(90).required().label(S.respiratoryRate.label),[S.systolic.name]:m.ai().min(0).max(300).required().label(S.systolic.label),[S.diastolic.name]:m.ai().min(0).max(300).required().label(S.diastolic.label),[S.temperature.name]:m.ai().min(20).max(45).required().label(S.temperature.label),[S.pulseRate.name]:m.ai().min(60).max(100).label(S.pulseRate.label),[S.eyeOpeningResponse.name]:m.Yj().required().label(S.eyeOpeningResponse.label),[S.motorResponse.name]:m.Yj().required().label(S.motorResponse.label),[S.verbalResponse.name]:m.Yj().required().label(S.verbalResponse.label),[S.teamLeader.name]:m.Yj().required().label(S.teamLeader.label),[S.teamMembers.name]:m.YO().required().label(S.teamMembers.label),[S.date.name]:m.p6().required().label(S.date.label),[S.time.name]:m.Yj().required().label(S.time.label),[S.cause.name]:m.Yj().required().label(S.cause.label),[S.timeStopped.name]:m.Yj().required().label(S.timeStopped.label)}),t.W.RESUSCITATION,t.W.SSW,t.W.PRIORITY,t.W.OTHER,t.W.PEA,t.W.VF,t.W.VT,t.W.ASYS,t.W.HYPOXIA,t.W.HYPOVOLEMIA,t.W.HYPERKALAEMIA,t.W.HYPOKALAEMIA,t.W.HYPOTHERMIA,t.W.TENSION_PNEUMOTHORAX,t.W.TAMPONADE_CARDIAC,t.W.TOXINS,t.W.THROMBOSIS_PULMONARY,t.W.THROMBOSIS_CORONARY,t.W.HYDROGEN_ION_ACIDOSIS,t.W.ROSC,t.W.TEAM_DECISION_TO_STOP,t.W.DNA_CPR_DOCUMENT_FOUND,t.W.OTHER,t.W.RESUSCITATION_ROOM,t.W.ICU,t.W.HDU_SPECIFY,t.W.GENERAL_WARD_SPECIFY,t.W.MORTUARY,t._Y,t.NO,t.W.IV_ACCESS,t.W.INTUBATION,t.W.POCUS,t.W.ABG,t.W.POSITIONING,t.W.C_SPINE_STABILIZATION,t.W.SUCTIONING,t.W.FOREIGN_BODY_REMOVAL,t.W.INSERTION_OF_GUEDEL,t.W.OXYGEN_GIVEN,t.W.BAG_AND_MASK,t.W.INTERCOSTAL_DRAINAGE,t.W.INTAKE_FLUIDS,t.W.HEMORRHAGE_CONTROL,t.W.BLOOD_SAMPLE,t.W.CATHETER,t.W.TRANSFUSION,t.W.NG_INSERTION,t.W.SUTURING,t.W.KEEP_WARM,t.W.OTHER,t.W.INTRAOSSEOUS,t.W.INTRAVENOUS,t.W.ORAL,t.W.SUPPOSITORY,t.W.INTRAMUSCULAR,t.W.SUBCUTANEOUS,t.W.INFILTRATION,t.W.INTRATHECAL,t.W.DERMAL;var E=l(874);let A={bleedingInfo:{name:t.W.IS_PATIENT_ACTIVELY_BLEEDING,label:"Is the patient actively bleeding",coded:!0},pulseInfo:{name:t.W.IS_THE_PATIENT_HAVE_PULSE,label:"Does the patient have a pulse",coded:!0},pulseRate:{name:t.W.PULSE_RATE_WEAK,label:"Purse Rate",coded:!0},bloodPressureSystolic:{name:t.W.SYSTOLIC_BLOOD_PRESSURE,label:"Blood Pressure Systolic"},bloodPressureDiastolic:{name:t.W.DIASTOLIC_BLOOD_PRESSURE,label:"Blood Pressure Diastolic"},intravenousAccess:{name:t.W.PATIENT_INTRAVENOUS,label:"Does the patient need intravenous access",coded:!0},traumatizedInfo:{name:t.W.IS_PATIENT_TRAUMATIZED,label:"Is the patient injured",coded:!0},abnormalitiesInfo:{name:t.W.IS_THERE_ANY_OTHER_ABNOMALITIES,label:"Is there any other abnormalities?",coded:!0},capillaryInfo:{name:t.W.CAPILLARY_REFILL_TIME,label:"Capillary refill time",coded:!0},pelvisInfo:{name:t.W.IS_PELVIS_STABLE,label:"Is the pelvis stable?",coded:!0},abdnomenDistention:{name:t.W.HEADACHE,label:"Is there abdominal distention?",coded:!0},mucousMembranesInfo:{name:t.W.MUCOUS_MEMBRANES,label:"Mucous membranes",coded:!0},catheterInfo:{name:t.W.SIZE_OF_CATHETER,label:"Size of interaveneous catheter"},femurAndTibiaNormalInfo:{name:t.W.IS_FEMUR_TIBIA_NORMAL,label:"is the femur and tibia normal?",coded:!0},bleedingActionDone:{name:t.W.ACTION_DONE,label:"Action done"},anyOtherAbnormalities:{name:t.W.IS_THERE_ANY_OTHER_ABNOMALITIES,label:"Is There Any Other Abnormalites"},additionalNotes:{name:t.W.ADDITIONAL_NOTES,label:"Additional Notes"},assessPeripheries:{name:t.W.ASSESS_PERIPHERIES,label:"Assess Peripheries"},bloodPressureMeasured:{name:t.W.BLOOD_PRESSURE_MEASURED,label:"Blood Pressure Measured",coded:!0},reasonNotRecorded:{name:t.W.REASON_NOT_RECORDED,label:"Reason BP Is unrecordable"},reasonNotDone:{name:t.W.DESCRIPTION,label:"Reason Not Done",coded:!0},mucousAbnormal:{name:t.W.MUCOUS_ABNORMAL,label:"Mucous Abnormal",coded:!0},bloodPressureNotDoneOther:{name:t.W.SPECIFY,label:"Specify"},siteOfCannulation:{name:t.W.CANNULATION_SITE,label:"Cannulation Site",coded:!0},diagramCannulationSite:{name:t.W.DIAGRAM_CANNULATION_SITE,label:"Cannulation Site",coded:!0},pulse:{name:t.W.PULSE_RATE,label:"Pulse"}};m.Ik({[A.bleedingInfo.name]:m.Yj().label(A.bleedingInfo.label),[A.pulseInfo.name]:m.Yj().label(A.pulseInfo.label),[A.pulseRate.name]:m.Yj().label(A.pulseRate.label),[A.bleedingActionDone.name]:m.Yj().label(A.bleedingActionDone.label),[A.bloodPressureSystolic.name]:m.ai().min(30).max(300).label(A.bloodPressureSystolic.label),[A.bloodPressureDiastolic.name]:m.ai().min(10).max(200).label(A.bloodPressureDiastolic.label),[A.intravenousAccess.name]:m.Yj().label(A.intravenousAccess.label),[A.traumatizedInfo.name]:m.Yj().label(A.traumatizedInfo.label),[A.abnormalitiesInfo.name]:m.Yj().label(A.abnormalitiesInfo.label),[A.capillaryInfo.name]:m.Yj().label(A.capillaryInfo.label),[A.abdnomenDistention.name]:m.Yj().label(A.abdnomenDistention.label),[A.pelvisInfo.name]:m.Yj().label(A.pelvisInfo.label),[A.mucousMembranesInfo.name]:m.Yj().label(A.mucousMembranesInfo.label),[A.catheterInfo.name]:m.YO().label(A.catheterInfo.label),[A.femurAndTibiaNormalInfo.name]:m.Yj().label(A.femurAndTibiaNormalInfo.label),[A.anyOtherAbnormalities.name]:m.Yj().label(A.anyOtherAbnormalities.label),[A.additionalNotes.name]:m.Yj().label(A.additionalNotes.label),[A.assessPeripheries.name]:m.Yj().label(A.assessPeripheries.label),[A.reasonNotDone.name]:m.Yj().label(A.reasonNotDone.label),[A.mucousAbnormal.name]:m.YO().label(A.mucousAbnormal.label),[A.bloodPressureNotDoneOther.name]:m.Yj().label(A.bloodPressureNotDoneOther.label),[A.siteOfCannulation.name]:m.YO().label(A.siteOfCannulation.label),[A.diagramCannulationSite.name]:m.YO().label(A.diagramCannulationSite.label),[A.pulse.name]:m.ai().label(A.pulse.label)}),(0,r.f6)(A),t.W.G14,t.W.G16,t.W.G18,t.W.G20,t.W.G22,t.W.CENTRAL_LINE,t.W.NORMAL,t.W.ABNORMAL,t.W.PALE,t.W.DRY,t.W.CYANOSIS,t.W.JAUNDICE,t.W.WEAK,t.W.STRONG_REGULAR,t.W.IRREGULAR,t.W.LESS_THAN_3_SECONDS,t.W.THREE_SECONDS,t.W.MORE_THAN_THREE_SECONDS,t._Y,t.NO,t.W.PATIENT_UNCOOPERATIVE,t.W.MACHINE_NOT_AVAILABLE,t.W.BATTERIES_NOT_AVAILABLE,t.W.INAPPROPRIATELY_SIZED_CUFF,t.W.NO_POWER_SUPPLY,t.W.OTHER,t.W.LEFT,t.W.RIGHT,t.W.ANTECUBITAL_FOSSA,t.W.HAND,t.W.WRIST,t.W.WRIST,t.W.FOOT,t.W.EXTERNAL_JUGULAR;let I={eyeOpening:{name:t.W.EYE_OPENING_RESPONSE,label:"Eye Opening Response"},verbalResponse:{name:t.W.VERBAL_RESPONSE,label:"Best Verbal Response"},motorResponse:{name:t.W.MOTOR_RESPONSE,label:"Best Motor Response"},reactionToLight:{name:t.W.PUPIL_SIZE_AND_REACTION_TO_LIGHT,label:"Pupil Size and Reaction To Light"},focalNeurology:{name:t.W.FOCAL_NEUROLOGY,label:"Focal Neurology"},postureInfo:{name:t.W.POSTURE,label:"Posture"},bloodGlocose:{name:t.W.BLOOD_GLUCOSE,label:"Patientâ€™s Random Blood Glucose"},seizureInfo:{name:t.W.ACTIVE_SEIZURES,label:"Is the patient having Seizures",coded:!0}};m.Ik({[I.eyeOpening.name]:m.Yj().required().label(I.eyeOpening.label),[I.verbalResponse.name]:m.Yj().required().label(I.verbalResponse.label),[I.motorResponse.name]:m.Yj().required().label(I.motorResponse.label),[I.reactionToLight.name]:m.Yj().required().label(I.reactionToLight.label),[I.focalNeurology.name]:m.Yj().required().label(I.focalNeurology.label),[I.postureInfo.name]:m.Yj().required().label(I.postureInfo.label),[I.bloodGlocose.name]:m.Yj().label(I.bloodGlocose.label),[I.seizureInfo.name]:m.Yj().required().label(I.seizureInfo.label)}),(0,r.f6)(I),t._Y,t.NO;var O=l(9890);let T={temperatureInfo:{name:t.W.TEMPERATURE,label:"Temperature"},skinRashInfo:{name:t.W.SKIN_RASH,label:"Does the patient have a rash?"},additionalNotes:{name:t.W.ADDITIONAL_NOTES,label:"Additional Notes"},abnormalities:{name:t.W.ABNORMALITIES,label:"Other Abnormalities"},injuries:{name:t.W.INJURY,label:"Other Injuries"}};m.Ik({[T.temperatureInfo.name]:m.ai().required().min(25).max(45).label(T.temperatureInfo.label),[T.additionalNotes.name]:m.Yj().label(T.additionalNotes.label)}),(0,r.f6)(T);var N=l(68157),W=l(40289),R=l(8363),g=l(82545);let x={complaint:"",duration:0,duration_unit:"",otherComplaintSpecify:""},v=e=>{let{name:a}=e;return(0,n.jsx)(W.D0,{name:a,render:e=>{let{form:l}=e,n=(0,W.O6)(l.errors,a);return(0,W.O6)(l.touched,a)&&n?n:null}})},_={complaints:{name:t.W.PRESENTING_COMPLAINTS,label:"Presenting Complaints"},history:{name:t.W.PRESENTING_HISTORY,label:"History of Presenting Complaints"}},y=m.Ik().shape({complaints:m.YO().of(m.Ik().shape({complaint:m.Yj().required("Complaint is required"),duration:m.ai().min(1,"Duration must be greater than 0").required("Duration is required"),duration_unit:m.Yj().required("Duration unit is required"),otherComplaintSpecify:m.Yj().nullable().when("complaint",{is:t.W.OTHER,then:e=>e.required("Please specify the other complaint")})})).min(1,"At least one complaint is required"),[_.history.name]:m.Yj().label(_.history.label)}),j={complaints:[x],[_.history.name]:""},f=e=>{let{onSubmit:a}=e,{ServerTime:l}=(0,b.useServerTime)(),{presentingComplaints:s}=(0,N.l)(),[r,m]=(0,o.useState)({}),u={complaints_name:e=>({name:"complaints[".concat(e,"].complaint"),label:"Presenting Complaint"}),complaints_duration:e=>({name:"complaints[".concat(e,"].duration"),label:"Duration"}),complaints_duration_units:e=>({name:"complaints[".concat(e,"].duration_unit"),label:"Unit"}),other_complaint_specify:e=>({name:"complaints[".concat(e,"].otherComplaintSpecify"),label:"Specify Other Complaint"})};return(0,n.jsx)(i.PD,{validationSchema:y,initialValues:j,onSubmit:e=>{let n=l.getServerTimeString(),i=e.complaints.map(e=>{let a=e.complaint===t.W.OTHER;return{concept:e.complaint,value:a?e.otherComplaintSpecify:e.complaint,obsDatetime:n,groupMembers:[{concept:t.W.DURATION,value:"".concat(e.duration," ").concat(e.duration_unit),obsDatetime:n}]}});a([{concept:t.W.PRESENTING_COMPLAINTS,value:t.W.PRESENTING_COMPLAINTS,obsDatetime:n,groupMembers:i},{concept:_.history.name,value:e[_.history.name],obsDatetime:n}])},submitButtonText:"next",enableReinitialize:!0,children:e=>{let{values:a,setFieldValue:l}=e;return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(i.fP,{getValues:m}),(0,n.jsx)(i.GE,{direction:"row",children:(0,n.jsxs)(i.jD,{sx:{bgcolor:"white",padding:"2ch",mb:"2ch",width:"100%"},children:[(0,n.jsx)(i.kI,{title:"Presenting complaints",children:(0,n.jsx)(W.ED,{name:"complaints",children:e=>{let{}=e;return(0,n.jsx)(g.A,{items:a.complaints,setItems:e=>l("complaints",e),newItem:x,renderFields:(e,a)=>(0,n.jsx)(n.Fragment,{children:(0,n.jsxs)("div",{style:{display:"flex-column",width:"100%"},children:[(0,n.jsx)(i.el,{name:u.complaints_name(a).name,label:u.complaints_name(a).label,options:s,multiple:!1,sx:{width:"100%"}}),(0,n.jsx)(i.Th,{color:"red",variant:"subtitle2",children:(0,n.jsx)(v,{name:"complaints[".concat(a,"].complaint")})}),(0,n.jsx)(i.pj,{id:u.complaints_duration(a).name,name:u.complaints_duration(a).name,unitName:u.complaints_duration_units(a).name,label:u.complaints_duration(a).label,sx:{width:"50%"},unitOptions:t.bH,placeholder:"e.g., 3",inputIcon:(0,n.jsx)(R.YmN,{})}),(0,n.jsx)(i.Th,{color:"red",variant:"subtitle2",children:(0,n.jsx)(v,{name:"complaints[".concat(a,"].duration")})}),(0,n.jsx)(i.Th,{color:"red",variant:"subtitle2",children:(0,n.jsx)(v,{name:"complaints[".concat(a,"].duration_unit")})}),e.complaint===t.W.OTHER&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(i.A8,{id:u.other_complaint_specify(a).name,label:u.other_complaint_specify(a).label,name:u.other_complaint_specify(a).name,placeholder:"Specify the complaint",sx:{width:"100%",mt:1}}),(0,n.jsx)(i.Th,{color:"red",variant:"subtitle2",children:(0,n.jsx)(v,{name:"complaints[".concat(a,"].otherComplaintSpecify")})})]})]})})})}})}),(0,n.jsx)("br",{}),(0,n.jsx)(i.A8,{multiline:!0,rows:5,name:_.history.name,label:_.history.label,id:_.history.name,sx:{width:"100%"}}),(0,n.jsx)(i.Th,{color:"red",variant:"subtitle2",children:(0,n.jsx)(v,{name:_.history.name})})]})})]})}})};var C=l(86657);let P={hivStatus:{name:t.W.HIV,label:"HIV status"},arvStatus:{name:t.W.ARV,label:"on antiretrovirals (ARVs)"},drugList:{name:t.W.DRUG_GIVEN,label:"ARVs given"},otherArvMedication:{name:t.W.OTHER_MEDICATION,label:"Other Medication"},sinceWhen:{name:t.W.DATE,label:"Since When"},clinic:{name:t.W.HEALTH_CENTER,label:"Clinic"},other:{name:t.W.OTHER,label:"Other"}},L=(0,r.f6)(P),D=m.Ik().shape({}),Y=[{value:t.W.POSITIVE,label:"Positive"},{value:t.W.NEGATIVE,label:"Negative"},{value:t.W.UNKNOWN,label:"unknown"}],H=[{value:t.W.YES,label:"YES"},{value:t.W.NO,label:"NO"}],M=e=>{let{onSubmit:a}=e,{data:l}=(0,c.WL)(),[s,m]=(0,o.useState)({}),{data:u}=(0,C.H)(),{ServerTime:d}=(0,b.useServerTime)();return(0,n.jsxs)(i.PD,{validationSchema:D,initialValues:L,onSubmit:e=>{let l={...e},n=d.getServerTimeString(),i=(0,r.ZM)(l[P.drugList.name],P.drugList.name,n);delete l[P.drugList.name];let t=[{concept:P.drugList.name,value:P.drugList.name,groupMembers:i,obsDatetime:n}];a([...(0,r.gX)(l,n),...t])},submitButtonText:"next",children:[(0,n.jsx)(i.fP,{getValues:m}),(0,n.jsx)(i.b1,{name:P.hivStatus.name,label:P.hivStatus.label,options:Y,row:!0}),s[P.hivStatus.name]==t.W.POSITIVE&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(i.b1,{options:H,name:P.arvStatus.name,label:P.arvStatus.label,row:!0}),(0,n.jsx)("br",{}),s[P.arvStatus.name]==t.W.YES&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(i.el,{name:P.drugList.name,label:P.drugList.label,options:u?u.map(e=>({id:e,label:e})):[]}),(0,n.jsx)("br",{}),(0,n.jsx)(i.A8,{multiline:!0,rows:4,name:P.otherArvMedication.name,label:P.otherArvMedication.label,id:P.otherArvMedication.name,sx:{width:"100%"}}),(0,n.jsx)("br",{}),(0,n.jsx)(i.bZ,{name:P.sinceWhen.name,label:P.sinceWhen.label,width:"100%"}),(0,n.jsx)("br",{}),(0,n.jsx)(i.el,{label:"Referral Medical Facility",name:P.clinic.name,multiple:!1,options:l?l.map(e=>({id:e.facility_name,label:e.facility_name})):[]})]})]}),(0,n.jsx)(i.A8,{multiline:!0,rows:5,name:P.other.name,label:P.other.label,id:P.other.name,sx:{width:"100%"}})]})},w={surgicalHistory:{name:t.W.SURGICAL_HISTORY,label:"Surgical History"}},U=(0,r.f6)(w),G=m.Ik().shape({}),B=e=>{let{onSubmit:a}=e,{ServerTime:l}=(0,b.useServerTime)();return(0,n.jsx)(i.PD,{validationSchema:G,initialValues:U,onSubmit:e=>{let n=l.getServerTimeString();a((0,r.gX)(e,n))},submitButtonText:"next",children:(0,n.jsx)(i.A8,{multiline:!0,rows:5,name:w.surgicalHistory.name,label:w.surgicalHistory.label,id:w.surgicalHistory.name,sx:{width:"100%"}})})};var F=l(54692),k=l(26997);let V={allergy:{name:t.W.ALLERGY,label:"Allergy"},allergyDetails:{name:t.W.ALLERGY_DETAILS,label:"Other"}},q=(0,r.f6)(V),z=m.Ik().shape({[V.allergyDetails.name]:m.Yj().when(V.allergy.name,{is:e=>e&&e.some(e=>"Other Medication Allergen"===e.label||"Other Medical Substance Allergen"===e.label||"Other Substance Allergen"===e.label||"Other Food Allergen"===e.label||e.id===t.W.OTHER),then:e=>e.required("Please specify the other allergy details"),otherwise:e=>e.notRequired()})}),K=e=>{let{onSubmit:a}=e,{allergyOptions:l}=(0,k.Z)(),{ServerTime:s}=(0,b.useServerTime)(),[m,u]=(0,o.useState)({}),d=(m[V.allergy.name]||[]).some(e=>"Other Medication Allergen"===e.label||"Other Medical Substance Allergen"===e.label||"Other Substance Allergen"===e.label||"Other Food Allergen"===e.label||e.id===t.W.OTHER);return(0,n.jsxs)(i.PD,{validationSchema:z,initialValues:q,onSubmit:e=>{let l={...e},n=s.getServerTimeString(),i=(l[V.allergy.name]||[]).map(e=>e.id===t.W.OTHER||"Other Medication Allergen"===e.label||"Other Medical Substance Allergen"===e.label||"Other Substance Allergen"===e.label||"Other Food Allergen"===e.label?{concept:V.allergy.name,value:l[V.allergyDetails.name]||"Other allergy specified",obsDatetime:n}:{concept:V.allergy.name,value:e.label,obsDatetime:n}),o=[{concept:V.allergy.name,value:"Allergic reaction",groupMembers:i,obsDatetime:n}],{[V.allergy.name]:m,...u}=l;a([...(0,r.gX)(u,n),...o])},submitButtonText:"next",children:[(0,n.jsx)(i.fP,{getValues:u}),(0,n.jsx)(F.s,{options:l,multiple:!0,name:V.allergy.name,label:V.allergy.label}),(0,n.jsx)("br",{}),d&&(0,n.jsx)(i.A8,{multiline:!0,rows:4,name:V.allergyDetails.name,label:V.allergyDetails.label,id:V.allergyDetails.name,sx:{width:"100%"}})]})},X={intoxication:{name:t.W.INTOXICATION,label:"Intoxication"},intoxicationDescription:{name:t.W.INTOXICATION_DESCRIPTION,label:"Intoxication description"}},Z=(0,r.f6)(X),J=m.Ik().shape({}),Q=[{id:"ethanol",label:"Ethanol (Beer, Wine, Spirits)"},{id:"methanol",label:"Methanol"},{id:"isopropanol",label:"Isopropanol (Rubbing alcohol)"},{id:"cannabis",label:"Cannabis (Marijuana, THC products)"},{id:"cocaine",label:"Cocaine"},{id:"heroin",label:"Heroin"},{id:"methamphetamine",label:"Methamphetamine"},{id:"mdma",label:"MDMA (Ecstasy)"},{id:"lsd",label:"LSD (Acid)"},{id:"pcp",label:"PCP (Phencyclidine)"},{id:"ketamine",label:"Ketamine"},{id:"opioids",label:"Opioids (Morphine, Codeine, Oxycodone, Fentanyl, Tramadol)"},{id:"benzodiazepines",label:"Benzodiazepines (Diazepam, Lorazepam, Alprazolam)"},{id:"barbiturates",label:"Barbiturates (Phenobarbital, Secobarbital)"},{id:"antidepressants",label:"Antidepressants (Amitriptyline, Fluoxetine, Sertraline)"},{id:"antipsychotics",label:"Antipsychotics (Haloperidol, Olanzepine)"},{id:"acetaminophen",label:"Acetaminophen (Paracetamol)"},{id:"nsaids",label:"NSAIDs (Ibuprofen, Diclofenac)"},{id:"carbon_monoxide",label:"Carbon Monoxide"},{id:"cyanide",label:"Cyanide"},{id:"pesticides",label:"Pesticides (Organophosphates, Carbamates)"},{id:"heavy_metals",label:"Heavy Metals (Lead, Mercury, Arsenic)"},{id:"antifreeze",label:"Antifreeze (Ethylene glycol)"},{id:"paint_thinners",label:"Paint thinners, Glue (Toluene, Xylene)"},{id:"mushrooms",label:"Mushrooms (Amanita, Psilocybin)"},{id:"aflatoxins",label:"Aflatoxins (Contaminated grains, nuts)"},{id:"strychnine",label:"Strychnine"},{id:"poisonous_plants",label:"Poisonous berries or plants"},{id:"synthetic_cannabinoids",label:"Synthetic Cannabinoids (Spice, K2)"},{id:"bath_salts",label:"Bath salts (Synthetic cathinones)"},{id:"inhalants",label:"Inhalants (Nitrous oxide, Butane, Freon)"},{id:t.W.OTHER,label:"Other"}],$=e=>{var a;let{onSubmit:l}=e,{ServerTime:s}=(0,b.useServerTime)(),[r,m]=(0,o.useState)({});return(0,n.jsxs)(i.PD,{validationSchema:J,initialValues:Z,onSubmit:e=>{let a={...e},n=s.getServerTimeString(),i=(a[X.intoxication.name]||[]).map(e=>e.id===t.W.OTHER?{concept:t.W.INTOXICATION,value:a[X.intoxicationDescription.name]||"Other intoxication specified",obsDatetime:n}:{concept:t.W.INTOXICATION,value:e.label,obsDatetime:n});l([{concept:X.intoxication.name,value:"Intoxication",groupMembers:i,obsDatetime:n}])},submitButtonText:"next",children:[(0,n.jsx)(i.fP,{getValues:m}),(0,n.jsx)(i.el,{options:Q,name:X.intoxication.name,label:X.intoxication.label}),r[X.intoxication.name]&&(null==(a=r[X.intoxication.name])?void 0:a.find(e=>e.id==t.W.OTHER))&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("br",{}),(0,n.jsx)(i.A8,{multiline:!0,rows:5,sx:{width:"100%"},name:X.intoxicationDescription.name,label:X.intoxicationDescription.label,id:X.intoxicationDescription.name})]})]})},ee={socialHistory:{name:t.W.SOCIAL_HISTORY,label:"Social History"}},ea=(0,r.f6)(ee),el=m.Ik().shape({}),en=e=>{let{onSubmit:a}=e,{ServerTime:l}=(0,b.useServerTime)();return(0,n.jsx)(i.PD,{validationSchema:el,initialValues:ea,onSubmit:e=>{let n=l.getServerTimeString();a((0,r.gX)(e,n))},submitButtonText:"next",children:(0,n.jsx)(i.A8,{multiline:!0,rows:5,sx:{width:"100%"},id:ee.socialHistory.name,label:ee.socialHistory.label,name:ee.socialHistory.name})})},ei={familyHistory:{name:t.W.FAMILY_HISTORY,label:"Family History"}},et=(0,r.f6)(ei),es=m.Ik().shape({}),er=e=>{let{onSubmit:a}=e,{ServerTime:l}=(0,b.useServerTime)();return(0,n.jsx)(i.PD,{validationSchema:es,initialValues:et,onSubmit:e=>{let n=l.getServerTimeString();a((0,r.gX)(e,n))},submitButtonText:"next",children:(0,n.jsx)(i.A8,{multiline:!0,rows:5,sx:{width:"100%"},id:ei.familyHistory.name,label:ei.familyHistory.label,name:ei.familyHistory.name})})},eo={drug:{name:t.W.MEDICATION,label:"Drug"},other:{name:t.W.OTHER,label:"Other Medications"}},em=m.Ik().shape({[eo.drug.name]:m.YO().required().label(eo.drug.label),[eo.other.name]:m.Yj().label(eo.other.label)}),eu=(0,r.f6)(eo),eb=e=>{let{onSubmit:a}=e,[l,s]=(0,o.useState)(!1),{medicationOptions:r}=(0,h.A)(),{ServerTime:m}=(0,b.useServerTime)();return(0,n.jsxs)(i.PD,{validationSchema:em,initialValues:eu,onSubmit:e=>{let l={...e},n=m.getServerTimeString(),i=(l[eo.drug.name]||[]).map(e=>e.id===t.W.OTHER?{concept:t.W.MEDICATION,value:l[eo.other.name]||"Other drug specified",obsDatetime:n}:{concept:t.W.MEDICATION,value:e.label,obsDatetime:n});a([{concept:eo.drug.name,value:"Medication",groupMembers:i,obsDatetime:n}])},submitButtonText:"next",children:[(0,n.jsx)(i.el,{name:eo.drug.name,options:[...r,{id:t.W.OTHER,label:"Other"}],getValue:e=>{s(!!e.find(e=>e.id==t.W.OTHER))},multiple:!0,label:eo.drug.label}),(0,n.jsx)("br",{}),l&&(0,n.jsx)(i.A8,{multiline:!0,rows:5,name:eo.other.name,label:eo.other.label,id:eo.other.name,sx:{width:"100%"}})]})};var ed=l(29401),ec=l(42474),ep=l(90957),eh=l(21998),eS=l(52269),eE=l(9670);let eA={general:{name:t.W.GENERAL,label:"General Impression"},systolic:{name:t.W.SYSTOLIC_BLOOD_PRESSURE,label:"Systolic"},diastolic:{name:t.W.DIASTOLIC_BLOOD_PRESSURE,label:"Diastolic"},pulseRate:{name:t.W.PULSE_RATE,label:"Pulse Rate"},respiratoryRate:{name:t.W.RESPIRATORY_RATE,label:"Respiratory Rate"},temperature:{name:t.W.TEMPERATURE,label:"Temperature"},pupilSymmetrical:{name:t.W.PUPIL_SYMMETRICAL,label:"Pupils symmetrical "},conjunctiva:{name:t.W.CONJUNCTIVA,label:"Conjunctiva "},oralKs:{name:t.W.ORAL_KS,label:"Oral KS"},oralThrush:{name:t.W.ORAL_THRUSH,label:"Oral thrush"},jvpRaised:{name:t.W.JVP_RAISED,label:"JVP raised"},lymphadenopathy:{name:t.W.LYMPHADENOPATHY,label:"Lymphadenopathy"},trachea:{name:t.W.TRACHEA_DEVIATED,label:"Trachea"},symmetricalExpansion:{name:t.W.SYMMETRICAL_EXPANSION,label:"Symmetrical expansion"},description:{name:t.W.DESCRIPTION,label:"Description"},lungCondition:{name:t.W.CONDITION,label:"Lung Condition"},facialSensation:{name:t.W.SENSATION,label:"Facial Movements / Sensation:"},apexBeat:{name:t.W.APEX_BEAT,label:"Apex Beat"},position:{name:t.W.POSITIONING,label:"Position"},thrillHeaves:{name:t.W.THRILL_HEAVES,label:"Thrill/Heaves"},specify:{name:t.W.SPECIFY,label:"Specify"},auscultations:{name:t.W.AUSCULTATION,label:"Auscultations"},other:{name:t.W.OTHER,label:"Other"},oedema:{name:t.W.OEDEMA,label:"Oedema"},rash:{name:t.W.RASH,label:"Rash"},herpes:{name:t.W.HERPES_ZOSTER_SCAR,label:"Herpes zoster scar"},neckStiffness:{name:t.W.NECK_STIFFNESS,label:"Neck Stiffness"},motorResponse:{name:t.W.MOTOR_RESPONSE,label:"Motor Response"},verbalResponse:{name:t.W.VERBAL_RESPONSE,label:"Verbal Response"},eyeOpeningResponse:{name:t.W.EYE_OPENING_RESPONSE,label:"Eye Opening Response"},pupil:{name:t.W.PUPIL,label:"Pupil:"},visualFieldAcuity:{name:t.W.VISUAL_FIELD_ACUITY,label:" Visual Field/Acuity:"},eyeMovementsNystagmus:{name:t.W.EYE_MOVEMENTS_NYSTAGMUS,label:"Eye Movements/Nystagmus:"},eyeMovementsSensation:{name:t.W.EYE_MOVEMENTS_SENSATION,label:"Eye Movements/Sensation:"},hearing:{name:t.W.HEARING,label:"Hearing:"},tongueMovementsTastes:{name:t.W.TONGUE_MOVEMENTS_TASTES,label:"Tongue Movement/Tastes:"},coughGagReflex:{name:t.W.COUGH_GAG_REFLEX,label:"Cough/Gag Reflex:"},power:{name:t.W.POWER,label:"Power:"},tone:{name:t.W.TONE,label:"Tone:"},reflexes:{name:t.W.REFLEXES,label:"Reflexes:"},plantars:{name:t.W.PLANTARS,label:"Plantars:"},sensation:{name:t.W.SENSATION,label:"Sensation:"},coordination:{name:t.W.COORDINATION,label:"Coordination:"},gait:{name:t.W.GAIT,label:"Gait:"},auscultationLung:{name:t.W.AUSCULTATION_LUNG,label:"Auscultation"}},eI=m.Ik().shape({[eA.general.name]:m.Yj().label(eA.general.label).required(),[eA.systolic.name]:m.ai().min(0).max(300).label(eA.systolic.label).required(),[eA.diastolic.name]:m.ai().min(0).max(300).label(eA.diastolic.label).required(),[eA.pulseRate.name]:m.Yj().label(eA.pulseRate.label).required(),[eA.respiratoryRate.name]:m.ai().min(0).max(90).label(eA.respiratoryRate.label).required(),[eA.temperature.name]:m.ai().min(20).max(45).label(eA.temperature.label).required(),[eA.pupilSymmetrical.name]:m.Yj().label(eA.pupilSymmetrical.label).required(),[eA.conjunctiva.name]:m.Yj().label(eA.conjunctiva.label).required(),[eA.oralKs.name]:m.Yj().label(eA.oralKs.label).required(),[eA.oralThrush.name]:m.Yj().label(eA.oralThrush.label).required(),[eA.jvpRaised.name]:m.ai().min(0).label(eA.jvpRaised.label).required(),[eA.trachea.name]:m.Yj().label(eA.trachea.label).required(),[eA.other.name]:m.Yj().label(eA.other.label).required(),[eA.symmetricalExpansion.name]:m.Yj().label(eA.symmetricalExpansion.label).required(),[eA.description.name]:m.Yj().label(eA.description.label).when(eA.symmetricalExpansion.name,{is:t.W.NO,then:e=>e.required("Please provide a description"),otherwise:e=>e.notRequired()}),[eA.lungCondition.name]:m.Yj().label(eA.lungCondition.label).required(),[eA.facialSensation.name]:m.Yj().label(eA.facialSensation.label),[eA.apexBeat.name]:m.Yj().label(eA.apexBeat.label).required(),[eA.oedema.name]:m.Yj().label(eA.oedema.label).required(),[eA.rash.name]:m.Yj().label(eA.rash.label).required(),[eA.herpes.name]:m.Yj().label(eA.herpes.label).required(),[eA.neckStiffness.name]:m.Yj().label(eA.neckStiffness.label).required(),[eA.motorResponse.name]:m.Yj().label(eA.motorResponse.label),[eA.verbalResponse.name]:m.Yj().label(eA.verbalResponse.label),[eA.eyeOpeningResponse.name]:m.Yj().label(eA.eyeOpeningResponse.label),[eA.visualFieldAcuity.name]:m.Yj().label(eA.visualFieldAcuity.label),[eA.eyeMovementsNystagmus.name]:m.Yj().label(eA.eyeMovementsNystagmus.label),[eA.eyeMovementsSensation.name]:m.Yj().label(eA.eyeMovementsSensation.label),[eA.hearing.name]:m.Yj().label(eA.hearing.label),[eA.tongueMovementsTastes.name]:m.Yj().label(eA.tongueMovementsTastes.label),[eA.pupil.name]:m.Yj().label(eA.pupil.label),[eA.coughGagReflex.name]:m.Yj().label(eA.coughGagReflex.label),[eA.power.name]:m.Yj().label(eA.power.label),[eA.tone.name]:m.Yj().label(eA.tone.label),[eA.reflexes.name]:m.Yj().label(eA.reflexes.label),[eA.plantars.name]:m.Yj().label(eA.plantars.label),[eA.sensation.name]:m.Yj().label(eA.sensation.label),[eA.coordination.name]:m.Yj().label(eA.coordination.label),[eA.gait.name]:m.Yj().label(eA.gait.label),[eA.auscultations.name]:m.Yj().label(eA.auscultations.label),[eA.auscultationLung.name]:m.Yj().label(eA.auscultationLung.label)}),eO=(0,r.f6)(eA),eT=[{value:t.W.YES,label:"YES"},{value:t.W.NO,label:"NO"}],eN=[{value:t.W.PALE,label:"Pale"},{value:t.W.PINK,label:"Pink"}],eW=[{value:t.W.TRACHEA_DEVIATED,label:"Deviated"},{value:t.W.IS_TRACHEA_CENTRAL,label:"Central"}],eR=[{value:t.W.NORMAL,label:"Normal"},{value:t.W.ABNORMAL,label:"Abnormal"}],eg=[{value:t.W.DISPLACED,label:"Displaced"},{value:t.W.NOT_DISPLACED,label:"Not Displaced"}],ex=[{value:t.W.ABSENT,label:"Absent"},{value:t.W.PRESENT,label:"Present"}],ev=[{label:"Spontaneous",value:"Spontaneous",weight:4},{label:"To Speech",value:"To Speech",weight:3},{label:"To Pain",value:"To Pain",weight:2},{label:"No Response",value:"No Response",weight:1}],e_=[{label:"Obeying Commands",value:"Obeying Commands",weight:6},{label:"Localising",value:"Localising",weight:5},{label:"Withdraw",value:"Withdraw",weight:4},{label:"Normal Flexion",value:"Normal Flexion",weight:3},{label:"Extension",value:"Extension",weight:2},{label:"None",value:"None",weight:1}],ey=[{label:"Oriented",value:"Oriented",weight:5},{label:"Confused",value:"Confused",weight:4},{label:"Inappropriate Words",value:"Inappropriate Words",weight:3},{label:"Incomprehensible sounds",value:"Incomprehensible sounds",weight:2},{label:"None",value:"None",weight:1}],ej=e=>{let{onSubmit:a}=e,[l,s]=(0,o.useState)({}),{gender:m}=(0,c.gd)(),[d,p]=(0,o.useState)([]),[h,S]=(0,o.useState)([]),{ServerTime:A}=(0,b.useServerTime)(),[I,O]=(0,o.useState)([]),T=(e,a)=>{let l=a.find(a=>a.value==e);return l?l.weight:0},N=T(l[eA.motorResponse.name],e_),W=T(l[eA.verbalResponse.name],ey),R=T(l[eA.eyeOpeningResponse.name],ev),g=async e=>{let l={...e},n=A.getServerTimeString(),i=[{concept:t.W.SITE,values:"Lung Anterior",groupMembers:await (0,r.Zt)(d),obsDatetime:n},{concept:t.W.SITE,values:"Lung Posterior",groupMembers:await (0,r.Zt)(I),obsDatetime:n},{concept:t.W.SITE,values:"Abdomen",groupMembers:await (0,r.Zt)(h),obsDatetime:n}];a([...(0,r.gX)(l,n),...i])};return(0,n.jsxs)(i.PD,{initialValues:eO,validationSchema:eI,onSubmit:g,submitButtonText:"next",children:[(0,n.jsx)(i.fP,{getValues:s}),(0,n.jsx)(i.kI,{title:"General",children:(0,n.jsx)(i.A8,{multiline:!0,rows:5,name:eA.general.name,label:eA.general.label,id:eA.general.name,sx:{width:"100%"}})}),(0,n.jsxs)(i.kI,{title:"Vital Signs",children:[(0,n.jsxs)(i.m2,{children:[(0,n.jsx)(i.A8,{name:eA.systolic.name,label:eA.systolic.label,id:eA.systolic.name,unitOfMeasure:"mmHg"}),(0,n.jsx)(i.A8,{name:eA.diastolic.name,label:eA.diastolic.label,id:eA.diastolic.name,unitOfMeasure:"mmHg"})]}),(0,n.jsxs)(i.m2,{children:[(0,n.jsx)(i.A8,{name:eA.pulseRate.name,label:eA.pulseRate.label,id:eA.pulseRate.name,unitOfMeasure:"bpm"}),(0,n.jsx)(i.A8,{name:eA.respiratoryRate.name,label:eA.respiratoryRate.label,id:eA.respiratoryRate.name,unitOfMeasure:"bs/m"})]}),(0,n.jsx)(i.A8,{name:eA.temperature.name,label:eA.temperature.label,id:eA.temperature.name,sx:{width:"100%"},unitOfMeasure:"\xb0C"})]}),(0,n.jsxs)(i.kI,{title:"Head and Neck",children:[(0,n.jsxs)(i.m2,{children:[(0,n.jsx)(i.b1,{name:eA.pupilSymmetrical.name,label:eA.pupilSymmetrical.label,options:eT,row:!0}),(0,n.jsx)(i.b1,{name:eA.conjunctiva.name,label:eA.conjunctiva.label,options:eN,row:!0}),(0,n.jsx)(i.b1,{name:eA.oralKs.name,label:eA.oralKs.label,options:eT,row:!0})]}),(0,n.jsxs)(i.m2,{children:[(0,n.jsx)(i.b1,{name:eA.oralThrush.name,label:eA.oralThrush.label,options:eT,row:!0}),(0,n.jsx)(i.A8,{name:eA.jvpRaised.name,label:eA.jvpRaised.label,id:eA.jvpRaised.name,unitOfMeasure:"cm",sx:{width:"100%"}}),(0,n.jsx)(i.b1,{name:eA.lymphadenopathy.name,label:eA.lymphadenopathy.label,options:eT,row:!0})]}),(0,n.jsx)(i.b1,{name:eA.trachea.name,label:eA.trachea.label,options:eW,row:!0}),(0,n.jsx)(i.A8,{multiline:!0,rows:5,sx:{width:"100%"},name:eA.other.name,label:eA.other.label,id:eA.other.label})]}),(0,n.jsxs)(i.kI,{title:"Chest",children:[(0,n.jsx)(i.b1,{name:eA.symmetricalExpansion.name,label:eA.symmetricalExpansion.label,row:!0,options:eT}),l[eA.symmetricalExpansion.name]===t.W.NO&&(0,n.jsx)(i.A8,{rows:4,multiline:!0,sx:{width:"100%",marginTop:2},name:eA.description.name,label:eA.description.label,id:eA.description.name})]}),(0,n.jsxs)(i.kI,{title:"Heart",children:[(0,n.jsx)(i.b1,{name:eA.apexBeat.name,label:eA.apexBeat.label,row:!0,options:eg}),l[eA.apexBeat.name]==t.W.DISPLACED&&(0,n.jsx)(i.A8,{rows:5,multiline:!0,sx:{width:"100%"},name:eA.position.name,label:eA.position.label,id:eA.position.name}),(0,n.jsx)(i.b1,{name:eA.thrillHeaves.name,label:eA.thrillHeaves.label,row:!0,options:ex}),l[eA.thrillHeaves.name]==t.W.PRESENT&&(0,n.jsx)(i.A8,{rows:5,multiline:!0,sx:{width:"100%"},name:eA.specify.name,label:eA.specify.label,id:eA.specify.name}),(0,n.jsx)(i.A8,{rows:5,multiline:!0,sx:{width:"100%"},name:eA.auscultations.name,id:eA.auscultations.name,label:eA.auscultations.label})]}),(0,n.jsxs)(i.kI,{title:"Lungs",children:[(0,n.jsx)(i.b1,{name:eA.lungCondition.name,label:eA.lungCondition.label,options:eR,row:!0}),l[eA.lungCondition.name]===t.W.ABNORMAL&&(0,n.jsxs)(n.Fragment,{children:["Male"==m&&(0,n.jsxs)(i.m2,{children:[(0,n.jsx)(eh.i,{onValueChange:p,form:"medicalInpatient"}),(0,n.jsx)(ec.Y,{onValueChange:O,form:"medicalInpatient"})]}),"Female"==m&&(0,n.jsxs)(eS.default,{children:[(0,n.jsx)(ep.d,{onValueChange:p,form:"medicalInpatient"}),(0,n.jsx)(ed.b,{onValueChange:O,form:"medicalInpatient"})]}),(0,n.jsx)(i.A8,{multiline:!0,rows:5,name:eA.auscultationLung.name,label:eA.auscultationLung.label,id:eA.auscultationLung.name,sx:{width:"100%"}})]})]}),(0,n.jsxs)(i.kI,{title:"Abdomen",children:["Male"==m&&(0,n.jsx)(u.GJ,{onValueChange:S,formNameSection:"medicalInPatient"}),"Female"==m&&(0,n.jsx)(E.W,{onValueChange:S,formNameSection:"medicalInPatient"})]}),(0,n.jsx)(i.kI,{title:"Extremities",children:(0,n.jsx)(i.b1,{name:eA.oedema.name,label:eA.oedema.label,options:eT,row:!0})}),(0,n.jsx)(i.kI,{title:"Skin",children:(0,n.jsxs)(i.m2,{children:[(0,n.jsx)(i.b1,{name:eA.rash.name,label:eA.rash.label,options:eT,row:!0}),(0,n.jsx)(i.b1,{name:eA.herpes.name,label:eA.herpes.label,options:eT,row:!0})]})}),(0,n.jsxs)(i.kI,{title:"Neurological",children:[(0,n.jsx)(i.b1,{name:eA.neckStiffness.name,label:eA.neckStiffness.label,options:eT,row:!0}),(0,n.jsx)(eE.default,{variant:"subtitle1",fontWeight:"bold",sx:{mt:2,mb:1},children:"Glasgow Coma Scale (GCS)"}),(0,n.jsx)(i.m2,{children:(0,n.jsx)(i.b1,{name:eA.motorResponse.name,label:eA.motorResponse.label,options:e_,row:!1})}),(0,n.jsx)(i.b1,{name:eA.eyeOpeningResponse.name,label:eA.eyeOpeningResponse.label,options:ev}),(0,n.jsx)(i.b1,{name:eA.verbalResponse.name,label:eA.verbalResponse.label,options:ey,row:!1}),(0,n.jsxs)(eE.default,{fontWeight:"800",variant:"body2",sx:{mt:1},children:["(V ",W," + E ",R," + M ",N,") = ",N+W+R,"/15"]})]}),(0,n.jsxs)(i.kI,{title:"Cranial Nerves",children:[(0,n.jsx)(i.A8,{multiline:!0,name:eA.pupil.name,label:eA.pupil.label,id:eA.pupil.name,sx:{width:"100%"}}),(0,n.jsx)(i.A8,{multiline:!0,name:eA.visualFieldAcuity.name,label:eA.visualFieldAcuity.label,id:eA.visualFieldAcuity.name,sx:{width:"100%"}}),(0,n.jsx)(i.A8,{multiline:!0,name:eA.eyeMovementsNystagmus.name,label:eA.eyeMovementsNystagmus.label,id:eA.eyeMovementsNystagmus.name,sx:{width:"100%"}}),(0,n.jsx)(i.A8,{multiline:!0,name:eA.eyeMovementsSensation.name,label:eA.eyeMovementsSensation.label,id:eA.eyeMovementsSensation.name,sx:{width:"100%"}}),(0,n.jsx)(i.A8,{multiline:!0,name:eA.hearing.name,label:eA.hearing.label,id:eA.hearing.name,sx:{width:"100%"}}),(0,n.jsx)(i.A8,{multiline:!0,name:eA.tongueMovementsTastes.name,label:eA.tongueMovementsTastes.label,id:eA.tongueMovementsTastes.name,sx:{width:"100%"}}),(0,n.jsx)(i.A8,{multiline:!0,name:eA.coughGagReflex.name,label:eA.coughGagReflex.label,id:eA.coughGagReflex.name,sx:{width:"100%"}})]}),(0,n.jsxs)(i.kI,{title:"Peripherals nerves",children:[(0,n.jsx)(i.A8,{multiline:!0,name:eA.power.name,label:eA.power.label,id:eA.power.name,sx:{width:"100%"}}),(0,n.jsx)(i.A8,{multiline:!0,name:eA.tone.name,label:eA.tone.label,id:eA.tone.name,sx:{width:"100%"}}),(0,n.jsx)(i.A8,{multiline:!0,name:eA.reflexes.name,label:eA.reflexes.label,id:eA.reflexes.name,sx:{width:"100%"}}),(0,n.jsx)(i.A8,{multiline:!0,name:eA.plantars.name,label:eA.plantars.label,id:eA.plantars.name,sx:{width:"100%"}}),(0,n.jsx)(i.A8,{multiline:!0,name:eA.sensation.name,label:eA.sensation.label,id:eA.sensation.name,sx:{width:"100%"}}),(0,n.jsx)(i.A8,{multiline:!0,name:eA.coordination.name,label:eA.coordination.label,id:eA.coordination.name,sx:{width:"100%"}}),(0,n.jsx)(i.A8,{multiline:!0,name:eA.gait.name,label:eA.gait.label,id:eA.gait.name,sx:{width:"100%"}}),(0,n.jsx)(i.A8,{name:eA.facialSensation.name,label:eA.facialSensation.label,id:eA.facialSensation.name,sx:{width:"100%"}})]})]})};var ef=l(47292),eC=l(39347),eP=l(62564);let eL=e=>{let{onSubmit:a,loading:l}=e,[i,s]=(0,o.useState)([]),{ServerTime:r}=(0,b.useServerTime)();return(0,n.jsx)(n.Fragment,{children:(0,n.jsxs)(d.h,{loading:l,children:[(0,n.jsx)(ef.q,{columns:[{label:"Code",field:"code"},{label:"Diagnosis",field:"diagnosis"}],data:i}),(0,n.jsx)("br",{}),(0,n.jsx)(eP.default,{width:"100%",label:"Diagnosis",onSelection:e=>{s(a=>[...a,e])}}),(0,n.jsx)("br",{}),(0,n.jsx)(eC.A,{variant:"contained",onClick:()=>{let e=r.getServerTimeString(),l=i.map(a=>({concept:t.W.DIFFERENTIAL_DIAGNOSIS,value:"".concat(a.code,"-").concat(a.diagnosis),obsDatetime:e}));a([{concept:t.W.DIFFERENTIAL_DIAGNOSIS,value:t.W.DIFFERENTIAL_DIAGNOSIS,obsDatetime:e,groupMembers:l}])},children:"Submit"})]})})},eD={general:[{value:t.W.FEVER,label:"Fever"},{value:t.W.LYMPHADENOPATHY,label:"Lymphadenopathy"},{value:t.W.NIGHT_SWEATS,label:"Night sweats"},{value:t.W.FATIGUE,label:"Fatigue"},{value:t.W.WEIGHT_LOSS,label:"Weight loss"},{value:t.W.OTHER,label:"Other"}],HEENT:[{value:t.W.HEADACHE,label:"Headache"},{value:t.W.VISION_CHANGES,label:"Vision changes"},{value:t.W.EYE_PAIN,label:"Eye pain"},{value:t.W.LOSS_OF_HEARING,label:"Loss Of Hearing"},{value:t.W.TINNITUS,label:"Tinnitus"},{value:t.W.OTORRHOEA,label:"Otorrhoea"},{value:t.W.RHINORRHEA,label:"Rhinorrhea"},{value:t.W.EPISTAXIS,label:"Epistaxis"},{value:t.W.SINUS_PAIN,label:"Sinus pain"},{value:t.W.NASAL_STUFFINESS,label:"Nasal Stuffiness"},{value:t.W.ORAL_LESIONS,label:"Oral lesions"},{value:t.W.SORE_THROAT,label:"Sore Throat"},{value:t.W.DYSPHAGIA,label:"Dysphagia"},{value:t.W.ODYNOPHAGIA,label:"Odynophagia"}],endocrine:[{value:t.W.HEAT_TOLERANCE,label:"Heat tolerance"},{value:t.W.ABNORMAL_HAIR_GROWTH,label:"Abnormal hair growth"},{value:t.W.COLD_TOLERANCE,label:"Cold tolerance"},{value:t.W.POLYURIA,label:"Polyuria"},{value:t.W.POLYDIPSIA,label:"Polydipsia"}],cardiovascular:[{value:t.W.SHORTNESS_OF_BREATH,label:"Shortness Of Breath"},{value:t.W.DYSPNOEA_ON_EXERTION,label:"Dyspnoea on exertion"},{value:t.W.DYSPNOEA_AT_REST,label:"Dyspnoea at rest"},{value:t.W.BLEEDING_TENDENCIES,label:"Bleeding tendencies"},{value:t.W.CHEST_PAIN,label:"Chest pain"},{value:t.W.HEART_PALPITATIONS,label:"Palpitations"},{value:t.W.OEDEMA,label:"Oedema"},{value:t.W.CYANOSIS,label:"Cyanosis"},{value:t.W.CLAUDICATION,label:"Claudication"},{value:t.W.ORTHOPNOEA,label:"Orthopnoea"},{value:t.W.PAROXYSMAL_NOCTURNAL_DYSPNOEA,label:"Paroxysmal nocturnal dyspnoea"}],respiratory:[{value:t.W.SHORTNESS_OF_BREATH,label:"Shortness Of Breath"},{value:t.W.COUGH,label:"Cough"},{value:t.W.HAEMOPTYSIS,label:"Haemoptysis"},{value:t.W.WHEEZING,label:"Wheezing"}],gastrointestinal:[{value:t.W.NAUSEA,label:"Nausea"},{value:t.W.VOMITING,label:"Vomiting"},{value:t.W.MELENA,label:"Melena"},{value:t.W.HAEMATOCHEZIA,label:"Haematochezia"},{value:t.W.CHANGE_IN_APPETITE,label:"Change in appetite"},{value:t.W.ABDOMINALPAINS,label:"Abdominal pain"},{value:t.W.CHANGE_IN_BOWEL_HABIT,label:"Change in bowel habit"},{value:t.W.HEARTBURN,label:"Heartburn"}],genitourinary:[{value:t.W.DYSURIA,label:"Dysuria"},{value:t.W.URGENCY,label:"Urgency"},{value:t.W.INCONTINENCE,label:"Incontinence"},{value:t.W.HAEMATURIA,label:"Haematuria"},{value:t.W.PYURIA,label:"Pyuria"},{value:t.W.SEXUALLY_TRANSMITTED_INFECTION,label:"Sexually Transmitted Infection (STI)"},{value:t.W.ABNORMAL_VAGINAL_DISCHARGE,label:"Abnormal Vaginal Discharge"},{value:t.W.DYSMENORRHEA,label:"Dysmenorrhea"},{value:t.W.PELVIC_PAIN,label:"Pelvic pain"},{value:t.W.INCREASE_URINARY_FREQUENCY,label:"Increased Urinary frequency"},{value:t.W.REDUCED_URINARY_FREQUENCY,label:"Reduced urinary frequency"}],musculoskeletal:[{value:t.W.JOINT_PAIN,label:"Joint Pain"},{value:t.W.SWELLING_JOINT,label:"Joint Swelling"},{value:t.W.PAIN_BACK,label:"Back Pain"},{value:t.W.STIFFNESS,label:"Stiffness"}],neurological:[{value:t.W.DIZZINESS,label:"Dizziness"},{value:t.W.HEADACHE,label:"Headache"},{value:t.W.CHANGE_IN_SMELL,label:"Change in smell"},{value:t.W.CHANGE_IN_TASTE,label:"Change in taste"},{value:t.W.PARAESTHESIAS,label:"Paraesthesias"},{value:t.W.MUSCLE_WEAKNESS,label:"Muscle weakness"},{value:t.W.ATAXIA,label:"Ataxia"},{value:t.W.CHANGE_IN_SPEECH,label:"Change in speech"}],psychiatric:[{value:t.W.DEPRESSION,label:"Depression"},{value:t.W.ANXIETY,label:"Anxiety"},{value:t.W.HALLUCINATIONS,label:"Hallucinations"},{value:t.W.MANIA,label:"Mania"},{value:t.W.SUICIDAL_THOUGHTS,label:"Suicidal thoughts"},{value:t.W.MOOD_CHANGES,label:"Mood Changes"}],integumentary:[{value:t.W.SKIN_RASH,label:"Skin Rash"},{value:t.W.ITCHING,label:"Itching"},{value:t.W.CHANGES_IN_MOLES,label:"Changes in moles"}]},eY={general:t.W.REVIEW_OF_SYSTEMS_GENERAL,HEENT:t.W.REVIEW_OF_SYSTEMS_ENT,endocrine:t.W.REVIEW_OF_SYSTEMS__ENDOCRINE,cardiovascular:t.W.REVIEW_OF_SYSTEMS_CARDIAC,respiratory:t.W.SEVERE_RESPIRATORY,gastrointestinal:t.W.REVIEW_OF_SYSTEMS_GASTROINTESTINAL,genitourinary:t.W.REVIEW_OF_SYSTEMS_GENITOURINARY,musculoskeletal:t.W.REVIEW_OF_SYSTEMS_MUSCULOSKELETAL,neurological:t.W.REVIEW_OF_SYSTEMS_NEUROLOGIC,psychiatric:t.W.REVIEW_OF_SYSTEMS_PSYCHIATRIC,integumentary:t.W.SKIN_INFECTION},eH=()=>{let{values:e}=(0,W.j7)(),a=(e.general||[]).some(e=>e.key===t.W.OTHER&&!0===e.value);return(0,n.jsxs)("div",{style:{marginBottom:"2ch"},children:[(0,n.jsx)("h5",{style:{textTransform:"capitalize"},children:"General (Constitutional)"}),(0,n.jsx)(i.Z3,{name:"general",allowFilter:!1,options:eD.general.map(e=>({key:e.value,value:e.value,label:e.label}))}),a&&(0,n.jsx)("div",{style:{marginTop:"1ch",marginLeft:"2ch"},children:(0,n.jsx)(i.A8,{id:"",name:"generalOtherText",label:"Please specify other symptom",placeholder:"Enter other symptom...",size:"small"})})]})},eM=m.Ik({generalOtherText:m.Yj().when("general",{is:e=>null==e?void 0:e.some(e=>e.key===t.W.OTHER&&!0===e.value),then:e=>e.required("Please specify the other general symptom"),otherwise:e=>e.notRequired()})}),ew=e=>{let{onSubmit:a,onSkip:l}=e,{params:s}=(0,c.KU)(),{mutate:r}=(0,p.jM)(),[m,u]=(0,o.useState)(void 0),{data:d}=(0,O.iu)(s.id),{init:h,ServerTime:S}=(0,b.useServerTime)();(0,o.useEffect)(()=>{if(d){let e=d.find(e=>!e.date_stopped);e&&u(e)}},[d]);let E=async e=>{let l=S.getServerTimeString();if(!s.id||!m)return void console.error("Missing patient ID or active visit");console.log("Form values:",e);let n=[];for(let a in eD){let i=e[a]||[];if(!i.length)continue;let s=i.filter(e=>!0===e.value).map(e=>e.key);if(!s.length)continue;let r=eY[a],o=s.map(n=>{let i=eD[a].find(e=>e.value===n),s=(null==i?void 0:i.label)||n;return n===t.W.OTHER&&"general"===a&&e.generalOtherText?{concept:n,value:e.generalOtherText,obsDatetime:l}:{concept:n,value:s,obsDatetime:l}});o.length>0&&n.push({concept:r,value:r,obsDatetime:l,groupMembers:o})}console.log("Final obs structure:",n),a(n)};return(0,n.jsx)(i.PD,{initialValues:{general:[],HEENT:[],endocrine:[],cardiovascular:[],respiratory:[],gastrointestinal:[],genitourinary:[],musculoskeletal:[],neurological:[],psychiatric:[],integumentary:[],generalOtherText:""},validationSchema:eM,onSubmit:E,children:(0,n.jsx)(i.GE,{direction:"column",children:(0,n.jsx)(i.jD,{sx:{bgcolor:"white",padding:"2ch",width:"100%"},children:(0,n.jsxs)(i.kI,{title:"Review of Systems",children:[(0,n.jsx)(eH,{}),Object.entries(eD).filter(e=>{let[a]=e;return"general"!==a}).map(e=>{let[a,l]=e;return(0,n.jsxs)("div",{style:{marginBottom:"2ch"},children:[(0,n.jsx)("h5",{style:{textTransform:"capitalize"},children:a.replace(/_/g," ")}),(0,n.jsx)(i.Z3,{name:a,allowFilter:!1,options:l.map(e=>({key:e.value,value:e.value,label:e.label}))})]},a)})]})})})})},eU={summary:{name:t.W.SUMMARY,label:"Summary"}},eG=m.Ik().shape({[eU.summary.name]:m.Yj().label(eU.summary.label)}),eB=(0,r.f6)(eU),eF=e=>{let{onSubmit:a}=e,{ServerTime:l}=(0,b.useServerTime)();return(0,n.jsx)(i.PD,{initialValues:eB,validationSchema:eG,onSubmit:e=>{let n=l.getServerTimeString();a((0,r.gX)(e,n))},submitButtonText:"next",children:(0,n.jsx)(i.kI,{title:"Summary",children:(0,n.jsx)(i.A8,{name:eU.summary.name,id:eU.summary.name,label:eU.summary.label,multiline:!0,rows:5,sx:{width:"100%"}})})})};var ek=l(26379),eV=l(87909);let eq={additionalNotes:{name:t.W.ADDITIONAL_NOTES,label:"Additional Notes"}},ez=(0,r.f6)(eq),eK=m.Ik().shape({}),eX=e=>{let{onClose:a}=e,{ServerTime:l}=(0,b.useServerTime)();return(0,n.jsxs)("div",{style:{padding:"20px"},children:[(0,n.jsxs)("div",{style:{marginBottom:"30px"},children:[(0,n.jsx)("h3",{style:{fontSize:"1.2rem",fontWeight:"600",marginBottom:"15px",color:"#374151",borderBottom:"2px solid #e5e7eb",paddingBottom:"8px"},children:"Bedside Results"}),(0,n.jsx)(eV.N,{data:[]})]}),(0,n.jsxs)("div",{style:{marginBottom:"30px"},children:[(0,n.jsx)("h3",{style:{fontSize:"1.2rem",fontWeight:"600",marginBottom:"15px",color:"#374151",borderBottom:"2px solid #e5e7eb",paddingBottom:"8px"},children:"Lab Results"}),(0,n.jsx)(ek.l,{})]}),(0,n.jsxs)("div",{style:{marginBottom:"20px"},children:[(0,n.jsx)("h3",{style:{fontSize:"1.2rem",fontWeight:"600",marginBottom:"15px",color:"#374151",borderBottom:"2px solid #e5e7eb",paddingBottom:"8px"},children:"Additional Notes"}),(0,n.jsx)(i.PD,{validationSchema:eK,initialValues:ez,onSubmit:e=>{let n=l.getServerTimeString();a((0,r.gX)(e,n))},submitButtonText:"Complete",children:(0,n.jsx)(i.A8,{multiline:!0,rows:6,name:eq.additionalNotes.name,label:eq.additionalNotes.label,id:eq.additionalNotes.name,sx:{width:"100%"},placeholder:"Enter any additional investigation notes, observations, or recommendations..."})})]})]})},eZ=()=>{let{navigateBack:e}=(0,c.cq)(),{navigateTo:a}=(0,c.cq)(),{params:l}=(0,c.KU)(),{handleSubmit:s,isLoading:r,isSuccess:m}=(0,c.li)(t.fA.MEDICAL_IN_PATIENT,()=>{}),[u,b]=(0,o.useState)(0),[d,p]=(0,o.useState)([]);return(0,o.useEffect)(()=>{m&&b(13)},[m]),(0,n.jsx)(n.Fragment,{children:(0,n.jsxs)(i.RG,{setActive:b,title:"Medical Inpatient Admission Sheet",steps:[{id:1,label:"Presenting Complaints"},{id:2,label:"Drug History"},{id:3,label:"Past Medical History"},{id:4,label:"Past Surgical History"},{id:5,label:"Allergy"},{id:6,label:"Intoxication"},{id:7,label:"Social History"},{id:8,label:"Family History"},{id:9,label:"Review of Systems"},{id:10,label:"Physical Examination"},{id:11,label:"Summary"},{id:12,label:"Differential Diagnosis"},{id:13,label:"Investigation"}],active:u,onBack:()=>e(),children:[(0,n.jsx)(f,{onSubmit:e=>{p(e),b(1)}}),(0,n.jsx)(eb,{onSubmit:e=>{p(a=>[...a,...e]),b(2)}}),(0,n.jsx)(M,{onSubmit:e=>{p(a=>[...a,...e]),b(3)}}),(0,n.jsx)(B,{onSubmit:e=>{p(a=>[...a,...e]),b(4)}}),(0,n.jsx)(K,{onSubmit:e=>{p(a=>[...a,...e]),b(5)}}),(0,n.jsx)($,{onSubmit:e=>{p(a=>[...a,...e]),b(6)}}),(0,n.jsx)(en,{onSubmit:e=>{p(a=>[...a,...e]),b(7)}}),(0,n.jsx)(er,{onSubmit:e=>{p(a=>[...a,...e]),b(8)}}),(0,n.jsx)(ew,{onSubmit:e=>{p(a=>[...a,...e]),b(9)},onSkip:()=>b(9)}),(0,n.jsx)(ej,{onSubmit:e=>{p(a=>[...a,...e]),b(10)}}),(0,n.jsx)(eF,{onSubmit:e=>{p(a=>[...a,...e]),b(11)}}),(0,n.jsx)(eL,{loading:r,onSubmit:e=>{p(a=>[...a,...e]),b(12)}}),(0,n.jsx)(eX,{onClose:e=>{let n=[...d,...e];console.log("Submitting all observations including investigations:",{allObservations:n}),s(n),a("/patient/".concat(l.id,"/profile"))}})]})})},eJ={isAirwayPatent:{name:t.W.AIRWAY_PATENT,label:"Is Airway Patent",coded:!0},isPatientInjured:{name:t.W.PATIENT_INJURED,label:"Is Patient Injured",coded:!0},neckCollar:{name:t.W.NECK_COLLAR_APPLIED,label:"Neck Collar Applied",coded:!0},weakness:{name:t.W.WEAKNESS,label:"Weakness"},headBlocks:{name:t.W.HEAD_BLOCKS_APPLIED,label:"Head Blocks Applied",coded:!0},airWayThreatenedReason:{name:t.W.AIRWAY_REASON,label:"Reason",coded:!0},otherReason:{name:t.W.OTHER,label:"Specify"},intervention:{name:t.W.AIRWAY_OPENING_INTERVENTION,label:"Airway Opening Intervention",coded:!0},nasopharyngealSize:{name:t.W.NASOPHARYNGEAL_AIRWAY,label:"Nasopharyngeal Airway Size"},oropharyngealSize:{name:t.W.OROPHARYNGEAL_AIRWAY,label:"Oropharyngeal Airway Size"}};m.Ik().shape({[eJ.isAirwayPatent.name]:m.Yj().required().label(eJ.isAirwayPatent.label),[eJ.headBlocks.name]:m.Yj().label(eJ.headBlocks.label),[eJ.neckCollar.name]:m.Yj().label(eJ.neckCollar.label),[eJ.airWayThreatenedReason.name]:m.YO().label(eJ.airWayThreatenedReason.label),[eJ.intervention.name]:m.YO().label(eJ.intervention.label),[eJ.weakness.name]:m.Yj().label(eJ.weakness.label),[eJ.nasopharyngealSize.name]:m.Yj().label(eJ.nasopharyngealSize.label),[eJ.oropharyngealSize.name]:m.Yj().label(eJ.oropharyngealSize.label),[eJ.otherReason.name]:m.Yj().when(eJ.airWayThreatenedReason.name,(e,a)=>e[0]==t.W.OTHER?a.required():a).label(eJ.otherReason.label)}),t.W.SECRETION,t.W.TONGUE_SWELLING,t.W.NECK_SWELLING,t.W.NECK_HAEMATOMA,t.W.TONGUE_FALLING_BACK,t.W.OTHER,t.W.SUCTIONING_DONE,t.W.JAW_THRUST_MANOEUVER,t.W.HEAD_TILT_CHIN_LIFT,t.W.OROPHARYNGEAL,(0,r.f6)(eJ),t._Y,t.NO,l(91876),l(32079),l(60921),l(23412),l(82846);let eQ={isPatientBreathing:{name:t.W.IS_BREATHING_ABNORMAL,label:"Is Patient Breathing",coded:!0},startTimeIntervention:{name:t.W.START_TIME,label:"Start Time"},finishTimeIntervention:{name:t.W.END_TIME,label:"End Time"},deviceForIntervention:{name:t.W.DEVICE_USED_FOR_INTERVENTION,label:"Device used for intervention",coded:!0},respiratoryRate:{name:t.W.RESPIRATORY_RATE,label:"Respiratory Rate"},oxygenSaturation:{name:t.W.OXYGEN_SATURATION,label:"Oxygen Saturation"},oxygenNeeded:{name:t.W.PATIENT_NEED_OXYGEN,label:"Patient Need Oxygen",coded:!0},oxygenGiven:{name:t.W.OXYGEN_GIVEN,label:"Oxygen Given"},oxygenSource:{name:t.W.OXYGEN_SOURCE,label:"Oxygen Source",coded:!0},deviceUsed:{name:t.W.DEVICE_USED,label:"Device Used",coded:!0},isTracheaCentral:{name:t.W.IS_TRACHEA_CENTRAL,label:"Is Trachea Central",coded:!0},deviationSide:{name:t.W.SIDE_DEVIATED,label:"Which side is it deviated to",coded:!0},chestWallAbnormality:{name:t.W.CHEST_WALL_ABNORMALITY,label:"Chest Wall Abnormality",coded:!0},chestExpansion:{name:t.W.CHEST_EXPANSION,label:"Chest Expansion",coded:!0},additionalNotes:{name:t.W.ADDITIONAL_NOTES,label:"Additional Notes"},descriptionAbnormality:{name:t.W.DESCRIPTION,label:"Description of Abnormality"},percussion:{name:t.W.PERCUSSION,label:"Percussion",coded:!0},breathSounds:{name:t.W.BREATHING_SOUNDS,label:"Breath Sounds",coded:!0}};m.Ik().shape({[eQ.isPatientBreathing.name]:m.Yj().required().label(eQ.isPatientBreathing.label),[eQ.startTimeIntervention.name]:m.Yj().label(eQ.startTimeIntervention.label),[eQ.finishTimeIntervention.name]:m.Yj().label(eQ.finishTimeIntervention.label),[eQ.deviceForIntervention.name]:m.YO().label(eQ.deviceForIntervention.label),[eQ.respiratoryRate.name]:m.ai().when(eQ.isPatientBreathing.name,(e,a)=>e[0]==t.W.YES?a.required():a).label(eQ.respiratoryRate.label).min(1).max(70),[eQ.oxygenSaturation.name]:m.ai().when(eQ.isPatientBreathing.name,(e,a)=>e[0]==t.W.YES?a.required():a).label(eQ.oxygenSaturation.label).min(10).max(100),[eQ.oxygenNeeded.name]:m.Yj().label(eQ.oxygenNeeded.label),[eQ.oxygenGiven.name]:m.ai().when(eQ.oxygenNeeded.name,(e,a)=>e[0]==t.W.YES?a.required():a).min(1).max(15).label(eQ.oxygenGiven.label),[eQ.oxygenSource.name]:m.Yj().when(eQ.oxygenNeeded.name,(e,a)=>e[0]==t.W.YES?a.required():a).label(eQ.oxygenSource.label),[eQ.deviceUsed.name]:m.Yj().when(eQ.oxygenNeeded.name,(e,a)=>e[0]==t.W.YES?a.required():a).label(eQ.deviceUsed.label),[eQ.isTracheaCentral.name]:m.Yj().label(eQ.isTracheaCentral.label),[eQ.deviationSide.name]:m.Yj().label(eQ.deviationSide.label),[eQ.percussion.name]:m.Yj().label(eQ.percussion.label),[eQ.chestWallAbnormality.name]:m.Yj().label(eQ.chestWallAbnormality.label),[eQ.breathSounds.name]:m.Yj().label(eQ.breathSounds.label)}),(0,r.f6)(eQ),t.W.CONCENTRATOR,t.W.CYLINDER,t.W.PIPED_OXYGEN,t.W.NASAL_PRONGS,t.W.SIMPLE_FACE_MASK,t.W.VENTURI_FACE_MASK,t.W.NEBULISING_CHAMBER,t.W.NON_REBREATHER,t.W.NON_INVASIVE_VENTILATION_MASK,t.W.LARYNGEAL,t.W.ENDOTRACHEAL,t.W.WOUND,t.W.FLAIL_CHEST,t.W.SURGICAL_EMPHAYEMA,t.W.DEFORMITY,t.W.OTHER,t._Y,t.NO;let e$=(0,s.A)(function(){return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(i.TF,{}),(0,n.jsx)(i.MG,{children:(0,n.jsx)(eZ,{})})]})},[t.Ot.CLINICIAN,t.Ot.NURSE,t.Ot.ADMIN,t.Ot.STUDENT_CLINICIAN])},15377:(e,a,l)=>{"use strict";l.d(a,{OverlayLoader:()=>s});var n=l(95155);l(12115);var i=l(90418),t=l(89915);function s(e){let{open:a}=e;return(0,n.jsx)("div",{children:(0,n.jsx)(i.A,{sx:{color:"#fff",zIndex:e=>e.zIndex.drawer+1},open:a,children:(0,n.jsx)(t.A,{color:"inherit"})})})}},24513:(e,a,l)=>{"use strict";l.d(a,{OV:()=>r,TK:()=>m,f3:()=>u,kg:()=>t,kl:()=>o,lo:()=>s});var n=l(44919);let i="/users",t=e=>(0,n.vt)(e,i),s=()=>(0,n.UK)("".concat(i,"?paginate=false")),r=e=>(0,n.UK)(i+"?paginate=false&username="+e),o=e=>(0,n.HD)(e,i),m=(e,a)=>(0,n.hc)(e,a,i),u=(e,a)=>(0,n.yo)(e,i,a)},26379:(e,a,l)=>{"use strict";l.d(a,{l:()=>u});var n=l(95155),i=l(70482),t=l(59487),s=l(9670),r=l(6314),o=l(83436),m=l(23312);let u=()=>{let{params:e}=(0,i.KU)(),{data:a}=(0,o.$O)(null==e?void 0:e.id,"encounter_type=".concat(m.fA.LAB_ORDERS_PLAN)),l=[{field:"specimen",headerName:"Specimen",flex:1,renderCell:e=>e.row.specimen.name},{field:"test",headerName:"Test(s)",flex:1,renderCell:e=>e.row.test.name},{field:"priority",headerName:"Priority",flex:1,renderCell:e=>e.row.test.priority},{field:"date",headerName:"Date",flex:1}],u=[];if(a&&(null==a?void 0:a.length)>0){var b,d;u=null==(d=a[0])||null==(b=d.obs)?void 0:b.flatMap(e=>e.children.map(a=>({test:a.names[0].name,date:(0,r.kh)(e.obs_datetime),specimen:e.names[0].name,priority:function(e){let a=[];if(Array.isArray(e.children))for(let i of e.children){var l,n;let e=null==(n=i.names)||null==(l=n[0])?void 0:l.name;("Emergency"===e||"Urgent"===e)&&a.push(e)}return a.join(", ")}(a),id:a.obs_id})))}return(0,n.jsx)(n.Fragment,{children:0===u.length?(0,n.jsx)(s.default,{children:"No lab orders added"}):(0,n.jsx)(t.WE,{height:"25ch",showTopBar:!1,rowHeight:25,rows:u,columns:l})})}},26997:(e,a,l)=>{"use strict";l.d(a,{Z:()=>t});var n=l(12115),i=l(86517);let t=()=>{let{data:e}=(0,i.X)("Allergen Category"),[a,l]=(0,n.useState)([]),{data:t}=(0,i.X)("Medication Allergens"),{data:s}=(0,i.X)("Medical Substance Allergens"),{data:r}=(0,i.X)("Substance Allergens"),{data:o}=(0,i.X)("Food Allergens");return(0,n.useEffect)(()=>{let a=[],n=[],i=[],m=[];if(t&&o&&r&&s&&(n=o.map(e=>{let{name:a,uuid:l}=e;return{value:l,label:a}}),i=r.map(e=>{let{name:a,uuid:l}=e;return{value:l,label:a}}),m=s.map(e=>{let{name:a,uuid:l}=e;return{value:l,label:a}}),a=t.map(e=>{let{name:a,uuid:l}=e;return{value:l,label:a}})),e){let t=[{label:e[0].name,value:e[0].uuid,options:a},{label:e[1].name,value:e[1].uuid,options:m},{label:e[2].name,value:e[2].uuid,options:i},{label:e[3].name,value:e[3].uuid,options:n}];t.push({label:"None",value:"None",options:[{label:"None",value:"None"}]}),l(t)}},[e,t,o,r,s]),{allergyOptions:a,medicationAllergens:t,foodAllergens:o,medicalSubstanceAllergens:s,substanceAllergens:r,allergenCats:e}}},27365:(e,a,l)=>{"use strict";l.d(a,{CF:()=>r,J$:()=>o,ec:()=>u,gw:()=>m,nu:()=>s});var n=l(24513),i=l(5041),t=l(19373);let s=()=>(0,i.n)({mutationFn:e=>{let a=e.role.map(e=>({name:e.id})),l={username:e.userName,password:e.password,person:{gender:"Male",age:47,birthdate:"1970-01-01T00:00:00.000+0100",birthdateEstimated:!1,dead:!1,deathDate:null,causeOfDeath:null,names:[{givenName:e.firstName,familyName:e.lastName}]},roles:a};return(0,n.kg)(l).then(e=>e.data)}}),r=()=>{let e=()=>(0,n.lo)().then(e=>e.data);return(0,t.I)({queryKey:["users"],queryFn:()=>e(),refetchOnWindowFocus:!1,refetchOnMount:!1,refetchOnReconnect:!1})},o=e=>{let a=()=>(0,n.OV)(e).then(e=>e.data);return(0,t.I)({queryKey:["search",e],queryFn:()=>a(),enabled:!1})},m=()=>(0,i.n)({mutationFn:e=>{let a={username:e.userName,roles:e.role.map(e=>({name:e.label})),password:e.password};return(0,n.TK)(e.userId,a).then(e=>e.data)}}),u=()=>(0,i.n)({mutationFn:e=>{let a={user:{current_password:e.password,password:e.newPassword}};return(0,n.f3)(e.userId,a).then(e=>e.data)}})},39419:(e,a,l)=>{"use strict";l.d(a,{A:()=>b});var n=l(95155),i=l(15377),t=l(70482),s=l(12115),r=l(21184),o=l(59487),m=l(66766),u=l(20256);function b(e,a){return function(l){let[o,m]=(0,s.useState)(!1),{navigateTo:b}=(0,t.cq)();(0,s.useLayoutEffect)(()=>{if(localStorage)if(localStorage.getItem("accessToken")){let e=localStorage.getItem("loginTime");if(e){let a=parseInt(e);if(Math.floor((new Date().getTime()-a)%36e5/6e4)>60){m(!1),b("/"),localStorage.clear();return}}m(!0)}else m(!1),localStorage.clear(),b("/")},[]);let c=(0,r.R)(a,(0,u.O)());return o?c?(0,n.jsx)(e,{...l}):(0,n.jsx)(d,{}):(0,n.jsx)(i.OverlayLoader,{open:!o})}}let d=()=>(0,n.jsx)(o.jD,{sx:{width:"100%",height:"100vh",display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"#fff"},children:(0,n.jsx)(m.default,{src:"/403.jpg",height:500,width:500,alt:"403"})})},47292:(e,a,l)=>{"use strict";l.d(a,{q:()=>O});var n=l(95155);l(12115);var i=l(15876),t=l(25949),s=l(33470),r=l(3967),o=l(72137),m=l(57236),u=l(89915),b=l(26096),d=l(53494),c=l(35881);let p=(0,c.Ay)(i.A)(e=>{let{theme:a}=e;return{borderRadius:a.shape.borderRadius,overflow:"auto",maxHeight:"400px",minHeight:"95px",boxShadow:a.shadows[3],position:"relative"}}),h=(0,c.Ay)(t.A)(e=>{let{theme:a}=e;return{borderCollapse:"separate",borderSpacing:"0px 4px"}}),S=(0,c.Ay)(s.A)(e=>{let{theme:a}=e;return{fontWeight:500,padding:"12px 16px",borderBottom:"none",color:a.palette.text.primary,whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",maxWidth:"200px"}}),E=(0,c.Ay)(S)(e=>{let{theme:a}=e;return{fontSize:"0.9rem",fontWeight:"bold",backgroundColor:a.palette.background.default,textTransform:"uppercase"}}),A=(0,c.Ay)(r.A)(e=>{let{theme:a}=e;return{backgroundColor:"#fff",borderRadius:"8px",transition:"background 0.2s ease-in-out","&:hover":{backgroundColor:a.palette.grey[100]},boxShadow:a.shadows[1]}}),I=(0,c.Ay)("div")(e=>{let{theme:a}=e;return{display:"flex",justifyContent:"center",alignItems:"center",position:"absolute",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(255, 255, 255, 0.7)",zIndex:1}}),O=e=>{let{columns:a,data:l,actions:i=!1,getSelectedRow:t,loading:c=!1}=e;return(0,n.jsx)(p,{children:(0,n.jsxs)(h,{stickyHeader:!0,children:[(0,n.jsx)(o.A,{children:(0,n.jsxs)(r.A,{children:[a.map((e,a)=>(0,n.jsx)(E,{children:e.label},a)),i&&(0,n.jsx)(E,{children:"Actions"})]})}),(0,n.jsx)(m.A,{children:c?(0,n.jsx)(r.A,{children:(0,n.jsx)(s.A,{colSpan:a.length+ +!!i,children:(0,n.jsx)(I,{children:(0,n.jsx)(u.A,{})})})}):l.map((e,l)=>(0,n.jsxs)(A,{onClick:()=>t&&t(e),children:[a.map((a,l)=>(0,n.jsx)(b.A,{title:e[a.field],arrow:!0,children:(0,n.jsx)(S,{children:e[a.field]})},l)),i&&(0,n.jsxs)(S,{children:[(0,n.jsx)(d.default,{"aria-label":"edit",color:"primary",size:"small"}),(0,n.jsx)(d.default,{"aria-label":"delete",color:"secondary",size:"small"})]})]},l))})]})})}},54692:(e,a,l)=>{"use strict";l.d(a,{s:()=>o});var n=l(95155),i=l(48453),t=l(99284),s=l(83170),r=l(59487);let o=e=>{let{options:a,name:l,label:o,width:m="100%",sx:u,getValue:b,manualInitialValues:d,disabled:c=!1,multiple:p=!0,applyPadding:h=!0}=e,{hasError:S,setFieldValue:E,value:A,errorMessage:I}=(0,i.W)(l),O=h?{paddingTop:"1ch",paddingBottom:"1ch"}:{};return(0,n.jsxs)(r.jD,{sx:{width:m,...u,borderRadius:.5},children:[(0,n.jsx)(t.A,{shrink:!0,children:o}),a&&a.length>0?(0,n.jsx)(s.default,{styles:{control:(e,a)=>({...e,borderColor:S?"red":"#B3B3B3",...O}),option:(e,a)=>({...e,backgroundColor:a.isSelected?"white":e.backgroundColor,color:"black","&:hover":{backgroundColor:"#cffccf"}})},defaultValue:d,onChange:e=>{if(p){let n=e.map(e=>{let l=a.find(a=>a.options.some(a=>a.value===e.value));return{group:(null==l?void 0:l.value)||"Unknown",value:e.value,label:e.label}});E(l,n),b&&b(n)}else{let n=a.find(a=>a.options.some(a=>a.value===e.value)),i={group:(null==n?void 0:n.value)||"Unknown",value:e.value,label:e.label};E(l,i),b&&b(i)}},isDisabled:c,isMulti:p,options:a,formatGroupLabel:e=>(0,n.jsx)("div",{style:{fontWeight:"bold"},children:e.label}),theme:e=>({...e,colors:{...e.colors,primary:r.zQ.primary,primary25:"#cffccf",neutral0:"white",neutral80:"black"}})}):null,(0,n.jsx)(r.Th,{color:"red",variant:"subtitle2",children:I})]})}},68157:(e,a,l)=>{"use strict";l.d(a,{l:()=>s});var n=l(12115),i=l(83436),t=l(23312);let s=()=>{let[e,a]=(0,n.useState)([]);return(0,n.useEffect)(()=>{(async()=>{let e=await (0,i.cr)(t.W.PRESENTING_COMPLAINTS);a(e=e.data[0].set_members.map(e=>{var a,l;return{id:null==e||null==(a=e.names[0])?void 0:a.uuid,label:null==e||null==(l=e.names[0])?void 0:l.name}}))})()},[]),{presentingComplaints:e}}},68238:(e,a,l)=>{Promise.resolve().then(l.bind(l,4925))},86517:(e,a,l)=>{"use strict";l.d(a,{X:()=>t});var n=l(83436),i=l(19373);let t=e=>{let a=async()=>{var a;let l=await (0,n.P$)(e);return(null==(a=l.data)?void 0:a.length)?l.data[0].set_members.map(e=>{var a,l;let{names:n}=e;return{name:(null==(a=n[0])?void 0:a.name)||"Unknown",uuid:(null==(l=n[0])?void 0:l.uuid)||"N/A"}}):[]};return(0,i.I)({queryKey:[e],queryFn:a,enabled:!!e})}},87909:(e,a,l)=>{"use strict";l.d(a,{N:()=>s});var n=l(95155),i=l(9670),t=l(12115);let s=e=>{let{data:a}=e,[l,s]=(0,t.useState)([]),r={pH:"",PCO2:"mmHg",PO2:"mmHg","Base Excess":"mmol/L",ctHb:"g/dL",SO2E:"%",FO2HBE:"%",FHHBE:"%",FmetHb:"%","Creatine kinase":"mmol/L",CNA:"mmol/L",CA2:"mmol/L",CCL:"mmol/L",cGlu:"mmol/L",cLac:"mmol/L",ctBil:"\xb5mol/L","pH (T)":"","pCOâ‚‚ (T)":"mmHg","pOâ‚‚ (T)":"mmHg",P50E:"",BaseExcess:"mmol/L",HCO3:"mmol/L","Anion Gapc":"mmol/L",MOSMC:"mmol/kg"};(0,t.useEffect)(()=>{if(a.length>0){let e=Object.values(a),l=e=>e.filter(e=>{var a,l,n,i;let t=(null==(l=e.names)||null==(a=l[0])?void 0:a.name)==="Description",s=null!=(i=null!=(n=e.value)?n:e.value_text)?i:e.value_numeric,r=!isNaN(Number(s))&&null!=s&&""!==s;return!(t&&r)}).map(e=>({...e,children:e.children?l(e.children):[]}));s(e.filter(e=>e.children&&e.children.length>0).map(e=>({...e,children:e.children?l(e.children):[]})).sort((e,a)=>{let l=new Date(e.obs_datetime).getTime();return new Date(a.obs_datetime).getTime()-l}))}},[a]);let o=e=>{var a;let l=null!=(a=r[e])?a:"";return"".concat(l?" ".concat(l):"")},m=function(e){var a,l,t,s,r,u,b,d,c,p,h,S,E,A,I,O,T;let N=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,W=(null==(a=e.children)?void 0:a.length)>0;return(0,n.jsxs)("div",{style:{marginLeft:16*N},children:[(0,n.jsxs)(i.default,{sx:{color:"#777",fontWeight:400,lineHeight:1.5},children:[W?(0,n.jsx)("b",{children:(null==(t=e.names)||null==(l=t[0])?void 0:l.name)==="Description"?"":"".concat(null==(r=e.names)||null==(s=r[0])?void 0:s.name," ")}):(0,n.jsx)("b",{children:(null==(b=e.names)||null==(u=b[0])?void 0:u.name)==="Description"?"":"".concat(null==(c=e.names)||null==(d=c[0])?void 0:d.name," : ")}),e.value_text?(0,n.jsxs)(n.Fragment,{children:[W?(0,n.jsx)("b",{children:e.value_text}):e.value_text,(0,n.jsx)("span",{children:o(null==(h=e.names)||null==(p=h[0])?void 0:p.name)})]}):(0,n.jsxs)(n.Fragment,{children:[W?(0,n.jsx)("b",{children:null!=(I=null!=(A=e.value)?A:e.value_numeric)?I:"N/A"}):null!=(T=null!=(O=e.value)?O:e.value_numeric)?T:"N/A",(0,n.jsx)("span",{children:o(null==(E=e.names)||null==(S=E[0])?void 0:S.name)})]})]}),W&&(0,n.jsx)("div",{style:{display:"flex",flexWrap:"wrap",gap:"16px"},children:e.children.map(e=>m(e,N+1))})]},e.obs_id)};return(0,n.jsx)("div",{style:{display:"flex",flexDirection:"column",alignItems:"flex-start",gap:"0.2rem"},children:0===l.length?(0,n.jsx)(i.default,{children:"No results available"}):l.map(e=>m(e,1))})}}},e=>{var a=a=>e(e.s=a);e.O(0,[5639,16,9344,8250,2225,3740,8320,6987,2073,5062,4821,6448,7129,3170,5976,9487,8130,342,8441,1684,7358],()=>a(68238)),_N_E=e.O()}]);