(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3164],{12729:(e,r,a)=>{"use strict";a.d(r,{C:()=>n});var t=a(12115),l=a(38514);let n=()=>{let{data:e,isLoading:r}=(0,l.X)("Service areas"),[a,n]=(0,t.useState)([]);return(0,t.useEffect)(()=>{if(e){let r=e.map(e=>({label:e.name,id:e.uuid}));n(r),r.find(e=>"Other"===e.label)}},[e]),{serviceAreaOptions:a,serviceAreaLoading:r,serviceAreas:e}}},38514:(e,r,a)=>{"use strict";a.d(r,{X:()=>n});var t=a(66637),l=a(22454);let n=e=>{let r=async()=>{var r;let a=await (0,t.P$)(e);return(null==(r=a.data)?void 0:r.length)?a.data[0].set_members.map(e=>{var r,a;let{names:t}=e;return{name:(null==(r=t[0])?void 0:r.name)||"Unknown",uuid:(null==(a=t[0])?void 0:a.uuid)||"N/A"}}):[]};return(0,l.I)({queryKey:[e],queryFn:r,enabled:!!e})}},51267:(e,r,a)=>{"use strict";a.d(r,{iE:()=>n,Zt:()=>m,iL:()=>c,f6:()=>d,gX:()=>u,ZM:()=>o,k$:()=>b}),a(33115);var t=a(68407),l=a.n(t);let n=e=>{let{title:r,text:a,icon:t,onConfirm:n,confirmButtonText:i,cancelButtonText:s="Cancel"}=e;l().fire({title:r,text:a,icon:t,showCancelButton:!0,confirmButtonColor:"#006401",confirmButtonText:i,cancelButtonText:s}).then(e=>{e.isConfirmed&&n()})};var i=a(263),s=a(26301);let d=e=>Object.keys(e).reduce((r,a)=>(r[e[a].name]="",r),{}),u=(e,r)=>Object.keys(e).map(a=>({concept:a,value:e[a],obsDatetime:r})),c=(e,r,a)=>{let t=Object.keys(e).map(r=>({concept:e[r].name,label:e[r].label})),l=r.map(e=>({concept:e.id,label:e.label}));return[...t,...a.map(e=>({concept:e.value,label:e.label})),...l]},m=async e=>(await s.Fh.initialize(),e.map(e=>({concept:i.W.IMAGE_PART_NAME,value:e.label,obsDateTime:s.Fh.getServerTimeString(),groupMembers:e.formData.obs}))),o=function(e,r,a){return arguments.length>3&&void 0!==arguments[3]&&arguments[3],Array.isArray(e)?e.map(e=>({concept:r,value:e.id,obsDatetime:a})):[]},b=async(e,r,a)=>(await s.Fh.initialize(),Object.entries(r).map(r=>{let[t,l]=r,n=Object.keys(e).find(r=>e[r].name===t);if(!n)return null;let i=e[n].name,d=e[n].coded;return Array.isArray(l)&&l.every(e=>e&&void 0!==e.id)?l.map(e=>({key:i,value:e.id,coded:d})):{concept:i,value:l,coded:d,obsDatetime:a||s.Fh.getServerTimeString()}}).flat().filter(Boolean))},70742:(e,r,a)=>{Promise.resolve().then(a.bind(a,98868))},79048:(e,r,a)=>{"use strict";a.d(r,{f:()=>i});var t=a(95155),l=a(72478),n=a(52122);function i(e){let{children:r,title:a,rightChildComponent:i,leftChildComponent:s,leftGridSize:d=2,middleGridSize:u=7,rightGridSize:c=3,showBackButton:m=!0}=e;return(0,t.jsxs)(l.Yr,{container:!0,spacing:1,children:[(0,t.jsx)(l.Yr,{item:!0,lg:d,md:1,children:s}),(0,t.jsx)(l.Yr,{item:!0,lg:u,md:10,sx:{padding:"2ch",mt:"2ch",width:"100%"},children:(0,t.jsxs)(l.sc,{elevation:0,sx:{padding:"2ch",mt:"2ch"},children:[m&&(0,t.jsx)(n.oq,{}),m&&(0,t.jsx)("br",{}),(0,t.jsx)(l.Th,{variant:"h4",color:"gray",children:a}),(0,t.jsx)("br",{}),r]})}),(0,t.jsx)(l.Yr,{item:!0,lg:c,md:1,children:i})]})}},89215:(e,r,a)=>{"use strict";a.d(r,{O:()=>o});var t=a(95155),l=a(12115),n=a(72478),i=a(35068),s=a(51267),d=a(263),u=a(12729);let c={referred:{name:d.W.IS_PATIENT_REFERRED,label:"Is the patient referred?"},urgent:{name:d.W.IS_SITUATION_URGENT,label:" Is the situation urgent?"},Referred:{name:d.W.PATIENT_REFERRED_TO,label:"Patient Referred to"}},m=i.Ik({[c.referred.name]:i.Yj().required().label(c.referred.label),[c.urgent.name]:i.Yj().required().label(c.urgent.label),[c.Referred.name]:i.Yj().label(c.Referred.label)});function o(e){let{onSubmit:r}=e,{serviceAreaOptions:a}=(0,u.C)(),[i,o]=(0,l.useState)({}),b=[{label:"Yes",value:d._Y},{label:"No",value:d.NO}],f=a.map(e=>({id:e.label,label:e.label})),h=i[c.referred.name]==d._Y?f:f.filter(e=>"OPD 2"!==e.id);return(0,t.jsxs)(n.PD,{validationSchema:m,initialValues:(0,s.f6)(c),onSubmit:r,children:[(0,t.jsx)(n.fP,{getValues:o}),(0,t.jsxs)(n.Vp,{children:[(0,t.jsx)(n.b1,{name:c.referred.name,label:c.referred.label,options:b}),(0,t.jsx)(n.b1,{name:c.urgent.name,label:c.urgent.label,options:[...b,{label:"Elective",value:d.W.ELECTIVE}]})]}),i[c.urgent.name]==d.NO&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("br",{}),(0,t.jsx)(n.el,{name:c.Referred.name,label:c.Referred.label,options:h,multiple:!1,sx:{mr:"1ch"}})]}),(i[c.urgent.name]==d._Y||i[c.urgent.name]==d.W.ELECTIVE)&&(0,t.jsx)(n.bL,{message:"Proceed with registration"})]})}},98868:(e,r,a)=>{"use strict";a.r(r),a.d(r,{default:()=>s});var t=a(95155),l=a(79048),n=a(89215),i=a(87295);function s(){let{navigateTo:e}=(0,i.cq)(),{params:r}=(0,i.KU)();return(0,t.jsx)(t.Fragment,{children:(0,t.jsx)(l.f,{title:"Prescreening",children:(0,t.jsx)(n.O,{onSubmit:e=>{console.log({values:e})}})})})}}},e=>{e.O(0,[9503,16,9344,8250,2225,3740,8320,2141,7861,2891,1412,4018,5068,7774,2478,8441,1255,7358],()=>e(e.s=70742)),_N_E=e.O()}]);