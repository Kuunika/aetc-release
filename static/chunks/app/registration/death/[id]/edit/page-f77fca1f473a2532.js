(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4616],{30054:(e,t,a)=>{Promise.resolve().then(a.bind(a,81830))},81830:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>y});var i=a(95155),r=a(54102),n=a(43388),l=a(32582),s=a(9670),d=a(84256),o=a(83339),m=a(52269),u=a(3951),f=a(39347),c=a(89915),h=a(12115),_=a(9890),p=a(70482),x=a(33881),g=a(59487),j=a(40289),v=a(30832),b=a.n(v);let C=()=>{let{params:e}=(0,p.KU)(),{navigateTo:t}=(0,p.cq)(),[a,v]=(0,h.useState)(null),{data:C,isLoading:y}=(0,_.xp)(),A=(0,_.TI)();(0,h.useEffect)(()=>{C&&v(C.find(t=>t.id==Number(e.id)))},[e.id,C]);let w=async a=>{try{await A.mutateAsync({id:Number(e.id),data:a}),t("/registration/death/".concat(e.id,"/view"))}catch(e){console.error("Error updating death report:",e)}},H=(e,t)=>{if("gender_deceased"===e)return(0,i.jsx)(g.b1,{label:e.replace(/_/g," ").toUpperCase(),name:e,options:[{label:"Male",value:"male"},{label:"Female",value:"female"}],row:!0});if("date_of_death"===e||"date_of_arrival"===e||"date_confirming_death"===e||"date_of_birth"===e)return(0,i.jsx)(g.W9,{name:e,label:e.replace(/_/g," ").toUpperCase(),width:"100%"});if("religion"===e)return(0,i.jsx)(g.pK,{name:e,selectItems:[{name:"Christianity",value:"Christianity"},{name:"Muslim",value:"Muslim"},{name:"Buddhism",value:"Buddhism"},{name:"Rastafarian",value:"Rastafarian"},{name:"Atheist",value:"Atheist"},{name:"Traditional",value:"Traditional"},{name:"Other",value:"Other"}],label:e.replace(/_/g," ").toUpperCase(),id:e});if("time_of_death"===e||"time_of_arrival"===e||"time_of_injury"===e||"time_confirming_death"===e)return(0,i.jsx)(g.gj,{name:e,label:e.replace(/_/g," ").toUpperCase(),width:"100%"});if("boolean"==typeof t)return(0,i.jsx)(j.D0,{name:e,children:t=>{let{field:a}=t;return(0,i.jsx)(r.default,{control:(0,i.jsx)(n.default,{name:e,checked:!!a.value,onChange:a.onChange}),label:e.replace(/_/g," ").toUpperCase()})}});else return(0,i.jsx)(j.D0,{name:e,children:t=>{let{field:a}=t;return(0,i.jsx)(l.A,{fullWidth:!0,label:e.replace(/_/g," ").toUpperCase(),...a,variant:"outlined",margin:"normal"})}})};return y||!a?(0,i.jsx)(s.default,{children:"Loading..."}):(0,i.jsx)(d.A,{sx:{maxWidth:800,margin:"auto",mt:4,p:2},children:(0,i.jsxs)(o.A,{children:[(0,i.jsxs)(m.default,{onClick:()=>t("/registration/death/list"),sx:{display:"flex",alignItems:"center",mb:2,cursor:"pointer"},children:[(0,i.jsx)(m.default,{sx:{width:"24px",height:"24px",fontSize:"20px"},children:(0,i.jsx)(x.ed2,{})}),(0,i.jsx)(s.default,{sx:{fontSize:"14px",fontWeight:400,lineHeight:"21px",letterSpacing:"0em",ml:1},children:"Back to List"})]}),(0,i.jsx)(s.default,{variant:"h5",gutterBottom:!0,children:"Edit Death Report"}),(0,i.jsx)(j.l1,{initialValues:{...a,time_of_death:a.time_of_death?b()(a.time_of_death).format("HH:mm:ss"):"",time_of_arrival:a.time_of_arrival?b()(a.time_of_arrival).format("HH:mm:ss"):"",time_of_injury:a.time_of_injury?b()(a.time_of_injury).format("HH:mm:ss"):"",time_confirming_death:a.time_confirming_death?b()(a.time_confirming_death).format("HH:mm:ss"):""},onSubmit:w,enableReinitialize:!0,children:e=>{let{isSubmitting:r}=e;return(0,i.jsxs)(j.lV,{children:[(0,i.jsx)(u.default,{container:!0,spacing:2,children:Object.entries(a).map(e=>{let[t,a]=e;return"id"!==t&&"created_at"!==t&&"updated_at"!==t&&(0,i.jsx)(u.default,{item:!0,xs:12,sm:6,children:H(t,a)},t)})}),(0,i.jsxs)(m.default,{sx:{mt:3,display:"flex",justifyContent:"flex-end"},children:[(0,i.jsx)(f.A,{type:"button",variant:"outlined",onClick:()=>t("/registration/death/list"),sx:{mr:2},children:"Cancel"}),(0,i.jsx)(f.A,{type:"submit",variant:"contained",disabled:r||A.isPending,children:A.isPending?(0,i.jsx)(c.A,{size:24}):"Update"})]})]})}})]})})};function y(){return(0,i.jsx)(C,{})}},83339:(e,t,a)=>{"use strict";a.d(t,{A:()=>h});var i=a(12115),r=a(52596),n=a(15386),l=a(35881),s=a(82700),d=a(57692),o=a(81112);function m(e){return(0,o.Ay)("MuiCardContent",e)}(0,d.A)("MuiCardContent",["root"]);var u=a(95155);let f=e=>{let{classes:t}=e;return(0,n.A)({root:["root"]},m,t)},c=(0,l.Ay)("div",{name:"MuiCardContent",slot:"Root",overridesResolver:(e,t)=>t.root})({padding:16,"&:last-child":{paddingBottom:24}}),h=i.forwardRef(function(e,t){let a=(0,s.b)({props:e,name:"MuiCardContent"}),{className:i,component:n="div",...l}=a,d={...a,component:n},o=f(d);return(0,u.jsx)(c,{as:n,className:(0,r.A)(o.root,i),ownerState:d,ref:t,...l})})}},e=>{var t=t=>e(e.s=t);e.O(0,[5639,16,9344,8250,2225,3740,6987,2073,5062,4821,6448,5976,9487,8441,1684,7358],()=>t(30054)),_N_E=e.O()}]);