"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8130],{6459:(e,a,l)=>{l.d(a,{h:()=>r});var i=l(95155),n=l(52269),t=l(89915);let r=e=>{let{loading:a,children:l,height:r="100%"}=e;return(0,i.jsxs)(n.default,{sx:{position:"relative",width:"100%",height:r},children:[a&&(0,i.jsx)(n.default,{sx:{position:"absolute",top:0,left:0,width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"rgba(255, 255, 255, 0.8)",zIndex:1},children:(0,i.jsx)(t.A,{})}),(0,i.jsx)(n.default,{sx:{opacity:a?.5:1,pointerEvents:a?"none":"auto"},children:l})]})}},42281:(e,a,l)=>{l.d(a,{iE:()=>t,Zt:()=>m,iL:()=>d,f6:()=>o,gX:()=>b,ZM:()=>c,k$:()=>u}),l(16380);var i=l(24752),n=l.n(i);let t=e=>{let{title:a,text:l,icon:i,onConfirm:t,confirmButtonText:r,cancelButtonText:s="Cancel"}=e;n().fire({title:a,text:l,icon:i,showCancelButton:!0,confirmButtonColor:"#006401",confirmButtonText:r,cancelButtonText:s}).then(e=>{e.isConfirmed&&t()})};var r=l(23312),s=l(6314);let o=e=>Object.keys(e).reduce((a,l)=>(a[e[l].name]="",a),{}),b=(e,a)=>Object.keys(e).map(l=>({concept:l,value:e[l],obsDatetime:a})),d=(e,a,l)=>{let i=Object.keys(e).map(a=>({concept:e[a].name,label:e[a].label})),n=a.map(e=>({concept:e.id,label:e.label}));return[...i,...l.map(e=>({concept:e.value,label:e.label})),...n]},m=async e=>(await s.Fh.initialize(),e.map(e=>({concept:r.W.IMAGE_PART_NAME,value:e.label,obsDateTime:s.Fh.getServerTimeString(),groupMembers:e.formData.obs}))),c=function(e,a,l){return arguments.length>3&&void 0!==arguments[3]&&arguments[3],Array.isArray(e)?e.map(e=>({concept:a,value:e.id,obsDatetime:l})):[]},u=async(e,a,l)=>(await s.Fh.initialize(),Object.entries(a).map(a=>{let[i,n]=a,t=Object.keys(e).find(a=>e[a].name===i);if(!t)return null;let r=e[t].name,o=e[t].coded;return Array.isArray(n)&&n.every(e=>e&&void 0!==e.id)?n.map(e=>({key:r,value:e.id,coded:o})):{concept:r,value:n,coded:o,obsDatetime:l||s.Fh.getServerTimeString()}}).flat().filter(Boolean))},74505:(e,a,l)=>{l.d(a,{W:()=>s});var i=l(95155),n=l(18843),t=l(52269),r=l(9670);let s=e=>{var a;let{handleClose:l,anchorEl:s,section:o,selectedSection:b,children:d,width:m="30ch"}=e;return(0,i.jsx)(n.x,{onClose:l,anchorEl:s,anchorOrigin:{vertical:"top",horizontal:"left"},transformOrigin:{vertical:"bottom",horizontal:"right"},children:(0,i.jsxs)(t.default,{sx:{padding:"1ch",width:m},children:[(0,i.jsx)(r.default,{variant:"h5",children:b.label}),(0,i.jsx)(r.default,{children:null==o?void 0:o.notes}),(0,i.jsx)(r.default,{children:null==o||null==(a=o.description)?void 0:a.reduce((e,a)=>e+","+a.id,[""])}),d]})})}},78657:(e,a,l)=>{l.d(a,{ZV:()=>h,u8:()=>P,op:()=>T,sU:()=>el,Wv:()=>X,iE:()=>j,f$:()=>E,lX:()=>N,LT:()=>es,W9:()=>V});var i=l(95155),n=l(59487),t=l(23312),r=l(42281),s=l(52269),o=l(39347),b=l(12115),d=l(37129);let m={description:{name:t.W.DESCRIPTION,label:"Description of Abnormality"},notes:{name:t.W.ADDITIONAL_NOTES,label:"Notes"},specify:{name:t.W.SPECIFY,label:"Specify"}},c=d.Ik().shape({[m.description.name]:d.YO().required().label(m.description.label),[m.notes.name]:d.Yj().required().label(m.notes.label),[m.specify.name]:d.Yj().label(m.specify.label)}),u=[{id:t.W.WOUND,label:"Wound"},{id:t.W.SURGICAL_EMPHAYEMA,label:"Surgical Emphyema"},{id:t.W.RIB_DEFORMITY,label:"Rib Deformity"},{id:t.W.FAIL_CHEST,label:"Frail chest"},{id:t.W.OTHER,label:"Other"}],h=e=>{let[a,l]=(0,b.useState)(!1);return(0,i.jsxs)(n.PD,{validationSchema:c,initialValues:(0,r.f6)(m),onSubmit:a=>e.onSubmit(a,(0,r.iL)(m,u,[])),submitButton:!1,submitButtonText:"next",children:[(0,i.jsx)(n.A8,{multiline:!0,rows:2,sx:{width:"100%"},id:m.notes.name,name:m.notes.name,label:m.notes.label}),(0,i.jsx)(n.el,{getValue:e=>{console.log({objects:e}),e&&l(!!e.find(e=>e.id==t.W.OTHER))},name:m.description.name,label:m.description.label,options:u}),(0,i.jsx)("br",{}),a&&(0,i.jsx)(n.A8,{sx:{width:"100%"},multiline:!0,rows:3,id:m.specify.name,name:m.specify.name,label:m.specify.label}),(0,i.jsx)("br",{}),(0,i.jsxs)(s.default,{sx:{display:"flex",gap:"0.2ch"},children:[(0,i.jsx)(o.A,{type:"submit",sx:{borderRadius:"1px"},variant:"contained",fullWidth:!0,children:"Submit"}),(0,i.jsx)(o.A,{sx:{borderRadius:"1px"},fullWidth:!0,onClick:e.onCancel,children:"Cancel"})]})]})},p={description:{name:t.W.DESCRIPTION,label:"Description"}},x=[{id:"Deformity",label:"Deformity"},{id:"Crepitus",label:"Crepitus"},{id:"Tenderness",label:"Tenderness"}],S=d.Ik().shape({[p.description.name]:d.Yj().required().label(p.description.label)}),j=e=>(0,i.jsxs)(n.PD,{validationSchema:S,initialValues:(0,r.f6)(p),onSubmit:a=>e.onSubmit(a,(0,r.iL)(p,x,[])),submitButton:!1,submitButtonText:"next",children:[(0,i.jsx)(n.el,{multiple:!1,name:p.description.name,label:p.description.label,options:x}),(0,i.jsx)("br",{}),(0,i.jsxs)(s.default,{sx:{display:"flex",gap:"0.2ch"},children:[(0,i.jsx)(o.A,{type:"submit",sx:{borderRadius:"1px"},variant:"contained",fullWidth:!0,children:"Submit"}),(0,i.jsx)(o.A,{sx:{borderRadius:"1px"},fullWidth:!0,onClick:e.onCancel,children:"Cancel"})]})]}),f={other:{name:t.W.OTHER,label:"Specify"},abnormalities:{name:t.W.ABNORMALITIES,label:"Abnormalities"},abnormality:{name:t.W.ABNORMALITIES_PRESENT,label:"Are there abnormalities on this Region"}},A=d.Ik().shape({[f.other.name]:d.Yj().label(f.other.label),[f.abnormalities.name]:d.YO().label(f.abnormalities.label)}),W=[{id:t.W.TENDERNESS,label:"Tenderness"},{id:t.W.LACERATION,label:"Laceration"},{id:t.W.STAB_PUNCTURE,label:"Stab/Puncture"},{id:t.W.BRUISE,label:"Bruise"},{id:t.W.BURNS,label:"Burns"},{id:t.W.OTHER,label:"Other"}],D=[{value:t._Y,label:"Yes"},{value:t.NO,label:"No"}],E=e=>{let[a,l]=(0,b.useState)(!1),[d,m]=(0,b.useState)({});return(0,i.jsxs)(n.PD,{validationSchema:A,initialValues:(0,r.f6)(f),onSubmit:a=>e.onSubmit(a,(0,r.iL)(f,W,D)),submitButton:!1,submitButtonText:"next",children:[(0,i.jsx)(n.fP,{getValues:m}),(0,i.jsx)(i.Fragment,{children:(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.el,{name:f.abnormalities.name,label:f.abnormalities.label,options:W}),(0,i.jsx)("br",{}),Array.isArray(d[f.abnormalities.name])&&d[f.abnormalities.name].find(e=>e.id==t.W.OTHER)&&(0,i.jsx)(n.A8,{multiline:!0,rows:5,sx:{width:"100%"},name:f.other.name,label:f.other.label,id:f.other.name})]})}),(0,i.jsxs)(s.default,{sx:{display:"flex",gap:"0.2ch"},children:[(0,i.jsx)(o.A,{type:"submit",sx:{borderRadius:"1px"},variant:"contained",fullWidth:!0,children:"Submit"}),(0,i.jsx)(o.A,{sx:{borderRadius:"1px"},fullWidth:!0,onClick:e.onCancel,children:"Cancel"})]})]})},R={description:{name:t.W.DESCRIPTION,label:"Description"},notes:{name:t.W.ADDITIONAL_NOTES,label:"Notes"},specify:{name:t.W.SPECIFY,label:"Specify"}},y=d.Ik().shape({[R.description.name]:d.YO().required().label(R.description.label),[R.notes.name]:d.Yj().required().label(R.notes.label),[R.specify.name]:d.Yj().label(R.specify.label)}),I=[{id:t.W.WOUND,label:"Wound"},{id:t.W.SURGICAL_EMPHYSEMA,label:"Surgical Emphysema"},{id:t.W.RIB_DEFORMITY,label:"Rib Deformity"},{id:t.W.SCAR,label:"Scar"},{id:t.W.FAIL_CHEST,label:"Flail chest"},{id:t.W.INTERCOSTAL_DRAINAGE,label:"Intercostal drain situ"},{id:t.W.OTHER,label:"Other"}],T=e=>{let[a,l]=(0,b.useState)(!1);return(0,i.jsxs)(n.PD,{validationSchema:y,initialValues:(0,r.f6)(R),onSubmit:a=>e.onSubmit(a,(0,r.iL)(R,I,[])),submitButton:!1,submitButtonText:"next",children:[(0,i.jsx)(n.el,{getValue:e=>{e&&l(!!e.find(e=>e.id==t.W.OTHER))},name:R.description.name,label:R.description.label,options:I}),a&&(0,i.jsx)(n.A8,{sx:{width:"100%"},id:R.specify.name,name:R.specify.name,label:R.specify.label}),(0,i.jsx)(n.A8,{multiline:!0,rows:2,sx:{width:"100%"},id:R.notes.name,name:R.notes.name,label:R.notes.label}),(0,i.jsx)("br",{}),(0,i.jsxs)(s.default,{sx:{display:"flex",gap:"0.2ch"},children:[(0,i.jsx)(o.A,{type:"submit",sx:{borderRadius:"1px"},variant:"contained",fullWidth:!0,children:"Submit"}),(0,i.jsx)(o.A,{sx:{borderRadius:"1px"},fullWidth:!0,onClick:e.onCancel,children:"Cancel"})]})]})},O={abnormalities:{name:t.W.ABNORMALITIES,label:"Description of Abnormality"}},C=d.Ik().shape({[t.W.ABNORMALITIES]:d.Yj().required().label(O.abnormalities.label)}),L=[{id:t.W.HYPERRESONANT,label:"Hyperresonant"},{id:t.W.DULL,label:"Dull"},{id:t.W.STONY_DULL,label:"Stony Dull"}],N=e=>(0,i.jsxs)(n.PD,{validationSchema:C,initialValues:(0,r.f6)(O),onSubmit:a=>e.onSubmit(a,(0,r.iL)(O,L,[])),submitButton:!1,submitButtonText:"next",children:[(0,i.jsx)("br",{}),(0,i.jsx)(n.el,{multiple:!1,name:O.abnormalities.name,label:O.abnormalities.label,options:L,coded:!0}),(0,i.jsx)("br",{}),(0,i.jsxs)(s.default,{sx:{display:"flex",gap:"0.2ch"},children:[(0,i.jsx)(o.A,{type:"submit",sx:{borderRadius:"1px"},variant:"contained",fullWidth:!0,children:"Submit"}),(0,i.jsx)(o.A,{sx:{borderRadius:"1px"},fullWidth:!0,onClick:e.onCancel,children:"Cancel"})]})]}),v={breathSounds:{name:t.W.BREATHING_SOUNDS,label:"Breath Sounds"},addedBreathSounds:{name:t.W.ADDED_BREATH_SOUNDS,label:"Check for added breath sounds"},breathSoundsList:{name:t.W.BREATH_SOUNDS,label:"Select added breath sounds"},vocalFremitus:{name:t.W.VOCAL_FREMITUS,label:"Vocal Fremitus"},abnormalities:{name:t.W.ABNORMALITIES,label:"Description of Abnormality"},specify:{name:t.W.SPECIFY,label:"Specify"},added:{name:t.W.ADDED,label:"Added Sounds"}},g=d.Ik().shape({[v.abnormalities.name]:d.Yj().label(v.abnormalities.label),[v.specify.name]:d.Yj().label(v.specify.label),[v.added.name]:d.YO().label(v.added.label),[v.breathSounds.name]:d.Yj().required().label(v.breathSounds.label),[v.breathSoundsList.name]:d.YO().label(v.breathSoundsList.label),[v.vocalFremitus.name]:d.Yj().required().label(v.vocalFremitus.label),[v.addedBreathSounds.name]:d.Yj().label(v.addedBreathSounds.label)}),w=[{id:t.W.ABSENT,label:"Absent"},{id:t.W.REDUCED,label:"Reduced Sounds"},{id:t.W.ADDED,label:"Added Sounds"},{id:t.W.OTHER,label:"Others"}],Y=[{id:t.W.CRACKLES,label:"Crackles"},{id:t.W.WHEEZES,label:"Wheezes"},{id:t.W.BRONCHIAL,label:"Bronchial"},{id:t.W.OTHER,label:"Other"}],B=[{label:"Normal",value:t.W.NORMAL},{label:"Abnormal",value:t.W.ABNORMAL},{label:"Absent",value:t.W.ABSENT},{label:"Reduced",value:t.W.REDUCED},{label:"Added",value:t.W.ADDED}],_=[{value:t.W.NORMAL,label:"Normal"},{value:t.W.REDUCED,label:"Reduced"},{value:t.W.INCREASED,label:"Increased"}],P=e=>{let[a,l]=(0,b.useState)(!1),[d,m]=(0,b.useState)(!1),[c,u]=(0,b.useState)({});return(0,i.jsxs)(n.PD,{validationSchema:g,initialValues:(0,r.f6)(v),onSubmit:a=>e.onSubmit(a,(0,r.iL)(v,w,[..._,...B])),submitButton:!1,submitButtonText:"next",children:[(0,i.jsx)(n.fP,{getValues:u}),(0,i.jsx)(n.b1,{row:!0,name:v.breathSounds.name,label:v.breathSounds.label,options:B}),(c[v.breathSounds.name]==t.W.REDUCED||c[v.breathSounds.name]==t.W.ADDED)&&(0,i.jsxs)(i.Fragment,{children:[c[v.breathSounds.name]==t.W.REDUCED&&(0,i.jsx)(n.b1,{row:!0,name:v.addedBreathSounds.name,label:v.addedBreathSounds.label,options:[{label:"YES",value:t.W.YES},{label:"NO",value:t.W.NO}]}),(c[v.addedBreathSounds.name]==t.W.YES||c[v.breathSounds.name]==t.W.ADDED)&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.el,{name:v.breathSoundsList.name,label:v.breathSoundsList.label,options:Y,multiple:!0}),Array.isArray(c[v.breathSoundsList.name])&&c[v.breathSoundsList.name].find(e=>e.id==t.W.OTHER)&&(0,i.jsx)(n.A8,{name:v.specify.name,label:v.specify.label,id:v.specify.label,multiline:!0,rows:5,sx:{width:"100%"}})]})]}),(0,i.jsx)(n.b1,{row:!0,name:v.vocalFremitus.name,label:v.vocalFremitus.label,options:_}),(0,i.jsxs)(s.default,{sx:{display:"flex",gap:"0.2ch"},children:[(0,i.jsx)(o.A,{type:"submit",sx:{borderRadius:"1px"},variant:"contained",fullWidth:!0,children:"Submit"}),(0,i.jsx)(o.A,{sx:{borderRadius:"1px"},fullWidth:!0,onClick:e.onCancel,children:"Cancel"})]})]})};var F=l(9670);let U={abnormalities:{name:t.W.ABNORMALITIES,label:"Abnormalities"},burnsDescription:{name:t.W.DESCRIPTION,label:"Burns description"},lacerationLength:{name:t.W.LACERATION_LENGTH,label:"Laceration Length"},lacerationDepth:{name:t.W.LACERATION_DEPTH,label:"Laceration Depth"},lacerationOther:{name:t.W.LACERATION_OTHER,label:"Laceration Other Descriptors"},scarDescription:{name:t.W.OTHER_MASSES_DESCRIPTION,label:"Scar description"},other:{name:t.W.OTHER,label:"Other"}},k=d.Ik().shape({[U.abnormalities.name]:d.YO().required().label(U.abnormalities.label),[U.burnsDescription.name]:d.Yj().label(U.burnsDescription.label),[U.scarDescription.name]:d.Yj().label(U.scarDescription.label),[U.other.name]:d.Yj().label(U.other.label)}),H=[{id:t.W.LACERATION,label:"Laceration"},{id:t.W.STAB_PUNCTURE,label:"Stab/Puncture"},{id:t.W.BRUISE,label:"Bruise"},{id:t.W.BURNS,label:"Burns"},{id:t.W.SCAR,label:"Scar"},{id:t.W.FLAT,label:"Flat (Normal)"},{id:t.W.DISTENDED,label:"Distended (Notes appearance: Abdomen Distended)"},{id:t.W.ASYMMETRICAL,label:"Asymmetrical (Notes appearance: Abdomen Asymmetrical)"},{id:t.W.SURGICAL_SCAR,label:"Surgical Scar"},{id:t.W.STRETCH_MARKS,label:"Stretch marks (striae)"},{id:t.W.DISCOLORATION,label:"Discoloration"},{id:t.W.DILATED_VEINS,label:"Dilated veins"},{id:t.W.HERNIA,label:"Hernia"},{id:t.W.STOMA,label:"Stoma"},{id:t.W.VISIBLE_PULSATION,label:"Visible Pulsation"},{id:t.W.MASS,label:"Mass"},{id:t.W.ROUNDED,label:"Rounded"},{id:t.W.PROTUBERANT,label:"Protuberant"},{id:t.W.SCAPHOID,label:"Scaphoid"},{id:t.W.OTHER,label:"Other"}],M=[{value:t.W.SUPERFICIAL,label:"Superficial"},{value:t.W.PARTIAL,label:"Partial Thickness"},{value:t.W.FULL_THICKNESS,label:"Full Thickness"}],V=e=>{let[a,l]=(0,b.useState)(!1),[d,m]=(0,b.useState)(!1),[c,u]=(0,b.useState)(!1),[h,p]=(0,b.useState)(!1);return(0,i.jsxs)(n.PD,{validationSchema:k,initialValues:(0,r.f6)(U),onSubmit:a=>e.onSubmit(a,(0,r.iL)(U,H,M)),submitButton:!1,submitButtonText:"next",children:[(0,i.jsx)(n.el,{name:U.abnormalities.name,label:U.abnormalities.label,options:H,getValue:e=>{l(!!e.find(e=>e.id==t.W.BURNS)),m(!!e.find(e=>e.id==t.W.LACERATION)),u(!!e.find(e=>e.id==t.W.SCAR)),p(!!e.find(e=>e.id==t.W.OTHER))}}),d&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("br",{}),(0,i.jsxs)(n.f_,{children:[(0,i.jsx)(F.default,{variant:"subtitle2",children:"Laceration"}),(0,i.jsxs)(n.Vp,{mr:"2px",children:[(0,i.jsx)(n.A8,{sx:{width:"100%"},id:U.lacerationLength.name,name:U.lacerationLength.name,label:U.lacerationLength.label}),(0,i.jsx)(n.A8,{sx:{width:"100%"},id:U.lacerationDepth.name,name:U.lacerationDepth.name,label:U.lacerationDepth.label})]}),(0,i.jsx)(n.A8,{sx:{width:"100%"},id:U.lacerationOther.name,name:U.lacerationOther.name,label:U.lacerationOther.label})]})]}),a&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("br",{}),(0,i.jsxs)(n.f_,{children:[(0,i.jsx)(F.default,{variant:"h6",children:"Burns"}),(0,i.jsx)(n.b1,{row:!0,options:M,name:U.burnsDescription.name,label:U.burnsDescription.label})]})]}),c&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("br",{}),(0,i.jsxs)(n.f_,{children:[(0,i.jsx)(F.default,{variant:"h6",children:"Scar Description"}),(0,i.jsx)(n.A8,{sx:{width:"100%"},id:U.scarDescription.name,name:U.scarDescription.name,label:U.scarDescription.label})]})]}),h&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("br",{}),(0,i.jsxs)(n.f_,{children:[(0,i.jsx)(F.default,{variant:"h6",children:"Other"}),(0,i.jsx)(n.A8,{sx:{width:"100%"},id:U.other.name,name:U.other.name,label:U.other.label})]})]}),(0,i.jsx)("br",{}),(0,i.jsxs)(s.default,{sx:{display:"flex",gap:"0.2ch"},children:[(0,i.jsx)(o.A,{type:"submit",sx:{borderRadius:"1px"},variant:"contained",fullWidth:!0,children:"Submit"}),(0,i.jsx)(o.A,{sx:{borderRadius:"1px"},fullWidth:!0,onClick:e.onCancel,children:"Cancel"})]})]})},q={deformity:{name:t.W.DEFORMITY,label:"Deformity"},deformityDescription:{name:t.W.DEFORMITY_DESCRIPTION,label:"Deformity Description"},fracture:{name:t.W.FRACTURE,label:"Fracture"},fractureDescription:{name:t.W.FRACTURE_DESCRIPTION,label:"Fracture Description"},burns:{name:t.W.BURNS,label:"Burns"},burnsDescription:{name:t.W.BURNS_DESCRIPTION,label:"Burns Description"},mass:{name:t.W.MASS,label:"Mass"},tenderness:{name:t.W.TENDERNESS,label:"Tenderness"},crepitus:{name:t.W.CREPITUS,label:"Crepitus"},massDescription:{name:t.W.MASS_DESCRIPTION,label:"Mass Description"},laceration:{name:t.W.LACERATION,label:"Laceration"},lacerationLength:{name:t.W.LACERATION_LENGTH,label:"Laceration Length"},lacerationDepth:{name:t.W.LACERATION_DEPTH,label:"Laceration Depth"},lacerationOther:{name:t.W.LACERATION_OTHER,label:"Laceration Other Descriptors"},scars:{name:t.W.SCARS,label:"scars"},rash:{name:t.W.RASH,label:"Rash"},wound:{name:t.W.WOUND,label:"Wound"},swelling:{name:t.W.SWELLING,label:"Swelling"},other:{name:t.W.OTHER,label:"Other"},rashDescription:{name:t.W.DESCRIPTION,label:"Rash Description"}},G=d.Ik().shape({[q.deformity.name]:d.Yj().required().label(q.deformity.label),[q.deformityDescription.name]:d.Yj().label(q.deformityDescription.label),[q.fracture.name]:d.Yj().required().label(q.fracture.label),[q.fractureDescription.name]:d.Yj().label(q.fractureDescription.label),[q.crepitus.name]:d.Yj().required().label(q.crepitus.label),[q.mass.name]:d.Yj().required().label(q.mass.label),[q.massDescription.name]:d.Yj().label(q.massDescription.label),[q.laceration.name]:d.Yj().required().label(q.laceration.label),[q.lacerationDepth.name]:d.Yj().label(q.lacerationDepth.label),[q.lacerationLength.name]:d.Yj().label(q.lacerationLength.label),[q.lacerationOther.name]:d.Yj().label(q.lacerationOther.label),[q.scars.name]:d.Yj().required().label(q.scars.label),[q.rash.name]:d.Yj().required().label(q.rash.label),[q.wound.name]:d.Yj().required().label(q.wound.label),[q.swelling.name]:d.Yj().required().label(q.swelling.label),[q.other.name]:d.Yj().label(q.other.label),[q.rashDescription.name]:d.Yj().label(q.rashDescription.label)}),z=[{value:t.W.SUPERFICIAL,label:"Superficial"},{value:t.W.PARTIAL,label:"Partial Thickness"},{value:t.W.FULL_THICKNESS,label:"Full Thickness"}],K=[{value:t._Y,label:"YES"},{value:t.NO,label:"NO"}],Z=(0,r.f6)(q),X=e=>{let[a,l]=(0,b.useState)({});return(0,i.jsxs)(n.PD,{validationSchema:G,initialValues:Z,onSubmit:a=>e.onSubmit(a,(0,r.iL)(q,[],K)),submitButton:!1,submitButtonText:"next",children:[(0,i.jsx)(n.fP,{getValues:l}),(0,i.jsxs)(n.m2,{children:[(0,i.jsx)(n.b1,{row:!0,options:K,name:q.deformity.name,label:q.deformity.label}),(0,i.jsx)(n.b1,{row:!0,options:K,name:q.fracture.name,label:q.fracture.label})]}),a[q.deformity.name]==t._Y&&(0,i.jsx)(n.A8,{multiline:!0,rows:4,sx:{width:"100%"},id:q.deformityDescription.name,label:q.deformityDescription.label,name:q.deformityDescription.name}),a[q.fracture.name]==t._Y&&(0,i.jsx)(n.A8,{multiline:!0,rows:4,sx:{width:"100%"},id:q.fractureDescription.name,label:q.fractureDescription.label,name:q.fractureDescription.name}),(0,i.jsxs)(n.m2,{children:[(0,i.jsx)(n.b1,{row:!0,options:K,name:q.crepitus.name,label:q.crepitus.label}),(0,i.jsx)(n.b1,{row:!0,options:K,name:q.tenderness.name,label:q.tenderness.label})]}),(0,i.jsxs)(n.m2,{children:[(0,i.jsx)(n.b1,{row:!0,options:K,name:q.rash.name,label:q.rash.label}),(0,i.jsx)(n.b1,{row:!0,options:K,name:q.scars.name,label:q.scars.label})]}),a[q.rash.name]==t._Y&&(0,i.jsx)(n.A8,{multiline:!0,rows:4,sx:{width:"100%"},id:q.rashDescription.name,label:q.rashDescription.label,name:q.rashDescription.name}),(0,i.jsxs)(n.m2,{children:[(0,i.jsx)(n.b1,{row:!0,options:K,name:q.burns.name,label:q.burns.label}),(0,i.jsx)(n.b1,{row:!0,options:K,name:q.mass.name,label:q.mass.label})]}),a[q.burns.name]==t._Y&&(0,i.jsx)(n.b1,{row:!0,options:z,label:q.burnsDescription.label,name:q.burnsDescription.name}),a[q.mass.name]==t._Y&&(0,i.jsx)(n.A8,{multiline:!0,rows:4,sx:{width:"100%"},id:q.massDescription.name,name:q.massDescription.name,label:q.massDescription.label}),(0,i.jsxs)(n.m2,{children:[(0,i.jsx)(n.b1,{row:!0,options:K,name:q.wound.name,label:q.wound.label}),(0,i.jsx)(n.b1,{row:!0,options:K,name:q.swelling.name,label:q.swelling.label})]}),(0,i.jsx)(n.b1,{row:!0,options:K,name:q.laceration.name,label:q.laceration.label}),a[q.laceration.name]==t._Y&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.A8,{sx:{width:"100%"},id:q.lacerationLength.name,name:q.lacerationLength.name,label:q.lacerationLength.label}),(0,i.jsx)(n.A8,{sx:{width:"100%"},id:q.lacerationDepth.name,name:q.lacerationDepth.name,label:q.lacerationDepth.label}),(0,i.jsx)(n.A8,{sx:{width:"100%"},id:q.lacerationOther.name,name:q.lacerationOther.name,label:q.lacerationOther.label})]}),(0,i.jsx)(n.A8,{multiline:!0,rows:4,sx:{width:"100%"},id:q.other.name,label:q.other.label,name:q.other.name}),(0,i.jsxs)(s.default,{sx:{display:"flex",gap:"0.2ch"},children:[(0,i.jsx)(o.A,{type:"submit",sx:{borderRadius:"1px"},variant:"contained",fullWidth:!0,children:"Submit"}),(0,i.jsx)(o.A,{sx:{borderRadius:"1px"},fullWidth:!0,onClick:e.onCancel,children:"Cancel"})]})]})};var $=l(53494),J=l(20837),Q=l(55253),ee=l(20291);let ea=e=>/^[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i.test(e),el=e=>{let{labelValue:a,maxWidth:l="250px",onDelete:n}=e,[t,r]=(0,b.useState)(!1),d=e=>{if(Array.isArray(e))return e.reduce((e,a,l)=>"".concat(e).concat(0===l?"":", ").concat(a.label),"");let a=e;return ea(e)&&(a=ee.qQ.getQueryData([e])),a};return(0,i.jsxs)(s.default,{maxWidth:t?"100%":l,flexGrow:+!!t,sx:{width:"100%",minWidth:"250px",transition:"max-width 0.3s ease",border:"1px solid #E0E0E0",borderRadius:"8px",boxShadow:"0px 4px 12px rgba(0, 0, 0, 0.1)",m:"8px 2px",bgcolor:"white"},children:[(0,i.jsxs)(s.default,{display:"flex",alignItems:"center",justifyContent:"space-between",p:"16px",sx:{cursor:"pointer"},onClick:()=>{r(!t)},children:[(0,i.jsx)(F.default,{variant:"h6",fontWeight:"600",children:a.section}),(0,i.jsx)($.default,{size:"small","aria-label":"expand",children:t?(0,i.jsx)(Q.Ucs,{}):(0,i.jsx)(Q.Vr3,{})})]}),(0,i.jsxs)(J.A,{in:t,timeout:"auto",unmountOnExit:!0,children:[(0,i.jsx)(s.default,{p:"16px",children:a.formValues.map((e,a)=>{let{label:l,value:n}=e;return(0,i.jsxs)(s.default,{display:"flex",alignItems:"flex-start",justifyContent:"space-between",my:1,borderBottom:"1px solid #F0F0F0",py:1,children:[(0,i.jsxs)(F.default,{variant:"body2",fontWeight:"500",color:"textSecondary",flex:"1",children:[l,":"]}),(0,i.jsx)(F.default,{variant:"body2",flex:"2",ml:2,color:"textPrimary",whiteSpace:"normal",children:d(n)})]},a)})}),n&&(0,i.jsx)(o.A,{sx:{color:"red"},onClick:n,children:"Delete"})]})]})},ei={rush:{name:t.W.SKIN_RASH,label:"Is there Rash on this region?"},description:{name:t.W.DESCRIPTION,label:"Description of Rush"},notes:{name:t.W.ADDITIONAL_NOTES,label:"Additional Notes"},skinAbnormalities:{name:t.W.ABNORMALITIES,label:"Are there Other Skin Abnormalities"},abnormalityDescription:{name:t.W.ABNORMALITY_DESCRIPTION,label:"Description of Other Skin Abnormalities"},injury:{name:t.W.INJURY,label:"is there an injury on this region?"},descriptionOfInjury:{name:t.W.DESCRIPTION_OF_INJURY,label:"Description of Injury"}},en=d.Ik().shape({[ei.description.name]:d.YO().label(ei.description.label),[ei.notes.name]:d.Yj().label(ei.notes.label),[ei.rush.name]:d.Yj().required().label(ei.rush.label),[ei.skinAbnormalities.name]:d.Yj().required().label(ei.skinAbnormalities.label),[ei.abnormalityDescription.name]:d.Yj().label(ei.abnormalityDescription.label),[ei.injury.name]:d.Yj().required().label(ei.injury.label),[ei.descriptionOfInjury.name]:d.Yj().label(ei.descriptionOfInjury.label)}),et=[{id:t.W.BRUISE,label:"Bruise"},{id:t.W.PETECHIAE,label:"Petechiae"},{id:t.W.URTICARIA,label:"Urtcaria"},{id:t.W.BURNS,label:"Burns"},{id:t.W.BITE,label:"Bite"},{id:t.W.STING,label:"Sting"},{id:t.W.MACULE,label:"Macule"},{id:t.W.PAPULE,label:"Papule"},{id:t.W.VESICLE,label:"Vesicle"},{id:t.W.PUSTULE,label:"Pustule"},{id:t.W.SCALE,label:"Scale"}],er=[{value:t.W.YES,label:"Yes"},{value:t.W.NO,label:"No"}],es=e=>{let[a,l]=(0,b.useState)(!1),[d,m]=(0,b.useState)(!1),[c,u]=(0,b.useState)(!1);return(0,i.jsxs)(n.PD,{validationSchema:en,initialValues:(0,r.f6)(ei),onSubmit:a=>e.onSubmit(a,(0,r.iL)(ei,et,er)),submitButton:!1,submitButtonText:"next",children:[(0,i.jsx)(n.b1,{options:er,name:ei.rush.name,label:ei.rush.label,getValue:e=>l(e===t.W.YES),row:!0}),a&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.el,{name:ei.description.name,label:ei.description.label,options:et,coded:!0}),(0,i.jsx)(n.A8,{sx:{width:"100%",mt:"1ch"},name:ei.notes.name,label:ei.notes.label,id:ei.notes.name}),(0,i.jsx)("br",{})]}),(0,i.jsx)(n.b1,{options:er,name:ei.skinAbnormalities.name,label:ei.skinAbnormalities.label,getValue:e=>m(e===t.W.YES),row:!0}),d&&(0,i.jsx)(i.Fragment,{children:(0,i.jsx)(n.A8,{rows:3,multiline:!0,sx:{width:"100%"},name:ei.abnormalityDescription.name,label:ei.abnormalityDescription.label,id:""})}),(0,i.jsx)(n.b1,{options:er,name:ei.injury.name,label:ei.injury.label,getValue:e=>u(e===t.W.YES),row:!0}),c&&(0,i.jsx)(i.Fragment,{children:(0,i.jsx)(n.A8,{rows:3,multiline:!0,sx:{width:"100%"},name:ei.descriptionOfInjury.name,label:ei.descriptionOfInjury.label,id:""})}),(0,i.jsxs)(s.default,{sx:{display:"flex",gap:"0.2ch"},children:[(0,i.jsx)(o.A,{type:"submit",sx:{borderRadius:"1px"},variant:"contained",fullWidth:!0,children:"Submit"}),(0,i.jsx)(o.A,{sx:{borderRadius:"1px"},fullWidth:!0,onClick:e.onCancel,children:"Cancel"})]})]})}},88296:(e,a,l)=>{l.d(a,{s:()=>s});var i=l(49262),n=l(12115),t=l(70482),r=l(23312);let s=()=>{let{ServerTime:e}=(0,i.useServerTime)(),{submittedValues:a,setData:l,setSubmittedValues:s}=(0,t.HX)(),{activeVisit:o,patientId:b}=(0,t.gd)(),d=(0,n.useRef)(null),[m,c]=(0,n.useState)([]),[u,h]=(0,n.useState)(0),[p,x]=(0,n.useState)(null),[S,j]=(0,n.useState)({id:"",label:""}),[f,A]=(0,n.useState)(null),[W,D]=(0,n.useState)(""),E="#708090",R=e=>{let a=e.currentTarget;D(a.id),A(a),a.style.opacity="0.5",a.style.fill=E,a.style.cursor="pointer"},y=e=>{let a=e.currentTarget;a.style.opacity="",a.style.fill="",h(e=>e+1)},I=e=>{let a=e.currentTarget,l=a.getAttribute("data-label"),i=a.id;x(a),j({id:i,label:l})},T=(e,a,l)=>{if(d.current){let i=d.current.getElementById(e);i&&(i.style.fill=a,i.style.opacity=l)}},O=()=>{m.forEach(e=>{e.id&&T(e.id,E,"0.5")})};(0,n.useEffect)(()=>{O()},[m,u]),(0,n.useEffect)(()=>{S.id&&T(S.id,E,"0.5")},[S,u]),(0,n.useEffect)(()=>{let e=[];if(d.current){let a=d.current.querySelector("#BODY_PART");a&&(e=[...Array.from(a.querySelectorAll("path")),...Array.from(a.querySelectorAll("polygon"))]).forEach(e=>{e.style.fill="",e.style.opacity="",e.style.stroke="",e.addEventListener("mouseleave",y),e.addEventListener("mouseenter",R),e.addEventListener("click",I)})}return()=>{e.forEach(e=>{e.removeEventListener("mouseleave",y),e.removeEventListener("mouseenter",R),e.removeEventListener("click",I)})}},[]);let C=()=>{x(null),S.id&&T(S.id,"","0"),j({id:null,label:null}),O()},L=m.find(e=>e.id===S.id);return{handleClose:C,handleFormSubmit:a=>{let l=e.getServerTimeString(),i=Object.keys(a).flatMap(e=>{let i=a[e];return Array.isArray(i)?i.map(a=>({concept:e,value:a.id,obsDatetime:l})):{concept:e,value:i,obsDatetime:l}}).filter(e=>""!==e.value),n={encounterDateTime:l,visit:o,patient:b,encounterType:S.id,obs:[...i,{concept:r.W.IMAGE_PART_NAME,value:S.label,obsDatetime:l}]};c(e=>[...e,{...S,formData:n}]),C()},containerRef:d,selectedSection:S,setSelectedSection:j,section:L,anchorEl:p,setAnchorEl:x,highlightSection:T,highlightAllSelectedSections:O,setIds:c,ids:m,deselectSection:()=>{c(e=>e.filter(e=>e.id!==S.id)),C()},deleteSection:e=>{c(a=>a.filter(a=>a.label!==e)),s(a=>a.filter(a=>a.section!==e)),O()},setData:l,submittedValues:a}}}}]);